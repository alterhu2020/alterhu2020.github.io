webpackJsonp([12],{'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-633e339c","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/ProjectManage.vue':function(e,t){},'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-69ac472c","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/selector/index.vue':function(e,t){},'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-a1f448d2","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/x-hr/index.vue':function(e,t){},'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-b2f34adc","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/step/step.vue':function(e,t){},"./node_modules/vux/src/components/selector/index.vue":function(e,t,o){"use strict";var s=o("./node_modules/babel-runtime/helpers/typeof.js"),i=o.n(s),n=o("./node_modules/array-find/find.js"),a=o.n(n),r=o("./node_modules/vux/src/mixins/uuid.js"),l=o("./node_modules/vux/src/libs/clean-style.js"),c=(r.a,l.a,String,String,Array,String,String,Boolean,String,Number,Object,Boolean,Array,{name:"selector",mixins:[r.a],created:function(){void 0!==this.value&&(this.currentValue=this.value)},beforeMount:function(){this.isIOS=/iPad|iPhone|iPod/.test(window.navigator.userAgent)},computed:{fixIos:function(){return!this.placeholder&&this.isEmptyValue(this.value)&&this.isIOS&&this.title},color:function(){return this.showPlaceholder?"#A9A9A9":""},processOptions:function(){var e=this;if(!this.options.length)return[];var t="object"===i()(this.options[0]);return t&&!this.valueMap?this.options:t&&this.valueMap?this.options.map(function(t){return{key:t[e.valueMap[0]],value:t[e.valueMap[1]]}}):this.options.map(function(e){return{key:e,value:e}})},showPlaceholder:function(){return this.isEmptyValue(this.value)&&this.placeholder},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{isEmptyValue:function(e){return void 0===e||""===e||null===e},cleanStyle:l.a,getFullValue:function(){var e=this;return this.value&&this.options.length?"object"===i()(this.options[0])?this.valueMap?this.options.filter(function(t){return t[e.valueMap[0]]===e.value}):this.options.filter(function(t){return t.key===e.value}):this.value:null}},filters:{findByKey:function(e,t){var o=a()(t,function(t){return t.key===e});return o?o.value:e}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},props:{title:String,direction:String,options:{type:Array,required:!0},name:String,placeholder:String,readonly:Boolean,value:[String,Number,Object,Boolean],valueMap:{type:Array,validator:function(e){return e.length&&2===e.length||!1}}},data:function(){return{currentValue:"",isIOS:!1}}}),u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vux-selector weui-cell",class:{"weui-cell_select":!e.readonly,"weui-cell_select-after":e.title}},[e.title?o("div",{staticClass:"weui-cell__hd"},[o("label",{staticClass:"weui-label",class:e.labelClass,style:e.cleanStyle({width:e.$parent.labelWidth,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight}),attrs:{for:"vux-selector-"+e.uuid},domProps:{innerHTML:e._s(e.title)}})]):e._e(),e._v(" "),e.readonly?o("div",{staticClass:"weui-cell__ft vux-selector-readonly"},[e._v("\n    "+e._s(e._f("findByKey")(e.value,e.processOptions))+"\n  ")]):o("div",{staticClass:"weui-cell__bd"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-select",style:e.cleanStyle({direction:e.direction,color:e.color}),attrs:{id:"vux-selector-"+e.uuid,name:e.name},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.currentValue=t.target.multiple?o:o[0]}}},[e.showPlaceholder?o("option",{domProps:{value:null===e.value?"null":"",selected:e.isEmptyValue(e.value)&&!!e.placeholder}},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.fixIos?o("option",{attrs:{disabled:""}}):e._e(),e._v(" "),e._l(e.processOptions,function(t){return o("option",{domProps:{value:t.key}},[e._v(e._s(t.value))])})],2)])])},staticRenderFns:[]};var d=o("./node_modules/vue-loader/lib/component-normalizer.js")(c,u,!1,function(e){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-69ac472c","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/selector/index.vue')},null,null);t.a=d.exports},"./src/pages/ProjectManage.vue":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("./node_modules/vux/src/components/badge/index.vue"),i=o("./node_modules/vux/src/components/card/index.vue"),n=o("./node_modules/vux/src/components/checklist/index.vue"),a=o("./node_modules/vux/src/components/datetime/index.vue"),r=o("./node_modules/vux/src/components/divider/index.vue"),l=o("./node_modules/vux/src/components/flexbox/flexbox.vue"),c=o("./node_modules/vux/src/components/flexbox/flexbox-item.vue"),u=o("./node_modules/vux/src/components/group-title/index.vue"),d=o("./node_modules/vux/src/components/load-more/index.vue"),p=o("./node_modules/vux/src/components/popup/index.vue"),h=o("./node_modules/vux/src/components/popup-picker/index.vue"),v=o("./node_modules/vux/src/components/popup-radio/index.vue"),m=o("./node_modules/vux/src/components/selector/index.vue"),y=(Number,String,String,{name:"step",props:{value:Number,backgroundColor:{type:String,default:"#fff"},gutter:{type:String,default:"10px"}},created:function(){this.current=this.value},mounted:function(){this._mapPropsToChildComponent()},watch:{value:function(e){this.current=e},current:function(e){this._mapPropsToChildComponent(),this.$emit("input",e)}},data:function(){return{current:0}},methods:{_mapPropsToChildComponent:function(){var e=this,t=this.$children.length-1;this.$children.forEach(function(o,s){o.currentStepNumber=(s+1).toString(),o.currentStepLast=s===t,o.currentStatus=s===e.current?"process":s<e.current?"finish":"wait"})}}}),j={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-step"},[this._t("default")],2)},staticRenderFns:[]};var w=o("./node_modules/vue-loader/lib/component-normalizer.js")(y,j,!1,function(e){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-b2f34adc","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/step/step.vue')},null,null).exports,g=o("./node_modules/vux/src/components/icon/index.vue"),_=(String,String,Number,Boolean,String,String,Object,g.a,{name:"step-item",props:{title:String,description:String,stepNumber:Number,stepLast:Boolean,icon:String,status:String,tailWidth:Object},computed:{iconName:function(){return this.icon||"check"}},created:function(){this.currentStatus=this.status,this.currentStepLast=this.stepLast,this.currentStepNumber=this.stepNumber},data:function(){return{currentStatus:"",currentStepLast:!1,currentStepNumber:0}},components:{Icon:g.a}}),x={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vux-step-item",class:{"vux-step-item-with-tail":!e.currentStepLast}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.currentStepLast,expression:"!currentStepLast"}],class:"vux-step-item-tail vux-step-item-tail-"+e.currentStatus,style:{right:e.$parent.gutter}}),e._v(" "),o("div",{class:"vux-step-item-head vux-step-item-head-"+e.currentStatus},[o("div",{staticClass:"vux-step-item-head-inner"},[e.icon||"finish"==e.currentStatus?o("span",{class:"vux-step-item-icon vux-step-item-"+e.iconName},[o("icon",{staticClass:"vux-step-item-checked",attrs:{type:"success_no_circle"}})],1):o("span",{staticClass:"vux-step-item-icon"},[e._v(e._s(e.currentStepNumber))])])]),e._v(" "),o("div",{class:"vux-step-item-main vux-step-item-main-"+e.currentStatus,style:{backgroundColor:e.$parent.backgroundColor,paddingRight:e.currentStepLast?0:e.$parent.gutter}},[o("span",{staticClass:"vux-step-item-title"},[e._v(e._s(e.title))]),e._v(" "),o("div",{staticClass:"vux-step-item-description"},[e._v(e._s(e.description))])])])},staticRenderFns:[]},f=o("./node_modules/vue-loader/lib/component-normalizer.js")(_,x,!1,null,null,null).exports,P=o("./node_modules/vux/src/components/swipeout/swipeout.vue"),k=o("./node_modules/vux/src/components/swipeout/swipeout-button.vue"),b=o("./node_modules/vux/src/components/swipeout/swipeout-item.vue"),S=o("./node_modules/vux/src/components/tab/tab.vue"),C=o("./node_modules/vux/src/components/tab/tab-item.vue"),A=o("./node_modules/vux/src/components/x-header/index.vue"),D={render:function(){var e=this.$createElement;return(this._self._c||e)("p",{staticClass:"vux-x-hr"})},staticRenderFns:[]};var T=o("./node_modules/vue-loader/lib/component-normalizer.js")({name:"x-hr"},D,!1,function(e){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-a1f448d2","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/x-hr/index.vue')},null,null).exports,M=o("./node_modules/vux/src/components/x-switch/index.vue"),$=o("./node_modules/vux/src/components/spinner/index.vue"),N=o("./src/api/index.js"),V=o("./src/utils/StoreUtils.js"),K=o("./src/webconfig.js"),O=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},B=o("./src/components/sticky.js"),E=o("./src/utils/WeixinV2Utils.js"),I=o("./src/components/SearchCheckList.vue"),q=o("./src/utils/PlatformUtils.js"),H=o("./src/utils/ElectronUtils.js"),U=(B.a,h.a,r.a,v.a,S.a,C.a,d.a,p.a,A.a,m.a,s.a,P.a,b.a,k.a,a.a,l.a,c.a,n.a,i.a,u.a,M.a,I.a,$.a,{name:"ProjectUpload",metaInfo:{title:"实景工程项目"},data:function(){return{projectTypes:[{key:"1000",value:"默认",inlineDesc:"单位工程类型的项目"},{key:"1001",value:"材料",inlineDesc:"材料类型的项目"},{key:"1002",value:"人工",inlineDesc:"人工类型的项目"},{key:"1003",value:"机械",inlineDesc:"机械类型的项目"},{key:"1004",value:"每日任务动态",inlineDesc:"每日的任务动态"}],projectTypesModel:["1000"],showProjectTypeDlg:!1,selectedProjectTypeName:"请选择",showSubmitButton:!0,usersModel:[],users:[],showAddAccountPickUpDlg:!1,selectedProjectUsers:"请选择",HeaderTitle:"我的工程项目",viewProject:{name:""},canEditProject:!1,editProject:{key:0,index:0,Name:"",IsActive:1,istemplate:"0",storetypename:null,storeTypeModel:["1000"],cameraTypeModel:["1000"],qiniu:{ak:null,sk:null,name:null,defaultDomain:null},aliyun:{ak:null,sk:null,name:null,defaultDomain:null},ys:{appkey:null,appsecret:null},lecheng:{appkey:null,appsecret:null}},showProjectDetailDlg:!1,showProjectEditDlg:!1,showYoupaiyunSettingView:!1,showAliyunSettingView:!1,showQiniuSettingView:!1,storeTypes:[{value:"默认",key:"1000",inlineDesc:"默认数据存储于工程VR系统中"},{value:"阿里云(推荐)",key:"1002",inlineDesc:"数据存储在阿里云服务器"},{value:"七牛云",key:"1001",inlineDesc:"数据存储在七牛云服务器"},{value:"自定义",key:"1004",inlineDesc:"数据存储在自定义的服务器"}],showDahuaSettingView:!1,showHKSettingView:!1,cameraTypes:[{value:"默认",key:"1000",inlineDesc:"不配置相关视频监控设备"},{value:"海康威视设备",key:"1001",inlineDesc:"采用海康威视的摄像设备进行视频监控"},{value:"大华设备",key:"1002",inlineDesc:"采用大华的摄像设备进行视频监控"}],storeTypeModel:["1000"],cameraTypeModel:["1000"],projects:[],activeProjects:[],userid:null,companyid:null,showOngoingProjects:!0,showAllProjects:!1,showCreateDialog:!1,newProject:{name:"",tempateid:["0"],qiniu:{ak:null,sk:null,name:null,defaultDomain:null},aliyun:{ak:null,sk:null,name:null,defaultDomain:null},ys:{appkey:"",appsecret:""},lecheng:{appkey:"",appsecret:""}},templates:[],useTemplateUpload:!1,canproject:!1,activeProjectTips:"没有正在进行的项目！",showNoActiveProjectBtn:!1,showBasicProjects:!1,showMaterialProjects:!1,showLaborProjects:!1,showMachineProjects:!1,showDailyWorkProjects:!1,basicProjects:[],materialProjects:[],laborProjects:[],machineProjects:[],dailyWorkProjects:[]}},directives:{sticky:B.a},components:{PopupPicker:h.a,Divider:r.a,XHr:T,Step:w,StepItem:f,PopupRadio:v.a,Tab:S.a,TabItem:C.a,LoadMore:d.a,Popup:p.a,XHeader:A.a,Selector:m.a,Badge:s.a,Swipeout:P.a,SwipeoutItem:b.a,SwipeoutButton:k.a,Datetime:a.a,Flexbox:l.a,FlexboxItem:c.a,Checklist:n.a,Card:i.a,GroupTitle:u.a,XSwitch:M.a,SearchCheckList:I.a,Spinner:$.a},methods:{selectProjectTypeChange:function(e,t){this.showProjectTypeDlg=!1,this.selectedProjectTypeName=0<e.length?t[0]:"请选择"},showChooseProjectTypeHandle:function(){this.showProjectTypeDlg=!0},userCheckChange:function(e,t){this.selectedProjectUsers=3<t.length?t[0]+"等"+t.length+"个人员":0<t.length?t.toString():"请选择"},showAddAccountDlgHandle:function(){this.showAddAccountPickUpDlg=!0},saveEditProject:function(){var e=this,t="/project/update/"+this.editProject.key;this.editProject.projecttype=this.projectTypesModel[0];var o={data:this.editProject,users:this.usersModel};N.b.put(t,o).then(function(t){1e3===t.data.code&&(e.$vux.toast.show({text:"更新项目"+e.editProject.Name+"信息成功!"}),e.showProjectEditDlg=!1,Object(q.b)()?e.$router.go(0):Object(H.b)())}).catch(function(t){alert("遇到异常错误: "+t),e.$vux.alert.show({title:"修改项目错误提示",content:"服务器端异常,无法保存修改,错误信息: "+t})})},updateProject:function(e,t){var o=this;this.showProjectEditDlg=!0,this.projectTypesModel=[e.projecttypekey.toString()],this.editProject.projecttype=e.projecttypekey,this.editProject.key=e.key,this.editProject.IsActive=e.IsActive,this.editProject.index=t,this.editProject.Name=e.Name,this.editProject.istemplate=e.istemplate.toString(),this.editProject.storeTypeModel=e.storetype?[e.storetype.toString()]:["1000"],this.editProject.qiniu.ak=e.QiniuyunAK?e.QiniuyunAK:"",this.editProject.qiniu.sk=e.QiniuyunSK?e.QiniuyunSK:"",this.editProject.qiniu.name=e.QiniuyunBucketName?e.QiniuyunBucketName:"",this.editProject.qiniu.defaultDomain=e.QiniuyunDefaultDomain?e.QiniuyunDefaultDomain:"",this.editProject.cameraTypeModel="1001"===e.PanoProjectCameraApplicationTypeKey.toString()?["1001"]:"1000"===e.PanoProjectCameraApplicationTypeKey.toString()?["1000"]:["1002"],this.editProject.aliyun.ak=e.AliyunAK?e.AliyunAK:"",this.editProject.aliyun.sk=e.AliyunSK?e.AliyunSK:"",this.editProject.aliyun.name=e.AliyunBucketName?e.AliyunBucketName:"",this.editProject.aliyun.defaultDomain=e.AliyunDefaultDomain?e.AliyunDefaultDomain:"",this.users=[],this.usersModel=[],N.b.get("/project/company/"+this.companyid).then(function(t){1e3===t.data.code&&(t.data.data.forEach(function(e){o.users.push({key:e.userkey.toString(),value:e.nickname})}),N.b.get("/project/users/"+e.key).then(function(e){if(1e3===e.data.code){var t=[];e.data.data.forEach(function(e){o.usersModel.push(e.PanoUserKey.toString()),t.push(e.NickName.toString())}),o.selectedProjectUsers=3<t.length?t[0]+"等"+t.length+"个人员":t.toString()}}))}).catch(function(e){o.$vux.alert.show({title:"获取公司所有人员错误提示",content:"当前的公司没有找到人员! 错误信息: "+e})})},viewProjectDetail:function(e){this.showProjectDetailDlg=!0,this.viewProject=e},scanLeChengBarCode:function(){console.log("正在扫描乐橙二维码...");var e=this;Object(E.weixinScanQRCode)(function(){e.newProject.lecheng.appkey="",e.newProject.lecheng.appsecret=""})},scanYSBarCode:function(){console.log("正在扫描萤石二维码...");var e=this;Object(E.weixinScanQRCode)(function(){e.newProject.ys.appkey="",e.newProject.ys.appsecret=""})},scanLeChengBarCodeForUpdate:function(){console.log("正在扫描乐橙二维码...");var e=this;Object(E.weixinScanQRCode)(function(t){e.editProject.lecheng.appkey=JSON.parse(t).SN,e.editProject.lecheng.appsecret=JSON.parse(t).RC})},scanYSBarCodeForUpdate:function(){console.log("正在扫描萤石二维码...");var e=this;Object(E.weixinScanQRCode)(function(){e.editProject.ys.appkey="",e.editProject.ys.appsecret=""})},storeTypeChange:function(){"1001"===this.storeTypeModel[0]?(this.showQiniuSettingView=!0,this.showAliyunSettingView=!1,this.showYoupaiyunSettingView=!1):"1002"===this.storeTypeModel[0]?(this.showQiniuSettingView=!1,this.showAliyunSettingView=!0,this.showYoupaiyunSettingView=!1):"1003"===this.storeTypeModel[0]?(this.showQiniuSettingView=!1,this.showAliyunSettingView=!1,this.showYoupaiyunSettingView=!0):(this.showQiniuSettingView=!1,this.showAliyunSettingView=!1,this.showYoupaiyunSettingView=!1)},cameraTypeChange:function(){"1002"===this.cameraTypeModel[0]?(this.showDahuaSettingView=!0,this.showHKSettingView=!1,this.showYoupaiyunSettingView=!1):"1001"===this.cameraTypeModel[0]?(this.showDahuaSettingView=!1,this.showHKSettingView=!0):"1000"===this.cameraTypeModel[0]&&(this.showDahuaSettingView=!1,this.showHKSettingView=!1)},updateCameraTypeChange:function(){"1002"===this.editProject.cameraTypeModel[0]?(this.showDahuaSettingView=!0,this.showHKSettingView=!1):"1001"===this.editProject.cameraTypeModel[0]?(this.showDahuaSettingView=!1,this.showHKSettingView=!0):"1000"===this.editProject.cameraTypeModel[0]&&(this.showDahuaSettingView=!1,this.showHKSettingView=!1)},updateStoreTypeChange:function(){"1001"===this.editProject.storeTypeModel[0]?(this.showQiniuSettingView=!0,this.showAliyunSettingView=!1,this.showYoupaiyunSettingView=!1):"1002"===this.editProject.storeTypeModel[0]?(this.showQiniuSettingView=!1,this.showAliyunSettingView=!0,this.showYoupaiyunSettingView=!1):"1003"===this.editProject.storeTypeModel[0]?(this.showQiniuSettingView=!1,this.showAliyunSettingView=!1,this.showYoupaiyunSettingView=!0):(this.showQiniuSettingView=!1,this.showAliyunSettingView=!1,this.showYoupaiyunSettingView=!1)},fetchMyProjects:function(){var e=this,t=K.a.usernamepasswordauth,o=V.a.get(K.a.StoreUserInfoKey);if(o?t?(this.userid=o.customerdata.userid,this.companyid=o.customerdata.companyid,this.canproject=o.customerdata.canproject,this.canEditProject=!!o.customerdata.admin||!!o.customerdata.super||!!o.customerdata.manager):this.userid=o.userid:this.$vux.alert.show({title:"工程用户信息获取",content:"工程用户信息获取失败,稍后再试!"}),this.companyid){var s=this;this.projects=[],this.activeProjects=[];var i="/project/projects/"+this.userid;this.$vux.loading.show({text:"正在获取项目列表..."}),this.activeProjectTips="正在获取项目列表",N.b.get(i).then(function(t){e.$vux.loading.hide();var o=t.data;if(1e3===o.code){var i=o.data,n=i.Items;e.HeaderTitle=i.CompanyName,n.forEach(function(t){1e3===t.PanoProjectCameraApplicationTypeKey?(t.ys={appkey:t.appkey?t.appkey:"",appsecret:t.appsecret?t.appsecret:""},t.lecheng={appkey:"",appsecret:""}):1001===t.PanoProjectCameraApplicationTypeKey?(t.lecheng={appkey:t.appkey?t.appkey:"",appsecret:t.appsecret?t.appsecret:""},t.ys={appkey:"",appsecret:""}):(t.ys={appkey:"",appsecret:""},t.lecheng={appkey:"",appsecret:""}),e.projects.push(t),1===t.IsActive&&(s.activeProjects.push(t),1e3===t.projecttypekey?s.basicProjects.push(t):1001===t.projecttypekey?s.materialProjects.push(t):1002===t.projecttypekey?s.laborProjects.push(t):1003===t.projecttypekey?s.machineProjects.push(t):1004===t.projecttypekey&&s.dailyWorkProjects.push(t))}),0===e.activeProjects.length&&(e.showNoActiveProjectBtn=!0,e.activeProjectTips="当前没有任务正在进行的项目！")}}).catch(function(t){e.$vux.loading.hide(),e.activeProjectTips="网络连接异常，稍后点击重试！",e.showNoActiveProjectBtn=!1,e.$vux.toast.show({type:"warn",text:"网络连接异常,错误代码: "+t})})}else this.$vux.alert.show({title:"获取公司项目列表错误提示",content:"当前的用户没有对应的公司!"})},copyAddress:function(){var e="https://www.yitieyilu.com/pano/d/"+this.userid;O(e),this.$vux.toast.show({text:"链接地址复制成功!"})},closeProject:function(e){var t=this,o=e.key,s=!1,i="";1===e.IsActive?(s=!0,i="关闭项目"+e.Name+"成功!"):(s=!1,i="重新打开项目"+e.Name+"成功!");var n={close:s};N.b.post("/project/p/"+o,n).then(function(){t.$vux.toast.show({text:i}),Object(q.b)()?t.$router.go(0):Object(H.b)()})},updateReopenProject:function(e,t){var o=this,s=e.key;N.b.post("/project/p/"+s,{close:!1}).then(function(){o.$vux.toast.show({text:"重新打开工程"+e.Name+"成功!"}),o.projects[t].IsActive=1})},showCreateNewProjectDlg:function(){var e=this;this.showCreateDialog=!0,this.templates=[],this.projectTypesModel=["1000"];var t="/project/templates/"+this.companyid;N.b.get(t).then(function(t){var o=t.data;if(1e3===o.code){var s=o.data;e.templates.push({value:"0",name:"默认(不使用模板)"}),s.forEach(function(t){var o=t.key,s=t.value;e.templates.push({value:o.toString(),name:s}),e.newProject.tempateid=[e.templates[0].value]})}}).catch(function(t){e.$vux.alert.show({title:"获取公司模板项目错误提示",content:"当前的公司没有找到模板项目! 错误信息: "+t})}),this.users=[],this.usersModel=[],N.b.get("/project/company/"+this.companyid).then(function(t){if(1e3===t.data.code){var o=!1,s=null;t.data.data.forEach(function(t){var i=t.userkey.toString();e.users.push({key:i,value:t.nickname}),t.userid===e.userid&&(o=!0,s=i)}),o&&e.usersModel.push(s)}}).catch(function(t){e.$vux.alert.show({title:"获取公司所有人员错误提示",content:"当前的公司没有找到人员! 错误信息: "+t})})},saveNewProject:function(){var e=this,t=0<this.newProject.name.length,o=!0;if(0===this.usersModel.length&&this.$vux.confirm.show({content:"当前新建的项目没有选择参与人员，是否继续?",onCancel:function(){o=!1},onConfirm:function(){t=!0}}),o)if(t){var s={companyid:V.a.get(K.a.StoreUserInfoKey).customerdata.companyid,type:this.projectTypesModel[0],openid:this.userid,name:this.newProject.name,template:parseInt(this.newProject.tempateid[0]),users:this.usersModel,ys:this.newProject.ys,lecheng:this.newProject.lecheng,storeTypeModel:0<this.storeTypeModel.length?this.storeTypeModel[0]:"1000",qiniu:this.newProject.qiniu,aliyun:this.newProject.aliyun};this.$vux.loading.show({text:"正在保存新项目中..."}),this.showSubmitButton=!1,N.b.post("/project",s).then(function(t){e.showSubmitButton=!0,e.$vux.loading.hide(),1e3===t.data.code&&(e.$vux.toast.show({text:"新建工程成功"}),Object(q.b)()?e.$router.go(0):Object(H.b)(),V.a.set(K.a.StoreDailyTaskVersion,(new Date).getTime()))}).catch(function(t){e.showSubmitButton=!0,e.$vux.loading.hide(),e.$vux.alert.show({title:"保存项目错误提示",content:"服务器端异常! 错误信息: "+t})})}else this.$vux.alert.show({title:"新建全景工程项目",content:"项目名称和模板不能为空!"});else console.log("取消了继续新建项目")},showHotTablePage:function(e){this.$router.push({name:"pdetail",params:{projectid:e.key}})}},created:function(){this.$store.dispatch("UpdateShowHeader",!1),this.$store.dispatch("UpdateShowTabbar",!0)},mounted:function(){this.fetchMyProjects()}}),Q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("x-header",{attrs:{slot:"header","left-options":{showBack:!1,preventGoBack:!0},title:e.HeaderTitle},slot:"header"},[e.canEditProject?o("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"right"},on:{click:e.showCreateNewProjectDlg},slot:"right"},[e._v("\n          新建项目\n        ")]):e._e()]),e._v(" "),o("div",{directives:[{name:"sticky",rawName:"v-sticky",value:{zIndex:100,stickyTop:0,className:"sticky-buttons"},expression:"{ zIndex: 100, stickyTop: 0, className: 'sticky-buttons' }"}],staticStyle:{height:"44px"}},[o("tab",{attrs:{"bar-position":"bottom"}},[o("tab-item",{attrs:{selected:""},on:{"on-item-click":function(t){e.showOngoingProjects=!0,e.showAllProjects=!1}}},[e._v("进行中项目")]),e._v(" "),o("tab-item",{on:{"on-item-click":function(t){e.showAllProjects=!0,e.showOngoingProjects=!1}}},[e._v("全部项目")])],1)],1),e._v(" "),o("group",{directives:[{name:"show",rawName:"v-show",value:e.showOngoingProjects,expression:"showOngoingProjects"}]},[0===e.activeProjects.length?o("div",[o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("load-more",{attrs:{"show-loading":!1,tip:e.activeProjectTips,"background-color":"#fbf9fe"},nativeOn:{click:function(t){return e.fetchMyProjects(t)}}}),e._v(" "),o("flexbox",{directives:[{name:"show",rawName:"v-show",value:e.showNoActiveProjectBtn,expression:"showNoActiveProjectBtn"}]},[o("flexbox-item"),e._v(" "),e.canEditProject?o("flexbox-item",[o("x-button",{attrs:{type:"primary","action-type":"button",mini:""},nativeOn:{click:function(t){return e.showCreateNewProjectDlg(t)}}},[e._v("新建项目\n          ")])],1):e._e(),e._v(" "),o("flexbox-item")],1)],1):[o("group-title",{staticClass:"titleHeader"},[e._v("共有"+e._s(e.activeProjects.length)+"个项目正在进行中")]),e._v(" "),e.basicProjects.length>0?o("cell",{attrs:{title:"单位工程","border-intent":!1,"is-link":"","arrow-direction":e.showBasicProjects?"up":"down"},nativeOn:{click:function(t){e.showBasicProjects=!e.showBasicProjects}}},[o("svg",{staticClass:"icon",staticStyle:{height:"20px",width:"20px"},attrs:{slot:"icon","aria-hidden":"true"},slot:"icon"},[o("use",{attrs:{"xlink:href":"#xiangmu"}})])]):e._e(),e._v(" "),e.showBasicProjects?[o("swipeout",e._l(e.basicProjects,function(t,s){return o("swipeout-item",{key:t.key,attrs:{threshold:.5,"underlay-color":"#ccc"}},[o("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[o("swipeout-button",{attrs:{type:"primary"},nativeOn:{click:function(o){e.viewProjectDetail(t,s)}}},[e._v("详情\n              ")]),e._v(" "),e.canEditProject?o("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(o){e.updateProject(t,s)}}},[e._v("修改\n              ")]):e._e()],1),e._v(" "),o("div",{staticClass:"project-content vux-1px-tb",attrs:{slot:"content"},slot:"content"},[o("cell",{attrs:{"is-link":""},nativeOn:{click:function(o){e.showHotTablePage(t)}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s(t.Name))]),e._v(" "),o("badge",{staticStyle:{"background-color":"#0bb20c"},attrs:{text:"进行中"}})],1)])],1)])}))]:e._e(),e._v(" "),e.materialProjects.length>0?o("cell",{attrs:{title:"材料项目","border-intent":!1,"is-link":"","arrow-direction":e.showMaterialProjects?"up":"down"},nativeOn:{click:function(t){e.showMaterialProjects=!e.showMaterialProjects}}},[o("svg",{staticClass:"icon",staticStyle:{height:"20px",width:"20px"},attrs:{slot:"icon","aria-hidden":"true"},slot:"icon"},[o("use",{attrs:{"xlink:href":"#cailiaojinchang"}})])]):e._e(),e._v(" "),e.showMaterialProjects?[o("swipeout",e._l(e.materialProjects,function(t,s){return o("swipeout-item",{key:t.key,attrs:{threshold:.5,"underlay-color":"#ccc"}},[o("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[o("swipeout-button",{attrs:{type:"primary"},nativeOn:{click:function(o){e.viewProjectDetail(t,s)}}},[e._v("详情\n              ")]),e._v(" "),e.canEditProject?o("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(o){e.updateProject(t,s)}}},[e._v("修改\n              ")]):e._e()],1),e._v(" "),o("div",{staticClass:"project-content vux-1px-tb",attrs:{slot:"content"},slot:"content"},[o("cell",{attrs:{"is-link":""},nativeOn:{click:function(o){e.showHotTablePage(t)}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s(t.Name))]),e._v(" "),o("badge",{staticStyle:{"background-color":"#0bb20c"},attrs:{text:"进行中"}})],1)])],1)])}))]:e._e(),e._v(" "),e.laborProjects.length>0?o("cell",{attrs:{title:"人工项目","border-intent":!1,"is-link":"","arrow-direction":e.showLaborProjects?"up":"down"},nativeOn:{click:function(t){e.showLaborProjects=!e.showLaborProjects}}},[o("svg",{staticClass:"icon",staticStyle:{height:"20px",width:"20px"},attrs:{slot:"icon","aria-hidden":"true"},slot:"icon"},[o("use",{attrs:{"xlink:href":"#rengong"}})])]):e._e(),e._v(" "),e.showLaborProjects?[o("swipeout",e._l(e.laborProjects,function(t,s){return o("swipeout-item",{key:t.key,attrs:{threshold:.5,"underlay-color":"#ccc"}},[o("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[o("swipeout-button",{attrs:{type:"primary"},nativeOn:{click:function(o){e.viewProjectDetail(t,s)}}},[e._v("详情\n              ")]),e._v(" "),e.canEditProject?o("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(o){e.updateProject(t,s)}}},[e._v("修改\n              ")]):e._e()],1),e._v(" "),o("div",{staticClass:"project-content vux-1px-tb",attrs:{slot:"content"},slot:"content"},[o("cell",{attrs:{"is-link":""},nativeOn:{click:function(o){e.showHotTablePage(t)}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s(t.Name))]),e._v(" "),o("badge",{staticStyle:{"background-color":"#0bb20c"},attrs:{text:"进行中"}})],1)])],1)])}))]:e._e(),e._v(" "),e.machineProjects.length>0?o("cell",{attrs:{title:"机械项目","border-intent":!1,"is-link":"","arrow-direction":e.showMachineProjects?"up":"down"},nativeOn:{click:function(t){e.showMachineProjects=!e.showMachineProjects}}},[o("svg",{staticClass:"icon",staticStyle:{height:"20px",width:"20px"},attrs:{slot:"icon","aria-hidden":"true"},slot:"icon"},[o("use",{attrs:{"xlink:href":"#jixie"}})])]):e._e(),e._v(" "),e.showMachineProjects?[o("swipeout",e._l(e.machineProjects,function(t,s){return o("swipeout-item",{key:t.key,attrs:{threshold:.5,"underlay-color":"#ccc"}},[o("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[o("swipeout-button",{attrs:{type:"primary"},nativeOn:{click:function(o){e.viewProjectDetail(t,s)}}},[e._v("详情\n              ")]),e._v(" "),e.canEditProject?o("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(o){e.updateProject(t,s)}}},[e._v("修改\n              ")]):e._e()],1),e._v(" "),o("div",{staticClass:"project-content vux-1px-tb",attrs:{slot:"content"},slot:"content"},[o("cell",{attrs:{"is-link":""},nativeOn:{click:function(o){e.showHotTablePage(t)}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s(t.Name))]),e._v(" "),o("badge",{staticStyle:{"background-color":"#0bb20c"},attrs:{text:"进行中"}})],1)])],1)])}))]:e._e(),e._v(" "),e.dailyWorkProjects.length>0?o("cell",{attrs:{title:"每日动态","border-intent":!1,"is-link":"","arrow-direction":e.showDailyWorkProjects?"up":"down"},nativeOn:{click:function(t){e.showDailyWorkProjects=!e.showDailyWorkProjects}}},[o("svg",{staticClass:"icon",staticStyle:{height:"20px",width:"20px"},attrs:{slot:"icon","aria-hidden":"true"},slot:"icon"},[o("use",{attrs:{"xlink:href":"#dongtai"}})])]):e._e(),e._v(" "),e.showDailyWorkProjects?[o("swipeout",e._l(e.dailyWorkProjects,function(t,s){return o("swipeout-item",{key:t.key,attrs:{threshold:.5,"underlay-color":"#ccc"}},[o("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[o("swipeout-button",{attrs:{type:"primary"},nativeOn:{click:function(o){e.viewProjectDetail(t,s)}}},[e._v("详情\n              ")]),e._v(" "),e.canEditProject?o("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(o){e.updateProject(t,s)}}},[e._v("修改\n              ")]):e._e()],1),e._v(" "),o("div",{staticClass:"project-content vux-1px-tb",attrs:{slot:"content"},slot:"content"},[o("cell",{attrs:{"is-link":""},nativeOn:{click:function(o){e.showHotTablePage(t)}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s(t.Name))]),e._v(" "),o("badge",{staticStyle:{"background-color":"#0bb20c"},attrs:{text:"进行中"}})],1)])],1)])}))]:e._e()]],2),e._v(" "),o("group",{directives:[{name:"show",rawName:"v-show",value:e.showAllProjects,expression:"showAllProjects"}]},[0===e.projects.length?o("div",[o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("load-more",{attrs:{"show-loading":!1,tip:"当前没有创建任何项目!","background-color":"#fbf9fe"}}),e._v(" "),o("flexbox",[o("flexbox-item"),e._v(" "),e.canEditProject?o("flexbox-item",[o("x-button",{attrs:{type:"primary","action-type":"button",mini:""},nativeOn:{click:function(t){return e.showCreateNewProjectDlg(t)}}},[e._v("新建项目\n          ")])],1):e._e(),e._v(" "),o("flexbox-item")],1)],1):[o("group-title",{staticClass:"titleHeader"},[e._v("共有"+e._s(e.projects.length)+"个项目")]),e._v(" "),o("swipeout",e._l(e.projects,function(t,s){return o("swipeout-item",{key:t.key,attrs:{threshold:.5,"underlay-color":"#ccc"}},[e.canEditProject?o("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[o("swipeout-button",{attrs:{type:"primary"},nativeOn:{click:function(o){e.viewProjectDetail(t,s)}}},[e._v("详情\n            ")]),e._v(" "),o("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(o){e.updateProject(t,s)}}},[e._v("修改\n            ")])],1):e._e(),e._v(" "),o("div",{staticClass:"project-content vux-1px-tb",attrs:{slot:"content"},slot:"content"},[o("cell",{attrs:{"is-link":""},nativeOn:{click:function(o){e.showHotTablePage(t)}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s(t.Name))]),e._v(" "),1===t.IsActive?o("badge",{staticStyle:{"background-color":"#0bb20c"},attrs:{text:"进行中"}}):e._e(),e._v(" "),0===t.IsActive?o("badge",{staticStyle:{"background-color":"red"},attrs:{text:"已关闭"}}):e._e()],1)])],1)])}))]],2),e._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%"},model:{value:e.showCreateDialog,callback:function(t){e.showCreateDialog=t},expression:"showCreateDialog"}},[o("x-header",{attrs:{title:"新建工程项目","left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(t){e.showCreateDialog=!1}}},[e.showSubmitButton?o("span",{staticStyle:{"font-size":"18px !important","font-weight":"400",color:"#eadede !important"},attrs:{slot:"right"},on:{click:e.saveNewProject},slot:"right"},[e._v("\n          保存\n        ")]):o("spinner",{attrs:{slot:"right",type:"android",size:"28px"},slot:"right"})],1),e._v(" "),o("group",[o("x-input",{attrs:{title:"项目名称",placeholder:"输入项目名称"},model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),e._v(" "),o("group",[e.templates.length>0?o("popup-picker",{attrs:{title:"选择一个项目模板","popup-title":"",data:e.templates,columns:1,"show-name":""},model:{value:e.newProject.tempateid,callback:function(t){e.$set(e.newProject,"tempateid",t)},expression:"newProject.tempateid"}}):e._e()],1),e._v(" "),o("group",[o("cell",{attrs:{title:"项目类型","is-link":"",value:e.selectedProjectTypeName},nativeOn:{click:function(t){return e.showChooseProjectTypeHandle(t)}}})],1),e._v(" "),o("group",[o("cell",{attrs:{title:"选择需要参与的人员","inline-desc":"从当前公司选择需要参与当前项目的人员","is-link":"",value:e.selectedProjectUsers},nativeOn:{click:function(t){return e.showAddAccountDlgHandle(t)}}})],1),e._v(" "),o("group",[o("checklist",{attrs:{title:"数据存储方式",required:"",max:1,"label-position":"left",options:e.storeTypes},on:{"on-change":e.storeTypeChange},model:{value:e.storeTypeModel,callback:function(t){e.storeTypeModel=t},expression:"storeTypeModel"}}),e._v(" "),e.showQiniuSettingView?[o("card",{attrs:{header:{title:"请输入七牛云密钥管理中对应的AK/SK等信息"}}},[o("div",{attrs:{slot:"content"},slot:"content"},[o("x-input",{attrs:{title:"AccessKey",placeholder:"输入对应AccessKey(必填)"},model:{value:e.newProject.qiniu.ak,callback:function(t){e.$set(e.newProject.qiniu,"ak",t)},expression:"newProject.qiniu.ak"}}),e._v(" "),o("x-input",{attrs:{title:"SecretKey",placeholder:"输入对应SecretKey(必填)"},model:{value:e.newProject.qiniu.sk,callback:function(t){e.$set(e.newProject.qiniu,"sk",t)},expression:"newProject.qiniu.sk"}}),e._v(" "),o("x-input",{attrs:{title:"存储空间名称",placeholder:"资源存放的空间名称(必填)"},model:{value:e.newProject.qiniu.name,callback:function(t){e.$set(e.newProject.qiniu,"name",t)},expression:"newProject.qiniu.name"}}),e._v(" "),o("x-input",{attrs:{title:"外链默认域名",placeholder:"默认访问的域名前缀(必填)"},model:{value:e.newProject.qiniu.defaultDomain,callback:function(t){e.$set(e.newProject.qiniu,"defaultDomain",t)},expression:"newProject.qiniu.defaultDomain"}})],1)])]:e._e(),e._v(" "),e.showAliyunSettingView?[o("card",{attrs:{header:{title:"请输入阿里云密钥管理中对应的AK/SK等信息"}}},[o("div",{staticClass:"card-padding",attrs:{slot:"content"},slot:"content"},[o("x-input",{attrs:{title:"AccessKey ID",placeholder:"输入对应AccessKey ID(必填)"},model:{value:e.newProject.aliyun.ak,callback:function(t){e.$set(e.newProject.aliyun,"ak",t)},expression:"newProject.aliyun.ak"}}),e._v(" "),o("x-input",{attrs:{title:"AccessKey Secret",placeholder:"输入对应AccessKey Secret(必填)"},model:{value:e.newProject.aliyun.sk,callback:function(t){e.$set(e.newProject.aliyun,"sk",t)},expression:"newProject.aliyun.sk"}}),e._v(" "),o("x-input",{attrs:{title:"存储空间名称",placeholder:"资源存放的空间名称(必填)"},model:{value:e.newProject.aliyun.name,callback:function(t){e.$set(e.newProject.aliyun,"name",t)},expression:"newProject.aliyun.name"}}),e._v(" "),o("x-input",{attrs:{title:"外链默认域名",placeholder:"默认访问的域名前缀(必填)"},model:{value:e.newProject.aliyun.defaultDomain,callback:function(t){e.$set(e.newProject.aliyun,"defaultDomain",t)},expression:"newProject.aliyun.defaultDomain"}})],1)])]:e._e(),e._v(" "),e.showYoupaiyunSettingView?[o("card",{attrs:{header:{title:"请输入又拍云密钥管理中对应的AK/SK等信息"}}},[o("div",{staticClass:"card-padding",attrs:{slot:"content"},slot:"content"},[o("h3",[e._v("暂不支持")])])])]:e._e()],2),e._v(" "),o("group",[o("group-title",{attrs:{slot:"title"},slot:"title"},[e._v("\n          施工现场摄像头配置\n        ")]),e._v(" "),o("checklist",{attrs:{title:"设备供应商",required:"",max:1,"label-position":"left",options:e.cameraTypes},on:{"on-change":e.cameraTypeChange},model:{value:e.cameraTypeModel,callback:function(t){e.cameraTypeModel=t},expression:"cameraTypeModel"}}),e._v(" "),e.showDahuaSettingView?[o("card",[o("div",{attrs:{slot:"header"},slot:"header"},[o("span",{staticClass:"weui-panel__hd"},[e._v("输入乐橙摄像头配置信息或扫描设备二维码\n             "),o("span",{on:{click:e.scanLeChengBarCode}},[o("svg",{staticStyle:{height:"23px",width:"23px","vertical-align":"middle"},attrs:{slot:"icon","aria-hidden":"true"},slot:"icon"},[o("use",{attrs:{"xlink:href":"#saomiaoerweima"}})])])])]),e._v(" "),o("div",{staticClass:"card-padding",attrs:{slot:"content"},slot:"content"},[o("x-input",{attrs:{title:"AppKey",placeholder:"输入乐橙AppKey"},model:{value:e.newProject.lecheng.appkey,callback:function(t){e.$set(e.newProject.lecheng,"appkey",t)},expression:"newProject.lecheng.appkey"}}),e._v(" "),o("x-input",{attrs:{title:"AppSecret",placeholder:"输入乐橙AppSecret"},model:{value:e.newProject.lecheng.appsecret,callback:function(t){e.$set(e.newProject.lecheng,"appsecret",t)},expression:"newProject.lecheng.appsecret"}})],1)])]:e._e(),e._v(" "),e.showHKSettingView?[o("card",[o("div",{attrs:{slot:"header"},slot:"header"},[o("span",{staticClass:"weui-panel__hd"},[e._v("输入萤石摄像头配置信息或扫描设备二维码\n             "),o("span",{on:{click:e.scanYSBarCode}},[o("svg",{staticStyle:{height:"23px",width:"23px","vertical-align":"middle"},attrs:{slot:"icon","aria-hidden":"true"},slot:"icon"},[o("use",{attrs:{"xlink:href":"#saomiaoerweima"}})])])])]),e._v(" "),o("div",{staticClass:"card-padding",attrs:{slot:"content"},slot:"content"},[o("x-input",{attrs:{title:"AppKey",placeholder:"输入萤石云控制台中的AppKey"},model:{value:e.newProject.ys.appkey,callback:function(t){e.$set(e.newProject.ys,"appkey",t)},expression:"newProject.ys.appkey"}}),e._v(" "),o("x-input",{attrs:{title:"AppSecret",placeholder:"输入萤石云控制台中的AppSecret"},model:{value:e.newProject.ys.appsecret,callback:function(t){e.$set(e.newProject.ys,"appsecret",t)},expression:"newProject.ys.appsecret"}})],1)])]:e._e()],2),e._v(" "),o("br")],1)],1),e._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%","hide-on-blur":!0,"popup-style":{zIndex:15888}},model:{value:e.showProjectDetailDlg,callback:function(t){e.showProjectDetailDlg=t},expression:"showProjectDetailDlg"}},[o("x-header",{attrs:{title:e.viewProject.Name,"left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(t){e.showProjectDetailDlg=!1}}}),e._v(" "),o("group",[o("cell",{attrs:{title:"项目名称"}},[e._v("\n          "+e._s(e.viewProject.Name)+"\n        ")]),e._v(" "),o("cell",{attrs:{title:"是否是模板项目"}},[e._v(e._s(1===e.viewProject.istemplate?"是":"否"))])],1),e._v(" "),o("group",{attrs:{title:"项目类型"}},[o("cell",{attrs:{title:"类型"}},[e._v(e._s(e.viewProject.projectypename))])],1),e._v(" "),o("group",{attrs:{title:"数据存储方式"}},[o("cell",{attrs:{title:"存储方式"}},[e._v(e._s(e.viewProject.storetypename?e.viewProject.storetypename:"默认存储"))])],1),e._v(" "),o("group",{attrs:{title:"乐橙摄像头配置信息"}},[o("cell",{attrs:{title:"AppKey"}},[e._v(e._s(e.viewProject.lecheng?""!==e.viewProject.lecheng.appkey?e.viewProject.lecheng.appkey:"没有设置":"没有配置")+"\n        ")]),e._v(" "),o("cell",{attrs:{title:"AppSecret"}},[e._v(e._s(e.viewProject.lecheng?""!==e.viewProject.lecheng.appsecret?e.viewProject.lecheng.appsecret:"没有设置":"没有配置")+"\n        ")])],1),e._v(" "),o("group",{attrs:{title:"萤石摄像头配置信息"}},[o("cell",{attrs:{title:"AppKey"}},[e._v(e._s(e.viewProject.ys&&""!==e.viewProject.ys.appkey?e.viewProject.ys.appkey:"没有配置")+"\n        ")]),e._v(" "),o("cell",{attrs:{title:"AppSecret"}},[e._v(e._s(e.viewProject.ys?""!==e.viewProject.ys.appsecret?e.viewProject.ys.appsecret:"没有配置":"没有设置")+"\n        ")])],1)],1)],1),e._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%","hide-on-blur":!0},model:{value:e.showProjectEditDlg,callback:function(t){e.showProjectEditDlg=t},expression:"showProjectEditDlg"}},[o("x-header",{attrs:{title:e.editProject.Name,"left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(t){e.showProjectEditDlg=!1}}},[o("span",{staticStyle:{"font-size":"16px !important","font-weight":"400",color:"#eadede !important"},attrs:{slot:"right"},on:{click:e.saveEditProject},slot:"right"},[e._v("\n          保存\n        ")])]),e._v(" "),o("group",{directives:[{name:"show",rawName:"v-show",value:e.canEditProject,expression:"canEditProject"}]},[o("x-input",{attrs:{title:"项目名称",placeholder:"输入新的项目名称"},model:{value:e.editProject.Name,callback:function(t){e.$set(e.editProject,"Name","string"==typeof t?t.trim():t)},expression:"editProject.Name"}})],1),e._v(" "),o("group",[o("x-switch",{attrs:{title:"是否转换为模板项目","value-map":["0","1"]},model:{value:e.editProject.istemplate,callback:function(t){e.$set(e.editProject,"istemplate",t)},expression:"editProject.istemplate"}})],1),e._v(" "),o("group",{attrs:{title:"项目类型"}},[o("cell",{attrs:{title:"类型","is-link":"",value:e.selectedProjectTypeName},nativeOn:{click:function(t){return e.showChooseProjectTypeHandle(t)}}})],1),e._v(" "),o("group",[o("cell",{attrs:{title:"选择需要参与的人员","is-link":"",value:e.selectedProjectUsers},nativeOn:{click:function(t){return e.showAddAccountDlgHandle(t)}}})],1),e._v(" "),o("group",[o("checklist",{attrs:{title:"数据存储方式",required:"",max:1,"label-position":"left",options:e.storeTypes},on:{"on-change":e.updateStoreTypeChange},model:{value:e.editProject.storeTypeModel,callback:function(t){e.$set(e.editProject,"storeTypeModel",t)},expression:"editProject.storeTypeModel"}}),e._v(" "),e.showQiniuSettingView?[o("card",{attrs:{header:{title:"请输入七牛云密钥管理中对应的AK/SK等信息"}}},[o("div",{attrs:{slot:"content"},slot:"content"},[o("x-input",{attrs:{title:"AccessKey",placeholder:"输入对应AccessKey(必填)"},model:{value:e.editProject.qiniu.ak,callback:function(t){e.$set(e.editProject.qiniu,"ak",t)},expression:"editProject.qiniu.ak"}}),e._v(" "),o("x-input",{attrs:{title:"SecretKey",placeholder:"输入对应SecretKey(必填)"},model:{value:e.editProject.qiniu.sk,callback:function(t){e.$set(e.editProject.qiniu,"sk",t)},expression:"editProject.qiniu.sk"}}),e._v(" "),o("x-input",{attrs:{title:"存储空间名称",placeholder:"资源存放的空间名称(必填)"},model:{value:e.editProject.qiniu.name,callback:function(t){e.$set(e.editProject.qiniu,"name",t)},expression:"editProject.qiniu.name"}}),e._v(" "),o("x-input",{attrs:{title:"外链默认域名",placeholder:"默认访问的域名前缀(必填)"},model:{value:e.editProject.qiniu.defaultDomain,callback:function(t){e.$set(e.editProject.qiniu,"defaultDomain",t)},expression:"editProject.qiniu.defaultDomain"}})],1)])]:e._e(),e._v(" "),e.showAliyunSettingView?[o("card",{attrs:{header:{title:"请输入阿里云密钥管理中对应的AK/SK等信息"}}},[o("div",{staticClass:"card-padding",attrs:{slot:"content"},slot:"content"},[o("x-input",{attrs:{title:"AccessKey ID",placeholder:"输入对应AccessKey ID(必填)"},model:{value:e.editProject.aliyun.ak,callback:function(t){e.$set(e.editProject.aliyun,"ak",t)},expression:"editProject.aliyun.ak"}}),e._v(" "),o("x-input",{attrs:{title:"AccessKey Secret",placeholder:"输入对应AccessKey Secret(必填)"},model:{value:e.editProject.aliyun.sk,callback:function(t){e.$set(e.editProject.aliyun,"sk",t)},expression:"editProject.aliyun.sk"}}),e._v(" "),o("x-input",{attrs:{title:"存储空间名称",placeholder:"资源存放的空间名称(必填)"},model:{value:e.editProject.aliyun.name,callback:function(t){e.$set(e.editProject.aliyun,"name",t)},expression:"editProject.aliyun.name"}}),e._v(" "),o("x-input",{attrs:{title:"外链默认域名",placeholder:"默认访问的域名前缀(必填)"},model:{value:e.editProject.aliyun.defaultDomain,callback:function(t){e.$set(e.editProject.aliyun,"defaultDomain",t)},expression:"editProject.aliyun.defaultDomain"}})],1)])]:e._e(),e._v(" "),e.showYoupaiyunSettingView?[o("card",{attrs:{header:{title:"请输入又拍云密钥管理中对应的AK/SK等信息"}}},[o("div",{staticClass:"card-padding",attrs:{slot:"content"},slot:"content"},[o("h3",[e._v("暂不支持")])])])]:e._e()],2),e._v(" "),o("group",[o("group-title",{attrs:{slot:"title"},slot:"title"},[e._v("\n          施工现场摄像头配置\n        ")]),e._v(" "),o("checklist",{attrs:{title:"设备供应商",required:"",max:1,"label-position":"left",options:e.cameraTypes},on:{"on-change":e.updateCameraTypeChange},model:{value:e.editProject.cameraTypeModel,callback:function(t){e.$set(e.editProject,"cameraTypeModel",t)},expression:"editProject.cameraTypeModel"}}),e._v(" "),e.showDahuaSettingView?[o("card",[o("div",{attrs:{slot:"header"},slot:"header"},[o("span",{staticClass:"weui-panel__hd"},[e._v("输入乐橙摄像头配置信息或扫描设备二维码\n               "),o("span",{on:{click:e.scanLeChengBarCodeForUpdate}},[o("svg",{staticStyle:{height:"23px",width:"23px","vertical-align":"middle"},attrs:{slot:"icon","aria-hidden":"true"},slot:"icon"},[o("use",{attrs:{"xlink:href":"#saomiaoerweima"}})])])])]),e._v(" "),o("div",{staticClass:"card-padding",attrs:{slot:"content"},slot:"content"},[o("x-input",{attrs:{title:"AppKey",placeholder:"输入乐橙AppKey"},model:{value:e.editProject.lecheng.appkey,callback:function(t){e.$set(e.editProject.lecheng,"appkey",t)},expression:"editProject.lecheng.appkey"}}),e._v(" "),o("x-input",{attrs:{title:"AppSecret",placeholder:"输入乐橙AppSecret"},model:{value:e.editProject.lecheng.appsecret,callback:function(t){e.$set(e.editProject.lecheng,"appsecret",t)},expression:"editProject.lecheng.appsecret"}})],1)])]:e._e(),e._v(" "),e.showHKSettingView?[o("card",[o("div",{attrs:{slot:"header"},slot:"header"},[o("span",{staticClass:"weui-panel__hd"},[e._v("输入萤石摄像头配置信息或扫描设备二维码\n               "),o("span",{on:{click:e.scanYSBarCodeForUpdate}},[o("svg",{staticStyle:{height:"23px",width:"23px","vertical-align":"middle"},attrs:{slot:"icon","aria-hidden":"true"},slot:"icon"},[o("use",{attrs:{"xlink:href":"#saomiaoerweima"}})])])])]),e._v(" "),o("div",{staticClass:"card-padding",attrs:{slot:"content"},slot:"content"},[o("x-input",{attrs:{title:"AppKey",placeholder:"输入萤石云控制台中的AppKey"},model:{value:e.editProject.ys.appkey,callback:function(t){e.$set(e.editProject.ys,"appkey",t)},expression:"editProject.ys.appkey"}}),e._v(" "),o("x-input",{attrs:{title:"AppSecret",placeholder:"输入萤石云控制台中的AppSecret"},model:{value:e.editProject.ys.appsecret,callback:function(t){e.$set(e.editProject.ys,"appsecret",t)},expression:"editProject.ys.appsecret"}})],1)])]:e._e()],2),e._v(" "),o("br"),e._v(" "),o("x-button",{attrs:{type:"warn"},nativeOn:{click:function(t){e.closeProject(e.editProject,e.editProject.index)}}},[e._v(e._s(1===e.editProject.IsActive?"关闭项目":"重新打开项目")+"\n      ")]),e._v(" "),o("br")],1)],1),e._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%"},model:{value:e.showAddAccountPickUpDlg,callback:function(t){e.showAddAccountPickUpDlg=t},expression:"showAddAccountPickUpDlg"}},[o("x-header",{attrs:{"left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(t){e.showAddAccountPickUpDlg=!1}}},[e._v("\n        可选参与人员姓名列表\n      ")]),e._v(" "),o("search-check-list",{attrs:{data:e.users,keyword:"人员"},on:{"on-change":e.userCheckChange},model:{value:e.usersModel,callback:function(t){e.usersModel=t},expression:"usersModel"}})],1)],1),e._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%"},model:{value:e.showProjectTypeDlg,callback:function(t){e.showProjectTypeDlg=t},expression:"showProjectTypeDlg"}},[o("x-header",{attrs:{"left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(t){e.showProjectTypeDlg=!1}}},[e._v("\n        可选项目类型列表\n      ")]),e._v(" "),o("checklist",{attrs:{title:"选择一个项目类型(默认为单位工程项目)",required:"",max:1,options:e.projectTypes},on:{"on-change":e.selectProjectTypeChange},model:{value:e.projectTypesModel,callback:function(t){e.projectTypesModel=t},expression:"projectTypesModel"}})],1)],1)],1)},staticRenderFns:[]};var L=o("./node_modules/vue-loader/lib/component-normalizer.js")(U,Q,!1,function(e){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-633e339c","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/ProjectManage.vue')},"data-v-633e339c",null);t.default=L.exports}});