(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{305:function(t,n,s){"use strict";s.r(n);var a=s(6),e=Object(a.a)({},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"python-installation-更新到2019年8月10日"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#python-installation-更新到2019年8月10日","aria-hidden":"true"}},[t._v("#")]),t._v(" Python installation [更新到2019年8月10日]")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://linuxize.com/post/how-to-install-python-3-7-on-debian-9/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to Install Python 3.7 on Debian 9"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://jcutrer.com/linux/upgrade-python37-ubuntu1810",target:"_blank",rel:"noopener noreferrer"}},[t._v("Modify python command"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-shell script extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" remove python3\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" purge python3\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("whereis")]),t._v(" python3 python3.5\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" update\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" build-essential zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libssl-dev libreadline-dev libffi-dev "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://www.python.org/ftp/python/3.7.4/Python-3.7.4.tar.xz\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -xf Python-3.7.4.tar.xz\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" Python-3.7.4\n$ ./configure --enable-optimizations\n$ nproc\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" -j 8  / "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" -j 4\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" altinstall\n$ python3.7 -V\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" /usr/bin/python*\n$ update-alternatives --list python\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" update-alternatives --install /usr/bin/python python /usr/local/bin/python3.7 2\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" update-alternatives --install /usr/bin/python3 python3 /usr/local/bin/python3.7 2\n$ update-alternatives --list python\n$ update-alternatives --config python\n\n")])])]),s("h2",{attrs:{id:"pip-pipenv-installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pip-pipenv-installation","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("pip")]),t._v(", "),s("code",[t._v("pipenv")]),t._v(" installation")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://linuxize.com/post/how-to-install-pip-on-debian-9/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to install Pip"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.ostechnix.com/pipenv-officially-recommended-python-packaging-tool/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to install pipenv"),s("OutboundLink")],1)]),t._v(" "),s("ol",[s("li",[s("code",[t._v("pip")]),t._v(" 安装")])]),t._v(" "),s("div",{staticClass:"language-shell script extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://bootstrap.pypa.io/get-pip.py\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" python3 get-pip.py\n")])])]),s("p",[t._v("如果出现错误： Command '('lsb_release', '-a')' returned non-zero\n参考 (https://stackoverflow.com/questions/44967202/pip-is-showing-error-lsb-release-a-returned-non-zero-exit-status-1)，\n使用命令： sudo nano  /usr/bin/lsb_release\nedited the first line from #! /usr/bin/python3 to #! /usr/bin/python3.7")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("如果出错：Package 'python3-distutils' has no installation candidat\n\n\n$ pip -V\n")])])]),s("p",[t._v("如果出现错误： ImportError: cannot import name 'main' from 'pip'，因为"),s("code",[t._v("pip")]),t._v("使用的是python2.7的命令，所以应该参考如下： https://stackoverflow.com/questions/44455001/how-to-change-pip3-command-to-be-pip/44455078")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ pip3 -V\n$ alias pip=pip3\n$ sudo update-alternatives --install /usr/bin/pip pip /usr/bin/pip3 1\n$  pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n\n")])])]),s("p",[t._v("切换源")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("#创建目录\nmkdir -p ~/.pip\n#修改配置文件\nvim  ~/.pip/pip.conf\n#写入以下内容并保存\n[global]\nindex-url = https://mirrors.aliyun.com/pypi/simple/\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[s("code",[t._v("pipenv")]),t._v("安装")])]),t._v(" "),s("div",{staticClass:"language-shell script extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --user pipenv\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" python -m site --user-base\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nano")]),t._v(" ~/.profile\n "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" PATH"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOME")]),t._v("/.local/bin:"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH")]),t._v('"')]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("source")]),t._v(" ~/.profile\n$ pipenv --update\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" PIPENV_VENV_IN_PROJECT"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("1 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("for linux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" , SET PIPENV_VENV_IN_PROJECT"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("for windows"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n$ pipenv shell\n$ pipenv "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" / pipenv "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -r requirements.txt\n$ pipenv update\n\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[s("code",[t._v("pipenv")]),t._v("在Idea中环境搭建")])]),t._v(" "),s("li",[s("p",[t._v("Start from IDEA to create a new project")])]),t._v(" "),s("li",[s("p",[t._v("Select the "),s("strong",[t._v("Project SDK")]),t._v(" with "),s("strong",[t._v("System Intepreter")]),t._v(", if not just create one.")])]),t._v(" "),s("li",[s("p",[t._v("Change pipenv source\n"),s("code",[t._v("go to %appdata%\\pip\\pip.ini")]),t._v(" default index: https://pypi.org/simple")])])]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[global]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("timeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" 6000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("index-url")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" http://pypi.douban.com/simple/ ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[install]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("use-mirrors")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mirrors")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" http://pypi.douban.com/simple/ ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("trusted-host")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" pypi.douban.com")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[s("p",[t._v("create .venv directory\n"),s("code",[t._v("export PIPENV_VENV_IN_PROJECT=1")]),t._v(" or "),s("code",[t._v("SET PIPENV_VENV_IN_PROJECT=1")])])]),t._v(" "),s("li",[s("p",[t._v("activate the pipenv\n"),s("code",[t._v("pipenv shell")])])]),t._v(" "),s("li",[s("p",[t._v("Change the pipenv url")])])]),t._v(" "),s("p",[t._v("Change the "),s("code",[t._v("Pipfile")]),t._v(" url to "),s("code",[t._v("https://pypi.tuna.tsinghua.edu.cn/simple")])]),t._v(" "),s("ol",{attrs:{start:"7"}},[s("li",[s("p",[t._v("install package\n"),s("code",[t._v("pipenv install")]),t._v(" or "),s("code",[t._v("pipenv install -r requirements.txt")]),t._v(" (如果安装使用了老格式的virtualEnv)\n"),s("code",[t._v("pipenv install --verbose")])])]),t._v(" "),s("li",[s("p",[t._v("pip update\n"),s("code",[t._v("pipenv update")])])]),t._v(" "),s("li",[s("p",[t._v("graph show\n"),s("code",[t._v("pipenv graph")])])]),t._v(" "),s("li",[s("p",[t._v("export to requirement:\n"),s("code",[t._v("pipenv lock -r")]),t._v(" or "),s("code",[t._v("pipenv lock -r --dev")])])])])])},[],!1,null,null,null);n.default=e.exports}}]);