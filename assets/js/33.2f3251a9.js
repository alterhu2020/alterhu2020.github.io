(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{310:function(a,i,o){"use strict";o.r(i);var t=o(6),e=Object(t.a)({},function(){var a=this,i=a.$createElement,o=a._self._c||i;return o("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[o("h2",{attrs:{id:"开始ionic-capacitor-开发混合移动应用"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#开始ionic-capacitor-开发混合移动应用","aria-hidden":"true"}},[a._v("#")]),a._v(" 开始ionic + capacitor 开发混合移动应用")]),a._v(" "),o("h3",{attrs:{id:"com-android-builder-internal-aapt-v2-aapt2exception-android-resource-linking-failed"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#com-android-builder-internal-aapt-v2-aapt2exception-android-resource-linking-failed","aria-hidden":"true"}},[a._v("#")]),a._v(" com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource linking failed")]),a._v(" "),o("ol",[o("li",[a._v("在Android studio中打开toggle view进行查看详细的信息发现如下：")])]),a._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("> Task :capacitor-android:compileDebugJavaWithJavac FAILED\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\AndroidProtocolHandler.java:56: 错误: -source 1.6 中不支持 multi-catch 语句\n    } catch (ClassNotFoundException | IllegalAccessException | NoSuchFieldException e) {\n                                    ^\n  (请使用 -source 7 或更高版本以启用 multi-catch 语句)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\Bridge.java:117: 错误: -source 1.6 中不支持 diamond 运算符\n  private Map<String, PluginHandle> plugins = new HashMap<>();\n                                                          ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\Bridge.java:461: 错误: -source 1.6 中不支持 multi-catch 语句\n          } catch(PluginLoadException | InvalidPluginMethodException | PluginInvocationException ex) {\n                                      ^\n  (请使用 -source 7 或更高版本以启用 multi-catch 语句)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\BridgeActivity.java:39: 错误: -source 1.6 中不支持 diamond 运算符\n  private List<Class<? extends Plugin>> initialPlugins = new ArrayList<>();\n                                                                       ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\JSArray.java:21: 错误: -source 1.6 中不支持 diamond 运算符\n    List<E> items = new ArrayList<>();\n                                  ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\JSObject.java:34: 错误: -source 1.6 中不支持 diamond 运算符\n    List<String> keys = new ArrayList<>();\n                                      ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\plugin\\Filesystem.java:264: 错误: -source 1.6 中不支持 try-with-resources\n      try (BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(\n          ^\n  (请使用 -source 7 或更高版本以启用 try-with-resources)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\plugin\\Geolocation.java:40: 错误: -source 1.6 中不支持 diamond 运算符\n  Map<String, PluginCall> watchingCalls = new HashMap<>();\n                                                      ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\plugin\\notification\\LocalNotification.java:110: 错误: -source 1.6 中不支持 diamond 运算符\n    List<LocalNotification> resultLocalNotifications = new ArrayList<>(notificationArray.length());\n                                                                     ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\plugin\\notification\\LocalNotificationAttachment.java:42: 错误: -source 1.6 中不支持 diamond 运算符\n    List<LocalNotificationAttachment> attachmentsList = new ArrayList<>();\n                                                                      ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\plugin\\notification\\NotificationAction.java:37: 错误: -source 1.6 中不支持 diamond 运算符\n    Map<String, NotificationAction[]> actionTypeMap = new HashMap<>();\n                                                                  ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\plugin\\notification\\NotificationStorage.java:49: 错误: -source 1.6 中不支持 diamond 运算符\n      return new ArrayList<>(all.keySet());\n                           ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\Plugin.java:53: 错误: -source 1.6 中不支持 diamond 运算符\n    eventListeners = new HashMap<>();\n                                 ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\PluginCall.java:234: 错误: -source 1.6 中不支持 diamond 运算符\n        List<Object> items = new ArrayList<>();\n                                           ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\PluginHandle.java:17: 错误: -source 1.6 中不支持 diamond 运算符\n  private Map<String, PluginMethodHandle> pluginMethods = new HashMap<>();\n                                                                      ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\PluginHandle.java:74: 错误: -source 1.6 中不支持 multi-catch 语句\n    } catch(InstantiationException | IllegalAccessException ex) {\n                                   ^\n  (请使用 -source 7 或更高版本以启用 multi-catch 语句)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\util\\HostMask.java:87: 错误: -source 1.6 中不支持 diamond 运算符\n            List<HostMask.Simple> masks = new ArrayList<>();\n                                                        ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\nD:\\GitRepository\\yitieyilu.com\\yanzhi-web\\material-sharing\\node_modules\\@capacitor\\android\\capacitor\\src\\main\\java\\com\\getcapacitor\\WebViewLocalServer.java:96: 错误: -source 1.6 中不支持 diamond 运算符\n        tempResponseHeaders = new HashMap<>();\n                                          ^\n  (请使用 -source 7 或更高版本以启用 diamond 运算符)\n18 个错误\n\n\n")])])]),o("p",[a._v("问题原因，没有正确配置gradle机器对应的Android sdk版本。\n配置gradle环境变量：")]),a._v(" "),o("ul",[o("li",[a._v("GRADLE_HOME =")])]),a._v(" "),o("blockquote",[o("p",[a._v("gradle会下载相关需要依赖的jar包，默认的本地存放地址是：C:/Users/(用户名)/.gradle/caches/modules-2/files-2.1")])]),a._v(" "),o("ul",[o("li",[a._v("GRADEL_USER_HOME = E:\\GradleRepository (但是对于IDEA来说木有用（当然上面的环境变量还是要添加的），在IDEA中使用gradle需要修改Gradle的路径: Service Directory Path)")])]),a._v(" "),o("h2",{attrs:{id:"添加删除android-sdk"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#添加删除android-sdk","aria-hidden":"true"}},[a._v("#")]),a._v(" 添加删除Android SDK")]),a._v(" "),o("blockquote",[o("p",[a._v("在Androidstudio集成的Android sdk中勾选或者不勾选然后选择apply进行删除添加操作。")])]),a._v(" "),o("h2",{attrs:{id:"gradle-离线下载"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#gradle-离线下载","aria-hidden":"true"}},[a._v("#")]),a._v(" gradle 离线下载")]),a._v(" "),o("p",[a._v("gradle工程没有会找文件 gradle/wrapper/gradle-wrapper.properties 里面的相关配置，下载对应的gradle包从如下配置：\n"),o("code",[a._v("distributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip")]),a._v(", 所以每个gradle工程记得配置这个参数。\n一次下载后后面就不会再下载了。记得配置"),o("code",[a._v("GRADLE_USER_HOME")]),a._v("环境变量。")])])},[],!1,null,null,null);i.default=e.exports}}]);