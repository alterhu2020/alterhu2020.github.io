<!DOCTYPE html>
<html lang="zh_cn">
<head>

        <title>vuejs中使用的一些重要技巧</title>
        <meta charset="utf-8"/>
        <meta name="description" content="

style中配置background-color, background-image 变量¶ 代码如下 <v-btn color="primary" fab dark …">
        <meta name="keywords"
              content="Linux,pelican,Python自动化,Python笔记,Python,Python技巧,Python web,Python人工智能,Python后台,Python算法,github,软件测试,测试框架,测试开发,白盒测试,Selenium,Selenium开发,Vuejs,树莓派,自动化测试,编程语言,大数据,人工智能,开源软件,创业,程序员找工作,移动互联网,生活时尚,情感交流,软件测试,技术博客">
        <meta name="author" content="PingBook">       
        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

            <link href="https://pingbook.top/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="PingBook Blog Full Atom Feed"/>


        <link rel="stylesheet" type="text/css" href="../../theme/gumby.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/style.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/pygment.css"/>


        <script src="../../theme/js/libs/modernizr-2.6.2.min.js"></script>

            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({
                    google_ad_client: "ca-pub-1893384651266286",
                    enable_page_level_ads: true
                });
            </script>

            <!-- Global site tag (gtag.js) - Google Analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122219517-1"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'UA-122219517-1');
            </script>

        <script>
            (function(){
                var bp = document.createElement('script');
                var curProtocol = window.location.protocol.split(':')[0];
                if (curProtocol === 'https'){
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else{
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
            })();
        </script>

        <!---->

</head>

<body id="index" class="home">


<div class="container">
    <div class="row">

        <header id="banner" class="body">

            <h1><a href="../..">PingBook Blog <strong></strong></a></h1>
        </header><!-- /#banner -->

        <div id="navigation" class="navbar row">
            <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
            <ul class="columns" style="width: 100%">

                    <li ><a href="/">Home</a></li>
                    <li ><a href="/categories">Category</a></li>
                    <li ><a href="/archives">Archive</a></li>
                    <li ><a href="/tags">Tags</a></li>
                    <li ><a href="/about">About</a></li>
                    <li ><a href="/change-log">Changes</a></li>
            <li >
                <div style="display: block;
    padding: 0 16px;
    white-space: nowrap;
    color: white;
    text-shadow: 0 1px 2px #191a1b, 0 1px 0 #191a1b;
    height: 60px;
    line-height: 58px;
    font-size: 16px;
    font-size: 1rem;">
                <form class="navbar-search" action="../../search.html"
                      onsubmit="return validateForm(this.elements['q'].value);">
                    <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input">
                </form>
                </div>
            </li>

            </ul>


        </div>

            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins style="display:block"
                 data-ad-format="fluid"
                 data-ad-layout-key="-6q+ed+2h-1m-4v"
                 data-ad-client="ca-pub-1893384651266286"
                 data-ad-slot="9234880829"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
    <section id="content" class="body">

        <div class="row">

            <div class="eleven columns">
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle"
                         style="display:block; text-align:center;"
                         data-ad-layout="in-article"
                         data-ad-format="fluid"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="3627740042"
                    ></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                <header>
                    <h2 class="entry-title">
                        <a href="../../articles/vuejs-best-tips/" rel="bookmark"
                           title="Permalink to vuejs中使用的一些重要技巧">vuejs中使用的一些重要技巧</a></h2>
                    
                </header>
                <footer class="post-info">
                    <!--<abbr class="published" title="2018-09-27T10:38:29.057796+08:00">-->
                    <!--2018-09-27 10:38:29-->
                    <!--</abbr>-->
                    <!---->
                        <!--<address class="vcard author">By -->
                        <!---->
                            <!--<a class="url fn" href="../../author/walter-hu"> Walter Hu</a>-->
                            <!---->
                        <!--</address>-->
                        <!---->
                    <address class="vcard author" style="font-style:italic;margin-bottom:-10px;">
                        Posted on 2018-09-27 10:38:29
                            &nbsp;&nbsp;By
                            <a class="url fn" href="../../author/walter-hu">Walter Hu</a>

                        <span id="busuanzi_container_page_pv">, <i class="icon-eye icon-large"></i><span
                                id="busuanzi_value_page_pv"></span></span>
                    </address>
                    <hr/>
                </footer><!-- /.post-info -->
                <div class="entry-content">
                    <h2 id="stylebackground-color-background-image">style中配置<code>background-color</code>, <code>background-image</code> 变量<a class="headerlink" href="#stylebackground-color-background-image" title="Permanent link">&para;</a></h2>
<p>代码如下</p>
<div class="highlight"><pre><span class="code-line"><span></span> <span class="nt">&lt;v-btn</span> <span class="na">color=</span><span class="s">&quot;primary&quot;</span> <span class="err">fab</span> <span class="err">dark</span></span>
<span class="code-line">           <span class="na">class=</span><span class="s">&quot;checkbtn&quot;</span></span>
<span class="code-line">           <span class="na">:style=</span><span class="s">&quot;{</span></span>
<span class="code-line"><span class="s">                      marginTop: &#39;8%&#39;,</span></span>
<span class="code-line"><span class="s">                      height: &#39;240px&#39;,</span></span>
<span class="code-line"><span class="s">                      width: &#39;240px&#39;,</span></span>
<span class="code-line"><span class="s">                      backgroundColor: backgroundcolor,</span></span>
<span class="code-line"><span class="s">                      backgroundRepeat: &#39;no-repeat&#39;,</span></span>
<span class="code-line"><span class="s">                      backgroundPosition: &#39;center&#39;,</span></span>
<span class="code-line"><span class="s">                      backgroundSize: &#39;180px auto&#39;,</span></span>
<span class="code-line"><span class="s">                      backgroundImage: &#39;url(&#39; + backgroundimage + &#39;)&#39;}&quot;</span></span>
<span class="code-line">           <span class="err">@</span><span class="na">click.native=</span><span class="s">&quot;submitCheckin&quot;</span></span>
<span class="code-line">           <span class="na">:disabled=</span><span class="s">&quot;AlreadyCheckin&quot;</span><span class="nt">&gt;</span></span>
<span class="code-line">      <span class="cp">{{</span><span class="nv">checkinContent</span><span class="cp">}}</span></span>
<span class="code-line">    <span class="nt">&lt;/v-btn&gt;</span></span>
<span class="code-line"></span>
<span class="code-line">export default {</span>
<span class="code-line">  name: &#39;CheckingIn&#39;,</span>
<span class="code-line">  data () {</span>
<span class="code-line">    return {</span>
<span class="code-line">      checkinContent: &#39;&#39;,</span>
<span class="code-line">      AlreadyCheckin: false,</span>
<span class="code-line">      backgroundcolor: &#39;green&#39;,</span>
<span class="code-line">      backgroundimage: require(&#39;../assets/img/finger.png&#39;),</span>
<span class="code-line">      checkinNote: &#39;&#39;</span>
<span class="code-line">    }</span>
<span class="code-line">  },</span>
</pre></div>


<h2 id="foreachindex"><code>foreach</code>获得<code>index</code><a class="headerlink" href="#foreachindex" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span class="code-line"><span></span>[].foreach((item,index)=&gt;{</span>
<span class="code-line"></span>
<span class="code-line">})</span>
<span class="code-line"></span>
<span class="code-line">同vue的for循环一致,比如下面的</span>
<span class="code-line"><span class="nt">&lt;template</span> <span class="na">v-for=</span><span class="s">&quot;(task,index) in tasks&quot;</span><span class="nt">&gt;</span></span>
<span class="code-line"><span class="nt">&lt;/template&gt;</span></span>
</pre></div>


<h3 id="_1">匹配子字符串<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span class="code-line"><span></span><span class="cm">/**</span></span>
<span class="code-line"><span class="cm"> * 匹配子字符串</span></span>
<span class="code-line"><span class="cm"> * @param content</span></span>
<span class="code-line"><span class="cm"> * @param substr</span></span>
<span class="code-line"><span class="cm"> * @returns {boolean}</span></span>
<span class="code-line"><span class="cm"> */</span><span class="w"></span></span>
<span class="code-line">const<span class="w"> </span>matchSubString<span class="w"> </span><span class="o">=</span><span class="w"> </span>function<span class="w"> </span><span class="o">(</span>content<span class="o">,</span><span class="w"> </span>substr<span class="o">)</span><span class="w"> </span><span class="err">{</span><span class="w"></span></span>
<span class="code-line"><span class="w">  </span>let<span class="w"> </span>foundSubStr<span class="w"> </span><span class="o">=</span><span class="w"> </span>false<span class="w"></span></span>
<span class="code-line"><span class="w">  </span>const<span class="w"> </span>reg<span class="w"> </span><span class="o">=</span><span class="w"> </span>new<span class="w"> </span>RegExp<span class="o">(</span><span class="s">&#39;.*&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>substr<span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#39;.*&#39;</span><span class="o">,</span><span class="w"> </span><span class="s">&#39;g&#39;</span><span class="o">)</span><span class="w"></span></span>
<span class="code-line"><span class="w">  </span><span class="kr">if</span><span class="w"> </span><span class="o">(</span>content<span class="o">.</span>match<span class="o">(</span>reg<span class="o">))</span><span class="w"> </span><span class="err">{</span><span class="w"></span></span>
<span class="code-line"><span class="w">    </span><span class="cm">/* Match found */</span><span class="w"></span></span>
<span class="code-line"><span class="w">    </span>foundSubStr<span class="w"> </span><span class="o">=</span><span class="w"> </span>true<span class="w"></span></span>
<span class="code-line"><span class="w">  </span><span class="err">}</span><span class="w"></span></span>
<span class="code-line"><span class="w">  </span><span class="kr">return</span><span class="w"> </span>foundSubStr<span class="w"></span></span>
<span class="code-line"><span class="err">}</span><span class="w"></span></span>
</pre></div>


<h3 id="_2">父组件中修改子组件的样式<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<blockquote>
<p>官方参考文档: https://vue-loader.vuejs.org/zh/guide/scoped-css.html#%E6%B7%B7%E7%94%A8%E6%9C%<span class="caps">AC</span>%E5%9C%B0%E5%92%8C%E5%85%A8%E5%B1%80%E6%A0%B7%E5%<span class="caps">BC</span>%8F</p>
</blockquote>
<h4 id="_3">操作步骤<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<ol>
<li>首先需要在父组件中对子组件标记一个<code>class</code>选择器属性,这样css中的样式可以选择对应得节点,如下代码例子:</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span>1. 父组件中引用了子组件 x-header</span>
<span class="code-line"><span class="nt">&lt;x-header</span></span>
<span class="code-line">      <span class="na">class=</span><span class="s">&quot;x-header&quot;</span></span>
<span class="code-line">      <span class="na">:title=</span><span class="s">&quot;headertitle&quot;</span></span>
<span class="code-line">      <span class="na">:left-options=</span><span class="s">&quot;{showBack: true,preventGoBack:true}&quot;</span></span>
<span class="code-line">      <span class="err">@</span><span class="na">on-click-back=</span><span class="s">&quot;backCameraList&quot;</span></span>
<span class="code-line">    <span class="nt">&gt;</span></span>
<span class="code-line">      <span class="nt">&lt;x-button</span> <span class="na">slot=</span><span class="s">&quot;right&quot;</span> <span class="err">mini</span> <span class="na">type=</span><span class="s">&quot;primary&quot;</span> <span class="err">@</span><span class="na">click=</span><span class="s">&quot;refreshPage&quot;</span><span class="nt">&gt;</span></span>
<span class="code-line">       刷新</span>
<span class="code-line">      <span class="nt">&lt;/x-button&gt;</span></span>
<span class="code-line"><span class="nt">&lt;/x-header&gt;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nt">&lt;style</span> <span class="na">lang=</span><span class="s">&quot;css&quot;</span> <span class="err">scoped</span><span class="nt">&gt;</span></span>
<span class="code-line">  .x-header /deep/ .vux-header-right {</span>
<span class="code-line">     top: 10px!important;</span>
<span class="code-line">   }</span>
<span class="code-line">   #player {</span>
<span class="code-line">     position: absolute !important;</span>
<span class="code-line">     width: 100%;</span>
<span class="code-line">     height:90%;</span>
<span class="code-line">   }</span>
<span class="code-line"><span class="nt">&lt;/style&gt;</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">2. 子组件中定义了x-header中的.vux-header-right的样式等信息,但是在上面的父组件中可以覆盖子组件的样式.</span>
</pre></div>


<h3 id="vue-historyjssdkiosinvalid-signature">Vue history模式下微信jssdk在IOS设备上需要刷新否则invalid signature<a class="headerlink" href="#vue-historyjssdkiosinvalid-signature" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span class="code-line"><span></span><span class="err">问题分析</span><span class="o">:</span><span class="err">因为苹果分享会是调取签名失败是因为</span><span class="o">:</span><span class="err">苹果在微信中浏览器机制和安卓不同</span><span class="o">,</span><span class="err">有</span><span class="n">IOS缓存问题</span><span class="err">，和</span><span class="n">IOS对单页面的优化问题</span><span class="err">，通俗点说安卓进行页面跳转分享时会刷新当前的</span><span class="n">url</span><span class="o">,</span><span class="err">而苹果不会，苹果是通过历史记录进来的，不会刷新</span><span class="n">url所以会导致签名失败</span><span class="o">(</span><span class="err">这里解释的可能不够详细，可以去百度</span><span class="o">)</span><span class="err">。</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="err">因为需求只需要分享当前页面的时候有自定义内容</span><span class="o">,</span><span class="err">其他页面分享出去是公众号都无所谓，主要是活动，所以就用了如下解决办法！！！！</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="err">因为</span><span class="n">vue的history在IOS的微信分享时不会刷新</span><span class="err">，但是我们又要做自定义分享。我在网上也看了很多，比如什么</span><span class="n">beforerouteEnter的路由判断</span><span class="err">，或者写在</span><span class="n">Vue</span><span class="o">.</span><span class="na">prototype</span><span class="o">.</span><span class="na">Wxshare</span><span class="o">()</span><span class="err">的原型链中等，看起来都太麻烦，不够简单粗暴，但是这些方法可以好像可以做到判断每一个分享页面的自定义内容。而我只需要当前分享特定的单一页面，那么我们在</span><span class="n">A页面跳转B页面</span><span class="err">（需要分享的页面）就不用</span><span class="n">vue的history的push来跳转传参</span><span class="err">，我们用！我们用！我们用！</span><span class="n">window</span><span class="o">.</span><span class="na">location</span><span class="o">.</span><span class="na">href</span><span class="o">=</span><span class="s2">&quot;....&quot;</span><span class="err">来跳转传参，重要的事情说三遍</span><span class="o">!!!!</span></span>
</pre></div>
                </div><!-- /.entry-content -->
                <br>
                <div><span>Categories:</span>JavaScript</div>
                <br>
                <ul style="list-style-type: none;">
                        <li style="display: inline;margin-left: 10px; margin-right: auto;">
                            <a href="../../articles/videojs-vue-plugin/">
                                ◄&nbsp;&nbsp;How to player video.js in&nbsp;Vue
                            </a>
                        </li>
                        <li style="display: inline;margin-left: 100px; margin-right: auto;">
                            <a href="../../articles/mobile-debugger-feature/">
                                How to debug in real device for Android and&nbsp;IPhone&nbsp;&nbsp;►
                            </a>
                        </li>
                </ul>
                <hr/>
                <div class="comments">
                    <h3>Recommended for you</h3>
                </div>
                <hr/>
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle"
                         style="display:block; text-align:center;"
                         data-ad-layout="in-article"
                         data-ad-format="fluid"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="1372702676"
                    ></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                    <div class="comments">
                        <h3>Comments</h3>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                            var disqus_identifier = "articles/vuejs-best-tips/";
                            (function () {
                                var dsq = document.createElement('script');
                                dsq.type = 'text/javascript';
                                dsq.async = true;
                                dsq.src = 'https://pingbook.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                            })();
                        </script>
                        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments
                            powered by Disqus</a>.
                        </noscript>
                    </div>

            </div><!-- /.eleven.columns -->

<div class="three columns">
    <nav class="widget sidebarbg">
        <h4>Navigation</h4>
        <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/categories">Category</a></li>
                <li><a href="/archives">Archive</a></li>
                <li><a href="/tags">Tags</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/change-log">Changes</a></li>
        </ul>
    </nav>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-format="fluid"
             data-ad-layout-key="-6t+ed+2i-1n-4w"
             data-ad-client="ca-pub-1893384651266286"
             data-ad-slot="5737546993"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        <div class="sidebarbg">
            <nav class="widget">
                <h4>Categories</h4>
                <ul class="blank">
                        <li><a href="../../category/tools/">Tools</a></li>
                        <li><a href="../../category/sql/">SQL</a></li>
                        <li><a href="../../category/softwaretesting/">SoftwareTesting</a></li>
                        <li><a href="../../category/shu-mei-pai/">树莓派</a></li>
                        <li><a href="../../category/qi-ta/">其他</a></li>
                        <li><a href="../../category/python/">Python</a></li>
                        <li><a href="../../category/photoshop/">PhotoShop</a></li>
                        <li><a href="../../category/mian-shi/">面试</a></li>
                        <li><a href="../../category/linux/">Linux</a></li>
                        <li><a href="../../category/javascript/">JavaScript</a></li>
                        <li><a href="../../category/java/">Java</a></li>
                        <li><a href="../../category/bo-ke-da-jian/">博客搭建</a></li>
                </ul>
            </nav>
        </div>


        <nav class="widget sidebarbg">
            <h4>Tags</h4>
            <ul class="blank">
                    <li class="tag-4"><a href="../../tag/debugger/">Debugger</a></li>
                    <li class="tag-4"><a href="../../tag/idea/">IDEA</a></li>
                    <li class="tag-4"><a href="../../tag/intellij-idea/">IntelliJ Idea</a></li>
                    <li class="tag-1"><a href="../../tag/java/">Java</a></li>
                    <li class="tag-4"><a href="../../tag/javascript/">JavaScript</a></li>
                    <li class="tag-2"><a href="../../tag/mysql/">MYSQL</a></li>
                    <li class="tag-4"><a href="../../tag/mybatis/">Mybatis</a></li>
                    <li class="tag-1"><a href="../../tag/oracle/">Oracle</a></li>
                    <li class="tag-4"><a href="../../tag/photoshop/">PhotoShop</a></li>
                    <li class="tag-1"><a href="../../tag/python/">Python</a></li>
            </ul>
        </nav>

        <div class="social sidebarbg">

            <nav class="widget">
                <h4>Social</h4>
                <ul class="blank">
                        <li><a target="_blank" href="mailto:alterhu2020@gmail.com?subject=From PingBook question">gmail</a></li>
                        <li><a target="_blank" href="https://twitter.com/alterhu2020">twitter</a></li>
                        <li><a target="_blank" href="https://github.com/alterhu2020/alterhu2020.github.io">github</a></li>
                </ul>
            </nav>
        </div>
        <nav class="widget sidebarbg">
            <h4>Friends</h4>
            <ul>
                    <li><a target="_blank" href="http://www.cnblogs.com/alterhu/">我的博客园</a></li>
                    <li><a target="_blank" href="http://xiaohanyu.me/about/">[运维]Xiao Hanyu</a></li>
                    <li><a target="_blank" href="http://huangxuan.me/">[前端]黄玄的博客</a></li>
                    <li><a target="_blank" href="http://www.ruanyifeng.com/blog/">[前端]阮一峰</a></li>
                    <li><a target="_blank" href="https://kevin.deldycke.com/">[Python]Data Engineer</a></li>
            </ul>
        </nav>

</div>        </div><!-- /.row -->


    </section>

    </div><!-- /.row -->
</div><!-- /.container -->


<div class="container.nopad bg">

    <footer id="credits" class="row" style="margin-bottom: 0px;text-align: center;">
        <div class="seven columns left-center">

            <address id="about" class="vcard body">
                ©
                <script>document.write(new Date().getFullYear())</script>
                PingBook.top. Powered by <a href="http://getpelican.com/">Pelican</a>.
                <!--<br />-->
                <div>
                    <span id="busuanzi_container_site_pv">Site Views: <span id="busuanzi_value_site_pv"></span></span>,
                    <span id="busuanzi_container_site_uv">Total Vistors: <span
                            id="busuanzi_value_site_uv"></span></span>
                </div>
            </address>
        </div>


        <div class="seven columns">
            <div class="row">
                <ul class="socbtns">





                </ul>
            </div>
        </div>
    </footer>

</div>


<script type="text/javascript">
    var disqus_shortname = 'pingbook';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script src="../../theme/js/libs/jquery-1.9.1.min.js"></script>
<script src="../../theme/js/libs/gumby.min.js"></script>
<script>
    function validateForm(query) {
        return (query.length > 0);
    }
</script>
<script async src="../../theme/js/libs/busuanzi.pure.mini.js"></script>
<script src="../../theme/js/plugins.js"></script>
</body>
</html>