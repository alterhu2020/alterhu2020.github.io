webpackJsonp([39],{'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-89deed42","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/ProjectCameraPlayer.vue':function(e,t){},"./src/pages/ProjectCameraPlayer.vue":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("./node_modules/babel-runtime/core-js/json/stringify.js"),a=s.n(r),o=function(e,t,s){new ckplayer({container:e,variable:"player",live:!0,autoplay:!0,html5m3u8:!0,debug:s,flashplayer:!1,video:t,mobileCkControls:!1}).changeControlBarShow(!1)},i={name:"ProjectCameraPlayer",data:function(){return{headertitle:"摄像头实时画面",cameraid:null,liveAddress:"",hdAddress:"",rtmp:"",rtmpHd:"",playerOptions:{autoplay:!0,controls:!0,techOrder:["html5"],sourceOrder:!0,flash:{hls:{withCredentials:!1}},html5:{hls:{withCredentials:!1}},sources:[{withCredentials:!1,type:"application/x-mpegURL",src:"https://logos-channel.scaleengine.net/logos-channel/live/biblescreen-ad-free/playlist.m3u8"}],poster:"https://surmon-china.github.io/vue-quill-editor/static/images/surmon-5.jpg",controlBar:{timeDivider:!1,durationDisplay:!1}}}},methods:{playerReadied:function(e){e.tech({IWillNotUseThisInPlugins:!0}).hls,e.tech_.hls.xhr.beforeRequest=function(e){return e}},refreshPage:function(){this.$vux.loading.show({text:"正在加载实时画面..."}),this.$router.push({name:"pcameraplayer",params:{cameraname:this.$route.params.cameraname,cameraid:this.$route.params.cameraid,liveAddress:this.$route.params.liveAddress,hdAddress:this.$route.params.hdAddress,rtmp:this.$route.params.rtmp,rtmpHd:this.$route.params.rtmpHd}}),this.$vux.loading.hide()},backCameraList:function(){this.$router.push({name:"phome",params:{projectid:this.$route.params.projectid,projectname:this.$route.params.projectname,fromCamera:!0}})},configurePlayer:function(){var e=this;try{o("#player",this.hdAddress,!0)}catch(t){console.log("错误代码: "+t+",ezuikit.js文件没有加载成功, 转换成JSON字符串是: "+a()(t)+",2秒后重新加载!"),setTimeout(function(){o("#player",e.hdAddress,!0)},600)}}},created:function(){},mounted:function(){var e=this;this.$store.dispatch("UpdateShowHeader",!1),this.$store.dispatch("UpdateShowTabbar",!1),this.headertitle=this.$route.params.cameraname?this.$route.params.cameraname:"未知摄像头实时画面",this.cameraid=this.$route.params.cameraid,this.liveAddress=this.$route.params.hdAddress,this.playerOptions.sources[0].src=this.$route.params.liveAddress,this.hdAddress=this.$route.params.hdAddress,this.rtmp=this.$route.params.rtmp,this.rtmpHd=this.$route.params.rtmpHd,console.log("当前页面的播放地址是: "+this.hdAddress);var t=document.createElement("script");t.src="http://www.yitieyilu.com/pano/static/ckplayer/ckplayer.js",document.body.appendChild(t),console.log("判断ckplayer是否加载成功:  "+window.ckplayer),t.onload=function(){e.configurePlayer()}}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("x-header",{staticClass:"x-header",attrs:{title:this.headertitle,"left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":this.backCameraList}},[t("x-button",{attrs:{slot:"right",mini:"",type:"primary"},on:{click:this.refreshPage},slot:"right"},[this._v("\n      刷新\n    ")])],1),this._v(" "),t("div",{attrs:{id:"player"}})],1)},staticRenderFns:[]};var l=s("./node_modules/vue-loader/lib/component-normalizer.js")(i,d,!1,function(e){s('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-89deed42","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/ProjectCameraPlayer.vue')},"data-v-89deed42",null);t.default=l.exports}});