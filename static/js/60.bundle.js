webpackJsonp([60],{'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-14ef6d68","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/PanoPasswordChange.vue':function(e,t){},"./src/pages/PanoPasswordChange.vue":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("./src/api/index.js"),d=s("./src/utils/StoreUtils.js"),n=s("./src/webconfig.js"),r={name:"PanoPasswordChange",metaInfo:{title:"用户密码修改"},data:function(){return{leftOptions:{showBack:!0,backText:"返回"},rightOptions:{showMore:!1},oldpwd:"",newpwd:""}},computed:{headerTransition:function(){return this.direction?"forward"===this.direction?"vux-header-fade-in-right":"vux-header-fade-in-left":""}},methods:{updateUserPassword:function(){var e=this,t="修改密码提示";if(6<=this.oldpwd.length&&6<=this.newpwd.length){if(this.oldpwd===this.newpwd)return void this.$vux.alert.show({title:t,content:"旧密码和新密码不能一样,请检查输入后重试!"});var s={userid:d.a.get(n.a.StoreUserInfoKey).customerdata.userid,oldpassword:this.oldpwd,newpassword:this.newpwd},r=this;o.b.post("/user/resetpassword",s).then(function(t){var s=t.data.code;1e3===s?(e.$vux.toast.show({type:"warn",text:"密码设置成功,五秒后调转到登录页重新登录"}),setTimeout(function(){r.$router.push({name:"login"})},5e3)):2006===s?e.$vux.toast.show({type:"warn",text:"你输入的旧密码错误,请确认输入的旧密码正确！"}):2007===s?e.$vux.toast.show({type:"warn",text:"当前用户提交数据非法,无法找到对应的用户！"}):e.$vux.toast.show({type:"warn",text:"密码设置错误，数据获取失败！ "})})}else this.$vux.alert.show({title:t,content:"旧密码和新密码长度必须大于六位!"})}},activated:function(){this.$store.dispatch("UpdateShowHeader",!0)}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"100"},attrs:{slot:"header","left-options":e.leftOptions,"right-options":e.rightOptions,title:"密码修改",transition:e.headerTransition},slot:"header"}),e._v(" "),s("group",{attrs:{title:"修改我的密码"}},[s("x-input",{attrs:{title:"旧密码",type:"password",placeholder:"请输入你当前账号的密码","show-clear":!0},model:{value:e.oldpwd,callback:function(t){e.oldpwd="string"==typeof t?t.trim():t},expression:"oldpwd"}}),e._v(" "),s("x-input",{attrs:{title:"新密码",type:"password",placeholder:"请输入你需要修改后的密码",min:6},model:{value:e.newpwd,callback:function(t){e.newpwd="string"==typeof t?t.trim():t},expression:"newpwd"}})],1),e._v(" "),s("box",{attrs:{gap:"10px 10px"}},[s("x-button",{attrs:{type:"warn"},nativeOn:{click:function(t){return e.updateUserPassword(t)}}},[e._v("确认修改")])],1)],1)},staticRenderFns:[]};var i=s("./node_modules/vue-loader/lib/component-normalizer.js")(r,a,!1,function(e){s('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-14ef6d68","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/PanoPasswordChange.vue')},"data-v-14ef6d68",null);t.default=i.exports}});