webpackJsonp([42],{'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-748766f2","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/MaterialPlanEnter.vue':function(e,t){},"./src/pages/MaterialPlanEnter.vue":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("./node_modules/vux/src/components/badge/index.vue"),r=a("./node_modules/vux/src/components/button-tab/button-tab.vue"),s=a("./node_modules/vux/src/components/button-tab/button-tab-item.vue"),i=a("./node_modules/vux/src/components/checklist/index.vue"),l=a("./node_modules/vux/src/components/flexbox/flexbox.vue"),n=a("./node_modules/vux/src/components/flexbox/flexbox-item.vue"),c=a("./node_modules/vux/src/components/form-preview/index.vue"),p=a("./node_modules/vux/src/components/grid/grid.vue"),u=a("./node_modules/vux/src/components/grid/grid-item.vue"),d=a("./node_modules/vux/src/components/group-title/index.vue"),h=a("./node_modules/vux/src/components/load-more/index.vue"),m=a("./node_modules/vux/src/components/popup/index.vue"),v=a("./node_modules/vux/src/components/previewer/index.vue"),f=a("./node_modules/vux/src/components/search/index.vue"),y=a("./node_modules/vux/src/components/swipeout/swipeout.vue"),k=a("./node_modules/vux/src/components/swipeout/swipeout-button.vue"),x=a("./node_modules/vux/src/components/swipeout/swipeout-item.vue"),w=a("./node_modules/vux/src/components/swiper/swiper.vue"),g=a("./node_modules/vux/src/components/swiper/swiper-item.vue"),b=a("./node_modules/vux/src/components/x-number/index.vue"),_=a("./node_modules/vux/src/components/x-switch/index.vue"),M=a("./node_modules/vux/src/components/x-textarea/index.vue"),S=a("./node_modules/vux/src/components/datetime/index.vue"),A=a("./src/components/sticky.js"),D=a("./node_modules/vue-feather-icons/dist/vue-feather-icons.es.js"),j=a("./src/webconfig.js"),P=a("./src/utils/StoreUtils.js"),C=a("./src/api/index.js"),$=a("./src/utils/StringUtils.js"),U=a("./src/components/SelectProjectDialog.vue"),N=a("./src/utils/PlatformUtils.js"),B=a("./src/utils/ElectronUtils.js"),O=(A.a,r.a,s.a,D.d,m.a,b.a,_.a,M.a,h.a,p.a,u.a,d.a,w.a,g.a,x.a,k.a,y.a,o.a,l.a,n.a,v.a,i.a,c.a,f.a,S.a,U.a,{name:"MaterialPlanEnter",metaInfo:{title:"材料进场"},directives:{sticky:A.a},components:{ButtonTab:r.a,ButtonTabItem:s.a,PlusIcon:D.d,Popup:m.a,XNumber:b.a,XSwitch:_.a,XTextarea:M.a,LoadMore:h.a,Grid:p.a,GridItem:u.a,GroupTitle:d.a,Swiper:w.a,SwiperItem:g.a,SwipeoutItem:x.a,SwipeoutButton:k.a,Swipeout:y.a,Badge:o.a,Flexbox:l.a,FlexboxItem:n.a,Previewer:v.a,Checklist:i.a,FormPreview:c.a,Search:f.a,Datetime:S.a,SelectProjectDialog:U.a},data:function(){return{searchResults:[],searchModel:"",material:{type:1e3,name:"",date:"",price:0,quantity:1,unit:"",from:"",desc:"",usewhere:"",comments:"",department:"",applydate:"",applyname:"",applyusedate:""},showBudgetMaterialPopup:!1,selectedBudgetName:"请选择",updateMaterialTitle:"",showUpdateMaterialDlg:!1,showAddBtn:!1,canmaterial:!1,canmaterialapprove:!1,plans:{count:0,items:[]},shouldHover:!0,headTitle:"计划材料动态",showProjectSelectDlg:!1,project:{},materialid:null,materialPlanArrowDirection:"up",showApproveConfirmDlg:!1,approvedMaterialsDate:null,approvedMaterials:[],approvedMaterialsModel:[],makecopyersSearchModel:"",makecopyersSearchResults:[],makeCopyersModel:[],makeCopyers:[],storedMakeCopyers:[],showMakecopyPickUpDialog:!1,selectMakecopyNames:"请选择抄送人",approversSearchModel:"",approversSearchResults:[],approversModel:[],approvers:[],storedApprovers:[],showApprovePickUpDialog:!1,selectApproverName:"请选择审批人",userid:null,checkAllOptions:["全选/非全选"],checkAllModel:[]}},methods:{updateMaterialBackHandle:function(){this.showUpdateMaterialDlg=!1,this.showAddBtn=this.canmaterial},switchProject:function(){this.showProjectSelectDlg=!0,this.showAddBtn=!1,this.fetchPlans()},clickCellPlanArrowFlag:function(){this.materialPlanArrowDirection="up"===this.materialPlanArrowDirection?"down":"up"},clickCellBudgetArrowFlag:function(){this.materialBudgetArrowDirection="up"===this.materialBudgetArrowDirection?"down":"up"},clickCellArrowFlag:function(){this.materialArrowDirection="up"===this.materialArrowDirection?"down":"up"},deleteMaterial:function(e,t){var a=this,o="计划材料"+e.Name,r="/material/del/p/"+e.key;this.$vux.confirm.show({title:"删除"+o+"提示",content:"确定删除"+o+"?",onCancel:function(){},onConfirm:function(){a.$vux.loading.show({text:"删除"+o+"中..."}),C.b.delete(r).then(function(e){a.$vux.loading.hide(),1e3===e.data.code&&(a.plans.items.splice(t,1),--a.plans.count,a.$vux.toast.show({text:"删除"+o+"成功!"}))}).catch(function(e){a.$vux.loading.hide(),alert("删除材料出错,错误代码: "+e)})}})},updateMaterialDlg:function(e){this.showAddBtn=!1,this.showUpdateMaterialDlg=!0,this.materialid=e.key,this.updateMaterialTitle="计划材料信息修改",this.material.type=1002,this.material.department=e.ApplyDepartment,this.material.applydate=e.ApplyDate,this.material.applyname=e.ApplyName,this.material.ApplyUsedDate=e.ApplyUsedDate,this.material.name=e.Name,this.material.price=parseFloat(e.Price),this.material.quantity=parseFloat(e.Quantity),this.material.unit=e.Unit,this.material.usewhere=e.UsedWhere,this.material.comments=e.Comments},saveMaterial:function(){var e=this,t={type:1002,department:this.material.department,applydate:this.material.applydate,applyname:this.material.applyname,applyusedate:this.material.applyusedate,materialid:this.materialid,name:this.material.name,price:this.material.price,quantity:this.material.quantity,unit:this.material.unit,usewhere:this.material.usewhere,comments:this.material.comments},a="计划材料修改提示";null!==this.project.key?!this.material.name||0>=this.material.name.length?this.$vux.alert.show({title:a,content:"计划材料名称不能为空!"}):""===this.material.price||isNaN(this.material.price)?this.$vux.alert.show({title:a,content:"计划材料单价不能为空,必须大于零!"}):""===this.material.quantity||isNaN(this.material.quantity)?this.$vux.alert.show({title:a,content:"计划材料数量不能为空,必须大于零!"}):!this.material.unit||0>=this.material.unit.length?this.$vux.alert.show({title:a,content:"计划材料计量单位不能为空!"}):this.project.key&&0<this.material.name.length&&""!==this.material.quantity&&0<this.material.unit.length?(this.$vux.loading.show({text:"正在保存材料信息..."}),C.b.post("/material/update",t).then(function(t){e.$vux.loading.hide(),1e3===t.data.code&&(P.a.remove(j.a.StoreMaterial),e.$vux.toast.show({text:"更新材料信息成功,三秒后跳转到材料列表!"}),Object(N.b)()?e.$router.go(0):Object(B.b)())}).catch(function(t){e.$vux.loading.hide(),alert("保存材料信息出错,错误代码: "+t)})):this.$vux.alert.show({content:"请检查你的输入是否合法,材料名称,材料数量必须大于等于零,材料计量单位不能为空!"}):this.$vux.alert.show({title:a,content:"无法定位项目名称无法录入!"})},selectProject:function(e){this.showProjectSelectDlg=!1,this.project=e,this.showAddBtn=this.canmaterial,this.fetchPlans()},backPage:function(){this.$router.push({name:"ucenter"})},addMaterial:function(){if(Object(N.b)()){var e="pmaterialadd/"+this.project.key+"/1002";window.location.href=j.a.ServerBaseUrl+e}else this.$router.push({name:"pmaterialadd",params:{projectid:this.project.key,type:1002}})},fetchPlans:function(){var e=this;this.plans.count=0,this.plans.items=[],this.project.key&&(this.$vux.loading.show({text:"正在获取计划材料..."}),C.b.get("/material/get/p/"+this.project.key).then(function(t){if(e.$vux.loading.hide(),1e3===t.data.code){var a=t.data.data,o=a.items;e.plans.count=a.count,o.forEach(function(e){var t=[];e.result.forEach(function(e){var a=e.status;t.push(a)}),e.status=t.every(function(e){return 1e3===e})?1e3:t.every(function(e){return 1001===e})?1001:t.every(function(e){return 1002===e})?1002:t.every(function(e){return 1003===e})?1003:1e3}),e.plans.items=o}}).catch(function(t){e.$vux.loading.hide(),alert("获取计划材料出错,错误代码: "+t)}))},showProjectSelectOptionDlg:function(){this.showProjectSelectDlg=!0,this.fetchActiveProject()},approveMaterial:function(e){var t=this;this.showApproveConfirmDlg=!0,this.showAddBtn=!1,this.approvedMaterialsDate=e.date,this.approvedMaterials=[],this.approvedMaterialsModel=[],e.result.forEach(function(e){if(1e3===e.status||1001===e.status||1002===e.status){var a=e.key.toString();t.approvedMaterials.push({key:a,value:e.Name+", 数量: "+e.Quantity+",采购价格: "+e.Price+"(单位: "+e.Unit+")"}),t.approvedMaterialsModel.push(a)}}),this.fetchCompanyUsers()},hideApproveConfirmDlg:function(){this.showAddBtn=this.canmaterial},approveMaterialNow:function(){var e=this;this.showApproveConfirmDlg=!1;var t=e.approvedMaterialsModel.length,a=e.approversModel.length;return 0>=t?void this.$vux.alert.show({content:"至少勾选一个需要审批的材料!"}):1===a?void this.$vux.confirm.show({hideOnBlur:!0,title:"确认提交计划材料审批提示",content:"计划材料单将会提交给勾选的审批人，确认继续审批操作?",onCancel:function(){},onConfirm:function(){var t=null,a=[],o=e.storedApprovers.findIndex(function(t){return t.key===e.approversModel[0].toString()});if(console.log("find index is: "+o),0<=o&&(t=e.storedApprovers[o]),e.makeCopyersModel.forEach(function(t){var o=e.storedApprovers.findIndex(function(e){return e.key===t.toString()});0<=o&&a.push(e.storedApprovers[o])}),t&&0<a.length){var r={date:e.approvedMaterialsDate,userid:e.userid,materials:e.approvedMaterialsModel,approver:t,makecopyers:a};C.b.post("/material/plan/submit",r).then(function(t){1e3===t.data.code&&(e.$vux.toast.show({time:5e3,text:"您的审批单已经提交成功，请耐心等待审批结果！"}),setTimeout(function(){e.$router.push({name:"pcontract",params:{showtype:2}})},5e3))}).catch(function(e){alert("提交审批单出错，错误代码： "+e)})}else alert("获取审批人和抄送人信息失败！")}}):void this.$vux.alert.show({content:"必须勾选一个审批人!"})},makecopyersCancelSearch:function(){this.makeCopyers=this.storedMakeCopyers},makecopyersClickSearchResult:function(e){var t=e.title,a=e.other;this.makeCopyersModel.push(a),this.selectMakecopyNames=t},makecopyersInputSearchChange:function(e){var t=this;t.makecopyersSearchResults=[],this.makeCopyers.forEach(function(a){Object($.c)(a.value,e)&&t.makecopyersSearchResults.push({title:a.value,other:a.key})})},makecopyersSearchFocus:function(){this.makecopyersSearchResults=[]},approversCancelSearch:function(){this.approvers=this.storedApprovers},approversClickSearchResult:function(e){var t=e.title,a=e.other;this.approversModel.push(a),this.selectApproverName=t},approversInputSearchChange:function(e){var t=this;t.approversSearchResults=[],this.approvers.forEach(function(a){Object($.c)(a.value,e)&&t.approversSearchResults.push({title:a.value,other:a.key})})},approversSearchFocus:function(){this.approversSearchResults=[]},selectMakecopyChange:function(e,t){this.selectMakecopyNames=0>=e.length?"请选择抄送人":t.toString()},showMakecopyPickupHandle:function(){this.showMakecopyPickUpDialog=!0},selectApproveChange:function(e,t){this.selectApproverName=0>=e.length?"请选择审批人":t[0]},showApprovePickupHandle:function(){this.showApprovePickUpDialog=!0},fetchCompanyUsers:function(){var e=this,t=P.a.get(j.a.StoreUserInfoKey);this.userid=t.customerdata.userid;var a="/contract/makecopyers/"+this.project.key;this.$vux.loading.show({text:"正在加载数据..."}),this.storedApprovers=[],C.b.get(a).then(function(t){var a=t.data.code;(e.$vux.loading.hide(),1e3===a)&&(t.data.data.forEach(function(t){1===t.CanMaterialApprove&&e.storedApprovers.push({key:t.PanoUserKey.toString(),value:t.NickName,openid:t.Openid}),e.storedMakeCopyers.push({key:t.PanoUserKey.toString(),value:t.NickName,openid:t.Openid})}),e.approvers=e.storedApprovers,e.makeCopyers=e.storedApprovers,e.approversModel=[e.approvers[0].key],e.makeCopyersModel=[e.makeCopyers[0].key])}).catch(function(t){e.$vux.loading.hide(),console.log("获取账号列表出错: "+t)})},changeCheckAllOption:function(){}},watch:{},mounted:function(){this.$store.dispatch("UpdateShowHeader",!1),this.$store.dispatch("UpdateShowTabbar",!1);var e=P.a.get(j.a.StoreUserInfoKey);if(e)this.userid=e.customerdata.userid,this.canmaterial=e.customerdata.canmaterial,this.canmaterialapprove=e.customerdata.canmaterialapprove,this.showAddBtn=this.canmaterial;else{var t=this.$route.params.projectid;t&&(this.canmaterial=!0,this.canmaterialapprove=!0,this.showAddBtn=this.canmaterial,this.project.key=t,this.project.value=P.a.get(j.a.StoreProject)?P.a.get(j.a.StoreProject).value:"未知项目",this.fetchPlans())}var a=P.a.get(j.a.StoreProject);a?(this.project=a,this.fetchPlans()):this.showProjectSelectDlg=!0}}),I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("x-header",{attrs:{slot:"header","left-options":{showBack:!0,backText:"返回"},title:"材料采购计划"},slot:"header"}),e._v(" "),a("group-title",[e._v("当前项目:"+e._s(e.project.value?e.project.value:"未知")+"   "),a("a",{staticStyle:{color:"#00a7f5"},on:{click:function(t){return t.preventDefault(),e.switchProject(t)}}},[e._v("切换项目")])]),e._v(" "),e.showAddBtn?a("div",{staticClass:"fixbtn",class:[{hover:e.shouldHover}],on:{mouseenter:function(t){e.shouldHover=!0},mouseleave:function(t){e.shouldHover=!1},click:e.addMaterial}},[e._t("default",[a("plus-icon",{staticStyle:{color:"white"}})])],2):e._e(),e._v(" "),e.plans.count>0?a("div",[a("group-title",{staticStyle:{"font-size":"13px"}},[e._v("共有"),a("b",[e._v(e._s(e.plans.count))]),e._v("个采购计划材料")]),e._v(" "),a("div",e._l(e.plans.items,function(t,o){return a("div",{key:o,staticClass:"materialtitle"},[a("flexbox",[a("flexbox-item",{attrs:{span:7}},[a("group-title",{staticStyle:{"font-size":"14px !important"}},[e._v("申请日期："+e._s(t.date))])],1),e._v(" "),e.canmaterial?a("flexbox-item",[1e3===t.status?a("x-button",{attrs:{type:"primary",gradients:["#dfb320","#b2b224"],mini:""},nativeOn:{click:function(a){e.approveMaterial(t)}}},[e._v("审批")]):e._e(),e._v(" "),1001===t.status?a("x-button",{attrs:{type:"primary",disabled:"",mini:""}},[e._v("等待审批结果")]):e._e(),e._v(" "),1002===t.status?a("x-button",{attrs:{type:"primary",gradients:["#b20d09","#b21523"],mini:""},nativeOn:{click:function(a){e.approveMaterial(t)}}},[e._v("重新审批")]):e._e(),e._v(" "),1003===t.status?a("x-button",{attrs:{type:"primary",disabled:"",mini:""}},[e._v("审批通过")]):e._e()],1):e._e()],1),e._v(" "),a("swipeout",e._l(t.result,function(t,o){return a("swipeout-item",{key:o,attrs:{threshold:.5,"underlay-color":"#ccc"}},[e.canmaterial&&1003!==t?a("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[a("swipeout-button",{attrs:{type:"primary"},nativeOn:{click:function(a){e.updateMaterialDlg(t)}}},[e._v("修改")]),e._v(" "),a("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(a){e.deleteMaterial(t,o)}}},[e._v("删除")])],1):e._e(),e._v(" "),a("div",{staticClass:"project-content vux-1px-tb",attrs:{slot:"content"},slot:"content"},[a("cell",{key:o,attrs:{title:"名称: "+t.Name+", 数量: "+t.Quantity+", 采购单价: "+t.Price+"(单位："+t.Unit+")","inline-desc":"最后更新时间:"+t.ChangeDate,"is-link":"","border-intent":!1,"arrow-direction":e.materialPlanArrowDirection},nativeOn:{click:function(a){e.clickCellPlanArrowFlag(t)}}},[1e3===t.status?a("badge",{staticStyle:{"background-color":"#b2b224"},attrs:{slot:"icon",text:"待审批"},slot:"icon"}):1001===t.status?a("badge",{staticStyle:{"background-color":"#88df25"},attrs:{slot:"icon",text:"已提交"},slot:"icon"}):1002===t.status?a("badge",{staticStyle:{"background-color":"#b20d09"},attrs:{slot:"icon",text:"被拒绝"},slot:"icon"}):1003===t.status?a("badge",{staticStyle:{"background-color":"#18b20e"},attrs:{slot:"icon",text:"通过"},slot:"icon"}):e._e()],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"down"===e.materialPlanArrowDirection,expression:"materialPlanArrowDirection==='down'"}]},[a("form-preview",{attrs:{"header-label":"计划材料名称","header-value":t.Name,"body-items":[{label:"计划材料录入日期",value:t.ChangeDate},{label:"申请部门或班组",value:t.ApplyDepartment},{label:"申请时间",value:t.ApplyDate},{label:"申请人",value:t.ApplyName},{label:"需用日期",value:t.ApplyUsedDate},{label:"采购单价",value:t.Price},{label:"计划数量",value:t.Quantity},{label:"规格",value:t.Unit},{label:"使用部位",value:t.UsedWhere},{label:"备注",value:t.Comments}]}})],1)],1)])}))],1)}))],1):a("div",[a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("load-more",{attrs:{"show-loading":!1,tip:"当前项目无采购计划材料数据!","background-color":"#fbf9fe"}})],1),e._v(" "),a("select-project-dialog",{attrs:{show:e.showProjectSelectDlg},on:{"on-click-back":function(t){e.showProjectSelectDlg=!1,e.showAddBtn=e.canmaterial},"on-select-project":e.selectProject,"on-click-empty-button":function(t){e.$router.push({name:"pupload"})}}}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{height:"100%"},model:{value:e.showUpdateMaterialDlg,callback:function(t){e.showUpdateMaterialDlg=t},expression:"showUpdateMaterialDlg"}},[a("x-header",{attrs:{"left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":e.updateMaterialBackHandle}},[e._v("\n        "+e._s(e.updateMaterialTitle)+"\n      ")]),e._v(" "),a("cell",{attrs:{title:"项目名称"}},[e._v(e._s(e.project.value))]),e._v(" "),a("group",{attrs:{title:"计划采购材料申请基本信息"}},[a("cell",{attrs:{title:"申请部门或班组"}},[a("x-input",{attrs:{type:"text",placeholder:"请输入计划材料的部门或班组"},model:{value:e.material.department,callback:function(t){e.$set(e.material,"department",t)},expression:"material.department"}})],1),e._v(" "),a("cell",{attrs:{title:"申请时间"}},[a("datetime",{attrs:{placeholder:"请输入计划材料的申请时间",format:"YYYY-MM-DD","min-year":2018},model:{value:e.material.applydate,callback:function(t){e.$set(e.material,"applydate",t)},expression:"material.applydate"}})],1),e._v(" "),a("cell",{attrs:{title:"申请人"}},[a("x-input",{attrs:{type:"text",placeholder:"请输入计划材料的申请人"},model:{value:e.material.applyname,callback:function(t){e.$set(e.material,"applyname",t)},expression:"material.applyname"}})],1),e._v(" "),a("cell",{attrs:{title:"需用日期"}},[a("datetime",{attrs:{placeholder:"请输入计划材料需用日期",format:"YYYY-MM-DD","min-year":2018},model:{value:e.material.applyusedate,callback:function(t){e.$set(e.material,"applyusedate",t)},expression:"material.applyusedate"}})],1)],1),e._v(" "),a("group",{attrs:{title:"计划采购材料详细清单信息"}},[a("cell",{attrs:{title:"材料名称(必填）"}},[a("x-input",{attrs:{type:"text",placeholder:"请输入该计划材料的名称"},model:{value:e.material.name,callback:function(t){e.$set(e.material,"name",t)},expression:"material.name"}})],1),e._v(" "),a("cell",{attrs:{title:"采购价格"}},[a("x-input",{attrs:{placeholder:"请输入该计划材料的价格",min:0},model:{value:e.material.price,callback:function(t){e.$set(e.material,"price",t)},expression:"material.price"}})],1),e._v(" "),a("cell",{attrs:{title:"计划数量（必填）"}},[a("x-input",{attrs:{min:0,width:"150px"},model:{value:e.material.quantity,callback:function(t){e.$set(e.material,"quantity",t)},expression:"material.quantity"}})],1),e._v(" "),a("cell",{attrs:{title:"规格，计量单位（必填）"}},[a("x-input",{attrs:{placeholder:"请输入对应计划材料的规格"},model:{value:e.material.unit,callback:function(t){e.$set(e.material,"unit",t)},expression:"material.unit"}})],1),e._v(" "),a("cell",{attrs:{title:"使用部位"}},[a("x-input",{attrs:{placeholder:"请输入对应材料的使用部位"},model:{value:e.material.usewhere,callback:function(t){e.$set(e.material,"usewhere",t)},expression:"material.usewhere"}})],1),e._v(" "),a("x-textarea",{attrs:{max:100,rows:3,placeholder:"请输入该计划材料的备注信息"},model:{value:e.material.comments,callback:function(t){e.$set(e.material,"comments",t)},expression:"material.comments"}})],1),e._v(" "),a("br"),e._v(" "),a("x-button",{attrs:{type:"primary","action-type":"button"},nativeOn:{click:function(t){return e.saveMaterial(t)}}},[e._v("保存")])],1)],1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom","max-height":"70%"},on:{"on-hide":e.hideApproveConfirmDlg},model:{value:e.showApproveConfirmDlg,callback:function(t){e.showApproveConfirmDlg=t},expression:"showApproveConfirmDlg"}},[a("group",{attrs:{title:"待审批计划材料日期:"+e.approvedMaterialsDate}},[a("checklist",{attrs:{title:"确认勾选需要审批的材料(只显示没有审核或者审核失败的材料)",options:e.approvedMaterials},model:{value:e.approvedMaterialsModel,callback:function(t){e.approvedMaterialsModel=t},expression:"approvedMaterialsModel"}})],1),e._v(" "),a("group",{attrs:{title:"选择对应的审批人和抄送人"}},[a("cell",{attrs:{title:"审批人","is-link":"",value:e.selectApproverName},nativeOn:{click:function(t){return e.showApprovePickupHandle(t)}}}),e._v(" "),a("cell",{attrs:{title:"抄送人","is-link":"",value:e.selectMakecopyNames},nativeOn:{click:function(t){return e.showMakecopyPickupHandle(t)}}})],1),e._v(" "),a("div",{staticStyle:{padding:"15px"}},[a("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.approveMaterialNow(t)}}},[e._v("提交审批")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{height:"100%"},model:{value:e.showApprovePickUpDialog,callback:function(t){e.showApprovePickUpDialog=t},expression:"showApprovePickUpDialog"}},[a("x-header",{attrs:{"left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(t){e.showApprovePickUpDialog=!1}}},[e._v("\n        可选审批人列表\n      ")]),e._v(" "),e.approvers.length>0?a("div",[a("search",{ref:"search",attrs:{placeholder:"输入要过滤的审批人姓名",position:"absolute","auto-scroll-to-top":"",top:"46px",results:e.approversSearchResults},on:{"on-focus":e.approversSearchFocus,"on-change":e.approversInputSearchChange,"on-result-click":e.approversClickSearchResult,"on-cancel":e.approversCancelSearch},model:{value:e.approversSearchModel,callback:function(t){e.approversSearchModel=t},expression:"approversSearchModel"}}),e._v(" "),a("checklist",{attrs:{title:"选择一个审批人(已经选择"+e.approversModel.length+"个审批人)",required:"",max:1,options:e.approvers},on:{"on-change":e.selectApproveChange},model:{value:e.approversModel,callback:function(t){e.approversModel=t},expression:"approversModel"}})],1):a("div",[a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("load-more",{attrs:{"show-loading":!1,tip:"当前没有审核人数据"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{height:"100%"},model:{value:e.showMakecopyPickUpDialog,callback:function(t){e.showMakecopyPickUpDialog=t},expression:"showMakecopyPickUpDialog"}},[a("x-header",{attrs:{"left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(t){e.showMakecopyPickUpDialog=!1}}},[e._v("\n        可选抄送人列表\n      ")]),e._v(" "),e.makeCopyers.length>0?a("div",[a("search",{ref:"search",attrs:{placeholder:"输入要过滤的抄送人姓名",position:"absolute","auto-scroll-to-top":"",top:"46px",results:e.makecopyersSearchResults},on:{"on-focus":e.makecopyersSearchFocus,"on-change":e.makecopyersInputSearchChange,"on-result-click":e.makecopyersClickSearchResult,"on-cancel":e.makecopyersCancelSearch},model:{value:e.makecopyersSearchModel,callback:function(t){e.makecopyersSearchModel=t},expression:"makecopyersSearchModel"}}),e._v(" "),a("checklist",{attrs:{title:"选择一个或多个抄送人(已经选择"+e.makeCopyersModel.length+"个抄送人)",required:"",options:e.makeCopyers},on:{"on-change":e.selectMakecopyChange},model:{value:e.makeCopyersModel,callback:function(t){e.makeCopyersModel=t},expression:"makeCopyersModel"}})],1):a("div",[a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("load-more",{attrs:{"show-loading":!1,tip:"当前没有抄送人数据"}})],1)],1)],1)],1)},staticRenderFns:[]};var R=a("./node_modules/vue-loader/lib/component-normalizer.js")(O,I,!1,function(e){a('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-748766f2","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/MaterialPlanEnter.vue')},"data-v-748766f2",null);t.default=R.exports}});