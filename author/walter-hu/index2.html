<!DOCTYPE html>
<html lang="en">
<head>

        <title>PingBook Blog -From Walter Hu</title>
        <meta charset="utf-8"/>
        <meta name="description" content="



PingBook是一个专注于开源软件、Linux、大数据、Python、Java、Vuejs、软件测试、测试自动化等的IT科技博客,希望大家一起交流学习!">
        <meta name="keywords"
              content="Linux,pelican,github,软件测试,测试框架,测试开发,白盒测试,Selenium,Selenium开发,Vuejs,树莓派,自动化测试,编程语言,大数据,人工智能,开源软件,创业,程序员找工作,移动互联网,生活时尚,情感交流,软件测试,技术博客">


            <link href="https://pingbook.top/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="PingBook Blog Full Atom Feed"/>


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="../../theme/gumby.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/style.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/pygment.css"/>

        <script src="../../theme/js/libs/modernizr-2.6.2.min.js"></script>



        <!---->

</head>

<body id="index" class="home">


<div class="container">

    <div class="row">

        <header id="banner" class="body">
            <h1><a href="../..">PingBook Blog <strong>Code More, Learn More</strong></a></h1>
        </header><!-- /#banner -->

        <div id="navigation" class="navbar row">
            <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>

            <ul class="columns">
                <li><a href="../../">Home</a></li>

                    <li><a href="/categories">Category</a></li>
                    <li><a href="/archives">Archive</a></li>
                    <li><a href="/tags">Tags</a></li>
                    <li><form class="navbar-search" action="../../search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>

            </ul>
        </div>

<section id="content">
<h2>By Walter Hu</h2>


   <div class="row">


        <div class="eleven columns">
                 <ol id="post-list">
                        <li><article class="hentry">
                                <header> <h2 class="entry-title"><a href="../../articles/pi-mysql/" rel="bookmark" title="Permalink to [Linux环境搭建] MYSQL 的安装配置">[Linux环境搭建] <span class="caps">MYSQL</span>&nbsp;的安装配置</a></h2> </header>
                                <footer class="post-info">
                                    <abbr class="published" title="2018-07-09T20:27:24.371368+08:00">
                                        Post @ 周一, 09 七月 2018,                                     By                                     <a class="url fn" href="../../author/walter-hu"> Walter Hu</a>

                                    </abbr>
                                </footer><!-- /.post-info -->
                                <div class="entry-content"> <h2>安装</h2>
<ol>
<li>执行如下命令进行安装和基本的配置:</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo apt-get -y install mysql-server</span>
<span class="code-line">$ sudo mysql_secure_installation</span>
</pre></div>


<p>第二条命令将会配置mysql的<code>root</code>密码,删除掉<code>test</code>数据库,不允许匿名登录等等操作. 按照上面的操作mysql的配置是没有问题的了,但是你会发现,如果你运行如下命令:
<code>mysql -u root -p</code>, 这里的root不用输入密码,明明上面的已经设置了密码???<br>&nbsp;进行如下的命令进行配置:</p>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo mysql -u root -p </span>
<span class="code-line">$ use mysql<span class="p">;</span></span>
<span class="code-line">$ update user <span class="nb">set</span> <span class="nv">plugin</span><span class="o">=</span><span class="s1">&#39;mysql_native_password&#39;</span> where <span class="nv">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">;</span></span>
<span class="code-line">$ flush privileges<span class="p">;</span> </span>
<span class="code-line">$ quit<span class="p">;</span></span>
</pre></div>


<h2>配置</h2>
<ol>
<li><code>root</code>密码的更改,可以采用下面的操作步骤:</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf</span>
<span class="code-line">增加一行代码: skip-grant-tables 参见 https://www.jb51.net/article/100925.htm</span>
<span class="code-line">$ sudo mysql -u root -p </span>
<span class="code-line">$ use mysql<span class="p">;</span></span>
<span class="code-line">$ UPDATE mysql.user SET <span class="nv">Password</span><span class="o">=</span>PASSWORD<span class="o">(</span><span class="s1">&#39;YanZhi123!@#)0x&amp;*&#39;</span><span class="o">)</span> where <span class="nv">USER</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">;</span></span>
<span class="code-line">$ flush privileges<span class="p">;</span> </span>
</pre></div>


<ol>
<li>增加用户名和授权远程登录:</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf</span>
<span class="code-line">注释掉 bind-address          <span class="o">=</span> <span class="m">127</span>.0.0.1</span>
<span class="code-line">$ sudo mysql -u root -p </span>
<span class="code-line">$ use mysql<span class="p">;</span></span>
<span class="code-line">$ CREATE USER <span class="s1">&#39;yanzhi&#39;</span>@<span class="s1">&#39;%&#39;</span> IDENTIFIED BY <span class="s1">&#39;yanzhi123!@#&#39;</span><span class="p">;</span></span>
<span class="code-line">$ GRANT ALL PRIVILEGES ON *.* TO <span class="s1">&#39;yanzhi&#39;</span>@<span class="s1">&#39;%&#39;</span> IDENTIFIED BY <span class="s1">&#39;yanzhi123!@#&#39;</span><span class="p">;</span>    -- 远程连接权限所有的数据库.</span>
<span class="code-line">$ flush privileges<span class="p">;</span> </span>
</pre></div>


<ol>
<li>创建数据库,支持中文:</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span><span class="n">UTF8</span><span class="o">:</span> </span>
<span class="code-line"><span class="n">CREATE</span> <span class="n">DATABASE</span> <span class="n">test2</span> <span class="n">DEFAULT</span> <span class="n">CHARACTER</span> <span class="n">SET</span> <span class="n">utf8</span> <span class="n">COLLATE</span> <span class="n">utf8_general_ci</span></span>
</pre></div>


<ol>
<li>自动备份数据库,每天备份一次</li>
<li>新建文件: <code>sudo nano /usr/sbin/mysqlbackup.sh</code>,内容如下 …</li></ol> </div><!-- /.entry-content -->

                                <div class="medium primary btn"><a href="../../articles/pi-mysql/" rel="bookmark" title="Permalink to [Linux环境搭建] MYSQL 的安装配置">阅读全文<i class="icon-arrow-right"></i></a></div>



                                <div class="row tag-row">
                                        <span>Tags: </span>
                                            <a class="danger label" href="../../tag/mysql/">mysql</a>
                                            <a class="danger label" href="../../tag/mysqlbei-fen/">mysql备份</a>
                                </div>



                        </article></li>
                        <li><article class="hentry">
                                <header> <h2 class="entry-title"><a href="../../articles/pi-python3/" rel="bookmark" title="Permalink to [Linux环境搭建] 如何完整卸载python2/3 在debain上">[Linux环境搭建] 如何完整卸载python2/3&nbsp;在debain上</a></h2> </header>
                                <footer class="post-info">
                                    <abbr class="published" title="2018-07-09T20:27:12.524805+08:00">
                                        Post @ 周一, 09 七月 2018,                                     By                                     <a class="url fn" href="../../author/walter-hu"> Walter Hu</a>

                                    </abbr>
                                </footer><!-- /.post-info -->
                                <div class="entry-content"> <h2>卸载命令</h2>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo apt-get remove <span class="s1">&#39;python3.*&#39;</span></span>
<span class="code-line">其实这里的python的包是: <span class="sb">`</span>python3.5-minimal<span class="sb">`</span>,<span class="sb">`</span>python3.5-venv<span class="sb">`</span></span>
</pre></div>


<h2>安装最新python3.7</h2>
<p>因为默认的debian仓库里面是python3.5,所以如果需要安装最新的python,安装如下进行安装,
参考文档: <a href="https://unix.stackexchange.com/questions/332641/how-to-install-python-3-6">https://unix.stackexchange.com/questions/332641/how-to-install-python-3-6</a></p>
<div class="highlight"><pre><span class="code-line"><span></span>安装依赖包</span>
<span class="code-line">$ sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev \</span>
<span class="code-line">libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev \</span>
<span class="code-line">xz-utils tk-dev libffi-dev</span>
<span class="code-line">$ sudo wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz</span>
<span class="code-line">$ tar xvf Python-3.7.0.tgz</span>
<span class="code-line">$ ./configure --enable-optimizations --with-ensurepip=install</span>
<span class="code-line">$ make -j8</span>
<span class="code-line">$ sudo make altinstall</span>
</pre></div>


<h2>安装pip,pipenv并设置全局可用命令<code>pipenv</code></h2>
<div class="highlight"><pre><span class="code-line"><span></span>$ wget https://bootstrap.pypa.io/get-pip.py</span>
<span class="code-line">$ sudo python get-pip.py</span>
<span class="code-line"></span>
<span class="code-line">$ pip install --user pipenv</span>
<span class="code-line"> /home/pi/.local/bin</span>
<span class="code-line">$ python -m site --user-base</span>
<span class="code-line">$ sudo nano ~/.profile</span>
<span class="code-line"><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.local/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span></span>
<span class="code-line">$ sudo <span class="nb">source</span> ~/.profile</span>
<span class="code-line">$ pipenv --update</span>
</pre></div> </div><!-- /.entry-content -->

                                <div class="medium primary btn"><a href="../../articles/pi-python3/" rel="bookmark" title="Permalink to [Linux环境搭建] 如何完整卸载python2/3 在debain上">阅读全文<i class="icon-arrow-right"></i></a></div>



                                <div class="row tag-row">
                                        <span>Tags: </span>
                                            <a class="danger label" href="../../tag/shu-mei-pai/">树莓派</a>
                                            <a class="danger label" href="../../tag/python3/">python3</a>
                                </div>



                        </article></li>
                        <li><article class="hentry">
                                <header> <h2 class="entry-title"><a href="../../articles/pi-mirrors/" rel="bookmark" title="Permalink to 树莓派外部网站搭建">树莓派外部网站搭建</a></h2> </header>
                                <footer class="post-info">
                                    <abbr class="published" title="2018-07-08T23:35:08.403457+08:00">
                                        Post @ 周日, 08 七月 2018,                                     By                                     <a class="url fn" href="../../author/walter-hu"> Walter Hu</a>

                                    </abbr>
                                </footer><!-- /.post-info -->
                                <div class="entry-content"> <p><br></p>
<h2>前因</h2>
<blockquote>
<p>自己在Github&nbsp;Page搭建了一个博客,但是不能被百度收录.也就是百度搜索不能爬取网站的内容,也就不能被国内搜索到了.</p>
</blockquote>
<h2>整理一下树莓派下安装nginx的过程</h2>
<h3>1. 为树莓派更换国内镜像源 -(2018-07-07更新: 清华的镜像源已经不能使用: Cannot initiate the connection to&nbsp;mirrors.tuna.tsinghua.edu.cn:80)</h3>
<p>可用的官方镜像源: http://www.raspbian.org/RaspbianMirrors<br>&nbsp;使用管理员权限（经由sudo），编辑/etc/apt/sources.list文件。参考命令行为：</p>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo nano /etc/apt/sources.list</span>
</pre></div>


<p>用#注释掉原文件内容，用以下内容取代使用上海大学或者是中科大(https://mirrors.ustc.edu.cn/archive.raspberrypi.org/)的镜像：</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="k">deb</span> <span class="s">https://mirrors.shu.edu.cn/raspbian/raspbian/</span> <span class="kp">stretch</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span> <span class="kp">rpi</span></span>
<span class="code-line"><span class="k">deb-src</span> <span class="s">https://mirrors.shu.edu.cn/raspbian/raspbian/</span> <span class="kp">stretch</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span> <span class="kp">rpi</span></span>
</pre></div>


<p>使用管理员权限（经由sudo），编辑/etc/apt/sources.list.d/raspi.list文件。参考命令行为：</p>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo nano /etc/apt/sources.list.d/raspi.list</span>
</pre></div>


<p>用#注释掉原文件内容，用以下内容取代：</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="k">deb</span> <span class="s">https://mirrors.ustc.edu.cn/archive.raspberrypi.org/</span> <span class="kp">stretch</span> <span class="kp">main</span> <span class="kp">ui</span></span>
<span class="code-line"><span class="k">deb-src</span> <span class="s">https://mirrors.ustc.edu.cn/archive.raspberrypi.org/</span> <span class="kp">stretch</span> <span class="kp">main</span> <span class="kp">ui</span></span>
</pre></div>


<blockquote>
<p>注意： 网址末尾的raspbian重复两次是必须的。因为Raspbian的仓库中除了APT软件源还包含其他代码。APT软件源不在仓库的根目录，而在raspbian/子目录下。<br>
编辑镜像站后，请使用<code>sudo apt update &amp;&amp; sudo apt upgrade -y</code>命令，更新软件源列表，同时检查您的编辑是否正确。
使用HTTPS可以有效避免国内运营商的缓存劫持，但需要事先安装<code>apt-transport-https</code>.</p>
</blockquote>
<h3>树莓派安装</h3>
<blockquote>
<p>因为感觉空间越来越小了 …</p></blockquote> </div><!-- /.entry-content -->

                                <div class="medium primary btn"><a href="../../articles/pi-mirrors/" rel="bookmark" title="Permalink to 树莓派外部网站搭建">阅读全文<i class="icon-arrow-right"></i></a></div>



                                <div class="row tag-row">
                                        <span>Tags: </span>
                                            <a class="danger label" href="../../tag/shu-mei-pai/">树莓派</a>
                                            <a class="danger label" href="../../tag/nat123/">nat123</a>
                                            <a class="danger label" href="../../tag/shu-mei-pai-jing-xiang/">树莓派镜像</a>
                                </div>



                        </article></li>
                        <li><article class="hentry">
                                <header> <h2 class="entry-title"><a href="../../articles/pi-installation/" rel="bookmark" title="Permalink to 树莓派3B安装">树莓派3B安装</a></h2> </header>
                                <footer class="post-info">
                                    <abbr class="published" title="2018-07-08T23:18:44.834461+08:00">
                                        Post @ 周日, 08 七月 2018,                                     By                                     <a class="url fn" href="../../author/walter-hu"> Walter Hu</a>

                                    </abbr>
                                </footer><!-- /.post-info -->
                                <div class="entry-content"> <h2>树莓派安装</h2>
<p>安装完成后，TF卡被分成两个分区：<br>
1. <span class="caps">67MB</span> vfat格式的引导分区（系统启动后被挂载在/boot目录）
2. TF卡剩余空间&nbsp;ext4格式的磁盘分区</p>
<p>由于Windows下不识别ext4格式的磁盘，在资源管理器中查看TF卡只显示一个67MB大小、名字为boot的盘符。若想恢复TF卡整个空间为windows可识别的fat32/exfat格式，需要使用低级格式化工具HDD Low Level Format&nbsp;Tool（windows磁盘管理器无法处理ext4格式磁盘）。</p>
<h2>安装的是Destop版本,lite</h2>
<h2>远程桌面工具,不是VNC</h2>
<p>直接运行如下命令安装对应的远程桌面工具:</p>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo apt install -y xrdp</span>
</pre></div> </div><!-- /.entry-content -->

                                <div class="medium primary btn"><a href="../../articles/pi-installation/" rel="bookmark" title="Permalink to 树莓派3B安装">阅读全文<i class="icon-arrow-right"></i></a></div>



                                <div class="row tag-row">
                                        <span>Tags: </span>
                                            <a class="danger label" href="../../tag/shu-mei-pai/">树莓派</a>
                                </div>



                        </article></li>
                </ol><!-- /#posts-list -->

        </div><!-- /.eleven.columns -->
        
<div class="three columns">
    <nav class="widget sidebarbg">
        <h4>Navigation</h4>
        <ul>
                <li><a href="/categories">Category</a></li>
                <li><a href="/archives">Archive</a></li>
                <li><a href="/tags">Tags</a></li>
        </ul>
    </nav>
        <div class="sidebarbg">
            <nav class="widget">
                <h4>Categories</h4>
                <ul class="blank">
                        <li><a href="../../category/shu-mei-pai/">树莓派</a></li>
                        <li><a href="../../category/mian-shi/">面试</a></li>
                        <li><a href="../../category/bo-ke-da-jian/">博客搭建</a></li>
                </ul>
            </nav>
        </div>


        <nav class="widget sidebarbg">
            <h4>Tags</h4>
            <ul class="blank">
                    <li class="tag-2"><a href="../../tag/nat123/">NAT123</a></li>
                    <li class="tag-4"><a href="../../tag/software-testing/">Software Testing</a></li>
                    <li class="tag-4"><a href="../../tag/tomcat9/">Tomcat9</a></li>
                    <li class="tag-4"><a href="../../tag/list/">list</a></li>
                    <li class="tag-4"><a href="../../tag/mysql/">mysql</a></li>
                    <li class="tag-4"><a href="../../tag/mysqlbei-fen/">mysql备份</a></li>
                    <li class="tag-4"><a href="../../tag/nginx/">nginx</a></li>
                    <li class="tag-2"><a href="../../tag/pelican/">pelican</a></li>
                    <li class="tag-4"><a href="../../tag/python3/">python3</a></li>
                    <li class="tag-4"><a href="../../tag/svn/">svn</a></li>
                    <li class="tag-1"><a href="../../tag/shu-mei-pai/">树莓派</a></li>
                    <li class="tag-4"><a href="../../tag/shu-mei-pai-jing-xiang/">树莓派镜像</a></li>
                    <li class="tag-4"><a href="../../tag/bai-he-ce-shi/">白盒测试</a></li>
                    <li class="tag-4"><a href="../../tag/ruan-jian-ce-shi/">软件测试</a></li>
                    <li class="tag-4"><a href="../../tag/mian-xiang-dui-xiang/">面向对象</a></li>
                    <li class="tag-1"><a href="../../tag/mian-shi/">面试</a></li>
            </ul>
        </nav>

        <div class="social sidebarbg">

            <nav class="widget">
                <h4>Social</h4>
                <ul class="blank">
                        <li><a target="_blank" href="mailto:alterhu2020@gmail.com?subject=From PingBook question">GMail</a></li>
                        <li><a target="_blank" href="https://twitter.com/alterhu2020">twitter</a></li>
                        <li><a target="_blank" href="http://github.com/pingbook">github</a></li>
                </ul>
            </nav>
        </div>
        <nav class="widget sidebarbg">
            <h4>Friends</h4>
            <ul>
                    <li><a target="_blank" href="http://www.cnblogs.com/alterhu/">cnblogs</a></li>
                    <li><a target="_blank" href="http://xiaohanyu.me/about/">Xiao Hanyu</a></li>
                    <li><a target="_blank" href="http://huangxuan.me/">黄玄的博客</a></li>
            </ul>
        </nav>

</div> </div><!-- /.row -->

<p class="paginator">
            <a href="../../author/walter-hu.html"><i class="icon-arrow-left"></i></a>
     第2页/共2页
</p>
</section><!-- /#content -->

    </div><!-- /.row -->
</div><!-- /.container -->


<div class="container.nopad bg">


    <footer id="credits" class="row" style="margin-bottom: 0px">
        <div class="seven columns left-center">

            <address id="about" class="vcard body">
                 ©<script>document.write(new Date().getFullYear())</script> PingBook.Inc.
                <!--<br />-->
                <div>
                    <span id="busuanzi_container_site_pv">Site Views: <span id="busuanzi_value_site_pv"></span></span>,
                    <span id="busuanzi_container_site_uv">Total Vistors: <span id="busuanzi_value_site_uv"></span></span>
                </div>
            </address>
        </div>


        <div class="seven columns">
            <div class="row">
                <ul class="socbtns">





                </ul>
            </div>
        </div>
    </footer>

</div>


<script type="text/javascript">
    var disqus_shortname = 'pingbook';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script src="../../theme/js/libs/jquery-1.9.1.min.js"></script>
<script src="../../theme/js/libs/gumby.min.js"></script>
<script>
    function validateForm(query)
    {
        return (query.length > 0);
    }
</script>
<script async src="../../theme/js/libs/busuanzi.pure.mini.js"></script>
<script src="../../theme/js/plugins.js"></script>

</body>
</html>