<!DOCTYPE html>
<html lang="zh_cn">
<head>

        <title>[环境搭建] Debian安装编译和安装nginx服务器</title>
        <meta charset="utf-8"/>
        <meta name="description" content="




Debian安装配置nginx服务器¶ 下载解压缩安装包 $ sudo wget https://nginx.org/download/nginx-1.15 …">
        <meta name="keywords"
              content="Linux,pelican,github,软件测试,测试框架,测试开发,白盒测试,Selenium,Selenium开发,Vuejs,树莓派,自动化测试,编程语言,大数据,人工智能,开源软件,创业,程序员找工作,移动互联网,生活时尚,情感交流,软件测试,技术博客">


            <link href="https://pingbook.top/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="PingBook Blog Full Atom Feed"/>


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="../../theme/gumby.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/style.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/pygment.css"/>


        <script src="../../theme/js/libs/modernizr-2.6.2.min.js"></script>

            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({
                    google_ad_client: "ca-pub-1893384651266286",
                    enable_page_level_ads: true
                });
            </script>

            <!-- Global site tag (gtag.js) - Google Analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122219517-1"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'UA-122219517-1');
            </script>


        <!---->

</head>

<body id="index" class="home">


<div class="container">
    <div class="row">
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle ads-responsive"
                 data-ad-client="ca-pub-1893384651266286"
                 data-ad-slot="1234561"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
    </div>
    <div class="row">

        <header id="banner" class="body">

            <h1><a href="../..">PingBook Blog <strong>Code change the world</strong></a></h1>
        </header><!-- /#banner -->

        <div id="navigation" class="navbar row">
            <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>

            <ul class="columns" style="width: 100%">

                    <li ><a href="/">Home</a></li>
                    <li ><a href="/categories">Category</a></li>
                    <li ><a href="/archives">Archive</a></li>
                    <li ><a href="/tags">Tags</a></li>
                    <li ><a href="/about">About</a></li>
                    <li ><a href="/change-log">Changes</a></li>
            <li >
                <div style="display: block;
    padding: 0 16px;
    white-space: nowrap;
    color: white;
    text-shadow: 0 1px 2px #191a1b, 0 1px 0 #191a1b;
    height: 60px;
    line-height: 58px;
    font-size: 16px;
    font-size: 1rem;">
                <form class="navbar-search" action="../../search.html"
                      onsubmit="return validateForm(this.elements['q'].value);">
                    <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input">
                </form>
                </div>
            </li>

            </ul>


        </div>

    <section id="content" class="body">

        <div class="row">

            <div class="eleven columns">
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle ads-responsive"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="1234561"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                <header>
                    <h2 class="entry-title">
                        <a href="../../articles/pi-nginx/" rel="bookmark"
                           title="Permalink to [环境搭建] Debian安装编译和安装nginx服务器">[环境搭建]&nbsp;Debian安装编译和安装nginx服务器</a></h2>
                    
                </header>
                <footer class="post-info">
                    <!--<abbr class="published" title="2018-07-13T20:44:35.606241+08:00">-->
                    <!--2018-07-13 20:44:35-->
                    <!--</abbr>-->
                    <!---->
                        <!--<address class="vcard author">By -->
                        <!---->
                            <!--<a class="url fn" href="../../author/walter-hu"> Walter Hu</a>-->
                            <!---->
                        <!--</address>-->
                        <!---->
                    <address class="vcard author" style="font-style:italic;margin-bottom:-10px;">
                        2018-07-13 20:44:35
                            &nbsp;&nbsp;By
                            <a class="url fn" href="../../author/walter-hu">Walter Hu</a>

                        <span id="busuanzi_container_page_pv">, <i class="icon-eye icon-large"></i><span
                                id="busuanzi_value_page_pv"></span></span>
                        &nbsp;&nbsp;<p style="color:red;">本文出自<a href="https://pingbook.top">PingBook Blog</a>,转载请务必保留<a
                            href="../../articles/pi-nginx/">文章链接</a></p>
                    </address>
                    <hr/>
                </footer><!-- /.post-info -->
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle ads-responsive"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="1234565"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                <div class="entry-content">
                    <h2 id="debiannginx">Debian安装配置nginx服务器<a class="headerlink" href="#debiannginx" title="Permanent link">&para;</a></h2>
<ul>
<li>下载解压缩安装包</li>
</ul>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo wget https://nginx.org/download/nginx-1.15.1.tar.gz</span>
<span class="code-line">$ tar zxvf nginx-1.15.1.tar.gz </span>
</pre></div>


<ul>
<li>重新配置nginx的服务器名称servername和对应版本</li>
</ul>
<div class="highlight"><pre><span class="code-line"><span></span>$ <span class="nb">cd</span> nginx-1.15.1/</span>
<span class="code-line">$ sudo nano  src/http/ngx_http_header_filter_module.c</span>
<span class="code-line">$ sudo nano  src/core/nginx.h</span>
<span class="code-line">$ sudo nano nginx-1.15.1-openbook.top.tar.gz nginx-1.15.1/</span>
</pre></div>


<ul>
<li>安装对应的nginx的所有依赖的包, gcc环境, pcre, zlib and&nbsp;openssl</li>
</ul>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo apt install build-essential -y</span>
<span class="code-line">$ wget https://ftp.pcre.org/pub/pcre/pcre-8.41.tar.gz</span>
<span class="code-line">$ tar zxvf pcre-8.41.tar.gz</span>
<span class="code-line">$ wget http://www.zlib.net/zlib-1.2.11.tar.gz</span>
<span class="code-line">$ tar -zxvf zlib-1.2.11.tar.gz</span>
<span class="code-line">$ wget https://www.openssl.org/source/openssl-1.1.0g.tar.gz </span>
<span class="code-line">$ tar zxvf openssl-1.1.0g.tar.gz</span>
<span class="code-line">$ <span class="nb">cd</span> openssl-1.1.0g</span>
<span class="code-line">$ ./config -Wl,--enable-new-dtags,-rpath,<span class="s1">&#39;$(LIBRPATH)&#39;</span></span>
<span class="code-line">$ make  <span class="c1"># 大约五六分钟左右</span></span>
<span class="code-line">$ sudo make install</span>
<span class="code-line">$ openssl version -a</span>
</pre></div>


<ul>
<li>安装nginx
参考说明文档: <a href="https://www.vultr.com/docs/how-to-compile-nginx-from-source-on-ubuntu-16-04">https://www.vultr.com/docs/how-to-compile-nginx-from-source-on-ubuntu-16-04</a></li>
</ul>
<div class="highlight"><pre><span class="code-line"><span></span>$ <span class="nb">cd</span> nginx-1.15.1</span>
<span class="code-line">$ ./configure --prefix<span class="o">=</span>/usr/local/nginx <span class="se">\</span></span>
<span class="code-line">            --sbin-path<span class="o">=</span>/usr/sbin/nginx <span class="se">\</span></span>
<span class="code-line">            --modules-path<span class="o">=</span>/usr/lib/nginx/modules <span class="se">\</span></span>
<span class="code-line">            --conf-path<span class="o">=</span>/etc/nginx/nginx.conf <span class="se">\</span></span>
<span class="code-line">            --error-log-path<span class="o">=</span>/var/log/nginx/error.log <span class="se">\</span></span>
<span class="code-line">            --http-log-path<span class="o">=</span>/var/log/nginx/access.log <span class="se">\</span></span>
<span class="code-line">            --pid-path<span class="o">=</span>/run/nginx.pid <span class="se">\</span></span>
<span class="code-line">            --lock-path<span class="o">=</span>/var/lock/nginx.lock <span class="se">\</span></span>
<span class="code-line">            --user<span class="o">=</span>www-data <span class="se">\</span></span>
<span class="code-line">            --group<span class="o">=</span>www-data <span class="se">\</span></span>
<span class="code-line">            --http-client-body-temp-path<span class="o">=</span>/var/lib/nginx/body <span class="se">\</span></span>
<span class="code-line">            --http-fastcgi-temp-path<span class="o">=</span>/var/lib/nginx/fastcgi <span class="se">\</span></span>
<span class="code-line">            --http-proxy-temp-path<span class="o">=</span>/var/lib/nginx/proxy <span class="se">\</span></span>
<span class="code-line">            --http-scgi-temp-path<span class="o">=</span>/var/lib/nginx/scgi <span class="se">\</span></span>
<span class="code-line">            --http-uwsgi-temp-path<span class="o">=</span>/var/lib/nginx/uwsgi <span class="se">\</span></span>
<span class="code-line">            --with-openssl<span class="o">=</span>../openssl-1.1.0g <span class="se">\</span></span>
<span class="code-line">            --with-openssl-opt<span class="o">=</span>enable-ec_nistp_64_gcc_128 <span class="se">\</span></span>
<span class="code-line">            --with-openssl-opt<span class="o">=</span>no-nextprotoneg <span class="se">\</span></span>
<span class="code-line">            --with-openssl-opt<span class="o">=</span>no-weak-ssl-ciphers <span class="se">\</span></span>
<span class="code-line">            --with-openssl-opt<span class="o">=</span>no-ssl3 <span class="se">\</span></span>
<span class="code-line">            --with-pcre<span class="o">=</span>../pcre-8.41 <span class="se">\</span></span>
<span class="code-line">            --with-pcre-jit <span class="se">\</span></span>
<span class="code-line">            --with-zlib<span class="o">=</span>../zlib-1.2.11 <span class="se">\</span></span>
<span class="code-line">            --with-compat <span class="se">\</span></span>
<span class="code-line">            --with-file-aio <span class="se">\</span></span>
<span class="code-line">            --with-threads <span class="se">\</span></span>
<span class="code-line">            --with-http_addition_module <span class="se">\</span></span>
<span class="code-line">            --with-http_auth_request_module <span class="se">\</span></span>
<span class="code-line">            --with-http_dav_module <span class="se">\</span></span>
<span class="code-line">            --with-http_flv_module <span class="se">\</span></span>
<span class="code-line">            --with-http_gunzip_module <span class="se">\</span></span>
<span class="code-line">            --with-http_gzip_static_module <span class="se">\</span></span>
<span class="code-line">            --with-http_mp4_module <span class="se">\</span></span>
<span class="code-line">            --with-http_random_index_module <span class="se">\</span></span>
<span class="code-line">            --with-http_realip_module <span class="se">\</span></span>
<span class="code-line">            --with-http_slice_module <span class="se">\</span></span>
<span class="code-line">            --with-http_ssl_module <span class="se">\</span></span>
<span class="code-line">            --with-http_sub_module <span class="se">\</span></span>
<span class="code-line">            --with-http_stub_status_module <span class="se">\</span></span>
<span class="code-line">            --with-http_v2_module <span class="se">\</span></span>
<span class="code-line">            --with-http_secure_link_module <span class="se">\</span></span>
<span class="code-line">            --with-mail <span class="se">\</span></span>
<span class="code-line">            --with-mail_ssl_module <span class="se">\</span></span>
<span class="code-line">            --with-stream <span class="se">\</span></span>
<span class="code-line">            --with-stream_realip_module <span class="se">\</span></span>
<span class="code-line">            --with-stream_ssl_module <span class="se">\</span></span>
<span class="code-line">            --with-stream_ssl_preread_module <span class="se">\</span></span>
<span class="code-line">            --with-debug <span class="se">\</span></span>
<span class="code-line">            --with-cc-opt<span class="o">=</span><span class="s1">&#39;-g -O2 -fPIE -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2&#39;</span> <span class="se">\</span></span>
<span class="code-line">            --with-ld-opt<span class="o">=</span><span class="s1">&#39;-Wl,-Bsymbolic-functions -fPIE -pie -Wl,-z,relro -Wl,-z,now&#39;</span></span>
<span class="code-line">$ make   <span class="c1">#这个操作需要花费十分钟左右</span></span>
<span class="code-line">$ sudo make install</span>
<span class="code-line">$ sudo systemctl start nginx.service <span class="o">&amp;&amp;</span> sudo systemctl <span class="nb">enable</span> nginx.service</span>
</pre></div>


<h2 id="_1">遇到的问题<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span class="code-line"><span></span>nginx: [emerg] mkdir() &quot;/var/lib/nginx/body&quot; failed</span>
</pre></div>


<p>Just create directory
<code>$ sudo mkdir -p /var/lib/nginx &amp;&amp; sudo nginx -t</code>
<code>$ sudo nano /lib/systemd/system/nginx.service</code>
输入如下内容</p>
<div class="highlight"><pre><span class="code-line"><span></span># Stop dance for nginx</span>
<span class="code-line"># =======================</span>
<span class="code-line">#</span>
<span class="code-line"># ExecStop sends SIGSTOP (graceful stop) to the nginx process.</span>
<span class="code-line"># If, after 5s (--retry QUIT/5) nginx is still running, systemd takes control</span>
<span class="code-line"># and sends SIGTERM (fast shutdown) to the main process.</span>
<span class="code-line"># After another 5s (TimeoutStopSec=5), and if nginx is alive, systemd sends</span>
<span class="code-line"># SIGKILL to all the remaining processes in the process group (KillMode=mixed).</span>
<span class="code-line">#</span>
<span class="code-line"># nginx signals reference doc:</span>
<span class="code-line"># http://nginx.org/en/docs/control.html</span>
<span class="code-line">#</span>
<span class="code-line">[Unit]</span>
<span class="code-line">Description=A high performance web server and a reverse proxy server</span>
<span class="code-line">Documentation=man:nginx(8)</span>
<span class="code-line">After=network.target</span>
<span class="code-line"></span>
<span class="code-line">[Service]</span>
<span class="code-line">Type=forking</span>
<span class="code-line">PIDFile=/run/nginx.pid</span>
<span class="code-line">ExecStartPre=/usr/sbin/nginx -t -q -g &#39;daemon on; master_process on;&#39;</span>
<span class="code-line">ExecStart=/usr/sbin/nginx -g &#39;daemon on; master_process on;&#39;</span>
<span class="code-line">ExecReload=/usr/sbin/nginx -g &#39;daemon on; master_process on;&#39; -s reload</span>
<span class="code-line">ExecStop=-/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid</span>
<span class="code-line">TimeoutStopSec=5</span>
<span class="code-line">KillMode=mixed</span>
<span class="code-line"></span>
<span class="code-line">[Install]</span>
<span class="code-line">WantedBy=multi-user.target</span>
</pre></div>


<ul>
<li>重启nginx服务
<code>sudo systemctl start nginx.service &amp;&amp; sudo systemctl enable nginx.service</code></li>
<li>check nginx service is&nbsp;up</li>
</ul>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo systemctl status nginx.service</span>
<span class="code-line">$ ps aux <span class="p">|</span> grep nginx</span>
<span class="code-line">$ curl -I <span class="m">127</span>.0.0.1</span>
</pre></div>


<ul>
<li>重启nginx出现<code>Directory index of "/www/pingbook.top/pingbook.top/output/" is forbidden,</code>
解决方法是在location里面设置index&nbsp;index.html,如下: </li>
</ul>
<div class="highlight"><pre><span class="code-line"><span></span>  location / {</span>
<span class="code-line">     # 使用alias时，目录名后面一定要加”/“</span>
<span class="code-line">     alias /www/pingbook.top/pingbook.top/output/;</span>
<span class="code-line">     index index.html;</span>
<span class="code-line">     try_files $uri $uri/ index.html last;</span>
<span class="code-line">  }</span>
</pre></div>


<h2 id="https">Https 加密你的网站<a class="headerlink" href="#https" title="Permanent link">&para;</a></h2>
<p>参考文档:&nbsp;https://certbot.eff.org/lets-encrypt/debianother-nginx</p>
<div class="highlight"><pre><span class="code-line"><span></span>$  sudo wget https://dl.eff.org/certbot-auto</span>
<span class="code-line">$ sudo chmod a+x certbot-auto</span>
<span class="code-line">$ <span class="c1"># 获取证书</span></span>
<span class="code-line">$ sudo ./certbot-auto certonly --standalone --email alterhu2020@gmail.com -d pingbook.top -d www.pingbook.top</span>
<span class="code-line"></span>
<span class="code-line">报错如下,很多的依赖没有安装成功:</span>
<span class="code-line">dpkg: error processing package python-zope.component <span class="o">(</span>--configure<span class="o">)</span>:</span>
<span class="code-line"> dependency problems - leaving unconfigured</span>
<span class="code-line">Setting up libaugeas0 <span class="o">(</span><span class="m">1</span>.8.0-1+deb9u1<span class="o">)</span> ...</span>
<span class="code-line">dpkg: dependency problems prevent configuration of python-mock:</span>
<span class="code-line"> python-mock depends on python-funcsigs <span class="o">(</span>&gt;<span class="o">=</span> <span class="m">1</span><span class="o">)</span><span class="p">;</span> however:</span>
<span class="code-line">  Package python-funcsigs is not configured yet.</span>
<span class="code-line"> python-mock depends on python-pbr <span class="o">(</span>&gt;<span class="o">=</span> <span class="m">1</span>.3<span class="o">)</span><span class="p">;</span> however:</span>
<span class="code-line">  Package python-pbr is not configured yet.</span>
<span class="code-line"> python-mock depends on python-six <span class="o">(</span>&gt;<span class="o">=</span> <span class="m">1</span>.9<span class="o">)</span><span class="p">;</span> however:</span>
<span class="code-line">  Package python-six is not configured yet.</span>
<span class="code-line"></span>
<span class="code-line">dpkg: error processing package python-mock <span class="o">(</span>--configure<span class="o">)</span>:</span>
<span class="code-line"> dependency problems - leaving unconfigured</span>
<span class="code-line">dpkg: dependency problems prevent configuration of python-requests:</span>
<span class="code-line"> python-requests depends on python-urllib3 <span class="o">(</span>&gt;<span class="o">=</span> <span class="m">1</span>.19.1<span class="o">)</span><span class="p">;</span> however:</span>
<span class="code-line">  Package python-urllib3 is not configured yet.</span>
<span class="code-line"> python-requests depends on python-chardet<span class="p">;</span> however:</span>
<span class="code-line">  Package python-chardet is not configured yet.</span>
<span class="code-line"> python-requests depends on python-urllib3 <span class="o">(</span><span class="s">&lt;&lt; 1.1</span><span class="m">9</span>.2<span class="o">)</span><span class="p">;</span> however:</span>
<span class="code-line">  Package python-urllib3 is not configured yet.</span>
<span class="code-line"></span>
<span class="code-line">dpkg: error processing package python-requests <span class="o">(</span>--configure<span class="o">)</span>:</span>
<span class="code-line"> dependency problems - leaving unconfigured</span>
<span class="code-line">dpkg: dependency problems prevent configuration of certbot:</span>
<span class="code-line"> certbot depends on python-certbot <span class="o">(=</span> <span class="m">0</span>.10.2-1<span class="o">)</span><span class="p">;</span> however:</span>
<span class="code-line">  Package python-certbot is not configured yet.</span>
<span class="code-line"></span>
<span class="code-line">dpkg: error processing package certbot <span class="o">(</span>--configure<span class="o">)</span>:</span>
<span class="code-line"> dependency problems - leaving unconfigured</span>
<span class="code-line">Processing triggers <span class="k">for</span> libc-bin <span class="o">(</span><span class="m">2</span>.24-11+deb9u3<span class="o">)</span> ...</span>
<span class="code-line">Errors were encountered <span class="k">while</span> processing:</span>
<span class="code-line"> python-dnspython</span>
<span class="code-line"> python-idna</span>
<span class="code-line"> python-parsedatetime</span>
<span class="code-line"> python-pyasn1</span>
<span class="code-line"> python-tz</span>
<span class="code-line"> python-pkg-resources</span>
<span class="code-line"> python-configargparse</span>
<span class="code-line"> python-six</span>
<span class="code-line"> python-zope.interface</span>
<span class="code-line"> python-psutil</span>
<span class="code-line"> python-pbr</span>
<span class="code-line"> python-enum34</span>
<span class="code-line"> python-cryptography</span>
<span class="code-line"> python-virtualenv</span>
<span class="code-line"> python-funcsigs</span>
<span class="code-line"> python-zope.hookable</span>
<span class="code-line"> python-ipaddress</span>
<span class="code-line"> python-pyicu</span>
<span class="code-line"> python-zope.event</span>
<span class="code-line"> python-rfc3339</span>
<span class="code-line"> python-setuptools</span>
<span class="code-line"> python-urllib3</span>
<span class="code-line"> python-configobj</span>
<span class="code-line"> python-chardet</span>
<span class="code-line"> python-acme</span>
<span class="code-line"> python-openssl</span>
<span class="code-line"> python-certbot</span>
<span class="code-line"> python-zope.component</span>
<span class="code-line"> python-mock</span>
<span class="code-line"> python-requests</span>
<span class="code-line"> certbot</span>
</pre></div>


<p>Sub-process /usr/bin/dpkg returned an error code&nbsp;(1)</p>
<div class="highlight"><pre><span class="code-line"><span></span>$ <span class="nb">cd</span> /var/cache/apt/</span>
<span class="code-line">$ <span class="nb">cd</span> archives/</span>
<span class="code-line">$ sudo rm -rf *</span>
</pre></div>


<p>所以我想起以前用的一个网友的脚本,不用安装一堆繁杂的包,地址:
<a href="https://github.com/xdtianyu/scripts/blob/master/lets-encrypt/README-CN.md">https://github.com/xdtianyu/scripts/blob/master/lets-encrypt/<span class="caps">README</span>-<span class="caps">CN</span>.md</a></p>
<p><span class="dquo">&#8220;</span>
1. 在nginx的配置文件里面配置location:
 &#8220;`
  # https 配置Let’s&nbsp;Encrypt</p>
<p>location ^~ /.well-known/acme-challenge/ {
   allow all;
   default_type &ldquo;text/plain&rdquo;;
   root /www;&nbsp;}</p>
<p>$ sudo wget https://raw.githubusercontent.com/xdtianyu/scripts/master/lets-encrypt/letsencrypt.conf
$ sudo wget https://raw.githubusercontent.com/xdtianyu/scripts/master/lets-encrypt/letsencrypt.sh
$ sudo chmod +x letsencrypt.sh
$ sudo nano letsencrypt.conf
$ sudo ./letsencrypt.sh&nbsp;letsencrypt.conf</p>
<div class="highlight"><pre><span class="code-line"><span></span>###  删除已经安装的nginx</span>
</pre></div>


<h1 id="sudo-apt-update-sudo-apt-upgrade-y-update-all-package-index">sudo apt update &amp;&amp; sudo apt upgrade -y  # update all package index<a class="headerlink" href="#sudo-apt-update-sudo-apt-upgrade-y-update-all-package-index" title="Permanent link">&para;</a></h1>
<h1 id="sudo-apt-get-purge-nginx-nginx-common-removes-everything">sudo apt-get purge nginx nginx-common # Removes everything.<a class="headerlink" href="#sudo-apt-get-purge-nginx-nginx-common-removes-everything" title="Permanent link">&para;</a></h1>
<p>nginx 采用的C语言编写的,需要对应的C编译器(<span class="caps">GCC</span>):</p>
<h1 id="sudo-apt-install-build-essential-y">sudo apt install build-essential -y<a class="headerlink" href="#sudo-apt-install-build-essential-y" title="Permanent link">&para;</a></h1>
<p><span class="dquo">&#8220;</span>`</p>
                </div><!-- /.entry-content -->
                <hr/>
                <ul style="list-style-type: none;">
                        <li style="display: inline;margin-left: 10px; margin-right: auto;">
                            <a href="../../articles/pi-tomcat/">
                                ◄&nbsp;&nbsp;[环境搭建]&nbsp;Debian如何安装配置Tomcat9
                            </a>
                        </li>
                        <li style="display: inline;margin-left: 100px; margin-right: auto;">
                            <a href="../../articles/pi-mirrors/">
                                [树莓派]&nbsp;树莓派国内镜像&nbsp;&nbsp;►
                            </a>
                        </li>
                </ul>
                <hr/>
                <div class="comments">
                    <h3>Relate Articles</h3>
                </div>
                <hr/>
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle ads-responsive"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="1234566"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                    <div class="comments">
                        <h3>Comments</h3>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                            var disqus_identifier = "articles/pi-nginx/";
                            (function () {
                                var dsq = document.createElement('script');
                                dsq.type = 'text/javascript';
                                dsq.async = true;
                                dsq.src = 'https://pingbook.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                            })();
                        </script>
                        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments
                            powered by Disqus</a>.
                        </noscript>
                    </div>

            </div><!-- /.eleven.columns -->

<div class="three columns">
    <nav class="widget sidebarbg">
        <h4>Navigation</h4>
        <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/categories">Category</a></li>
                <li><a href="/archives">Archive</a></li>
                <li><a href="/tags">Tags</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/change-log">Changes</a></li>
        </ul>
    </nav>
        <div class="sidebarbg">
            <nav class="widget">
                <h4>Categories</h4>
                <ul class="blank">
                        <li><a href="../../category/sql/">SQL</a></li>
                        <li><a href="../../category/shu-mei-pai/">树莓派</a></li>
                        <li><a href="../../category/python/">Python</a></li>
                        <li><a href="../../category/mian-shi/">面试</a></li>
                        <li><a href="../../category/linux/">Linux</a></li>
                        <li><a href="../../category/javascript/">JavaScript</a></li>
                        <li><a href="../../category/java/">Java</a></li>
                        <li><a href="../../category/bo-ke-da-jian/">博客搭建</a></li>
                </ul>
            </nav>
        </div>


        <nav class="widget sidebarbg">
            <h4>Tags</h4>
            <ul class="blank">
                    <li class="tag-4"><a href="../../tag/algorithm/">Algorithm</a></li>
                    <li class="tag-4"><a href="../../tag/software-testing/">Software Testing</a></li>
                    <li class="tag-4"><a href="../../tag/tomcat9/">Tomcat9</a></li>
                    <li class="tag-4"><a href="../../tag/bigdata/">bigdata</a></li>
                    <li class="tag-4"><a href="../../tag/dbforge-mysql/">dbforge mysql</a></li>
                    <li class="tag-4"><a href="../../tag/hadoop/">hadoop</a></li>
                    <li class="tag-1"><a href="../../tag/java/">java</a></li>
                    <li class="tag-4"><a href="../../tag/linux/">linux</a></li>
                    <li class="tag-4"><a href="../../tag/list/">list</a></li>
                    <li class="tag-4"><a href="../../tag/machine-learning/">machine learning</a></li>
                    <li class="tag-4"><a href="../../tag/mysql/">mysql</a></li>
                    <li class="tag-4"><a href="../../tag/mysqlbei-fen/">mysql备份</a></li>
                    <li class="tag-2"><a href="../../tag/nat123/">nat123</a></li>
                    <li class="tag-4"><a href="../../tag/nginx/">nginx</a></li>
                    <li class="tag-2"><a href="../../tag/pelican/">pelican</a></li>
                    <li class="tag-4"><a href="../../tag/performance-testing/">performance testing</a></li>
                    <li class="tag-4"><a href="../../tag/python3/">python3</a></li>
                    <li class="tag-4"><a href="../../tag/svn/">svn</a></li>
                    <li class="tag-4"><a href="../../tag/tensorflow/">tensorflow</a></li>
                    <li class="tag-4"><a href="../../tag/uninstall-netframework/">uninstall .netframework</a></li>
                    <li class="tag-1"><a href="../../tag/shu-mei-pai/">树莓派</a></li>
                    <li class="tag-4"><a href="../../tag/shu-mei-pai-jing-xiang/">树莓派镜像</a></li>
                    <li class="tag-4"><a href="../../tag/bai-he-ce-shi/">白盒测试</a></li>
                    <li class="tag-4"><a href="../../tag/ruan-jian-ce-shi/">软件测试</a></li>
                    <li class="tag-4"><a href="../../tag/mian-xiang-dui-xiang/">面向对象</a></li>
                    <li class="tag-1"><a href="../../tag/mian-shi/">面试</a></li>
            </ul>
        </nav>

        <div class="social sidebarbg">

            <nav class="widget">
                <h4>Social</h4>
                <ul class="blank">
                        <li><a target="_blank" href="mailto:alterhu2020@gmail.com?subject=From PingBook question">gmail</a></li>
                        <li><a target="_blank" href="https://twitter.com/alterhu2020">twitter</a></li>
                        <li><a target="_blank" href="http://github.com/pingbook">github</a></li>
                </ul>
            </nav>
        </div>
        <nav class="widget sidebarbg">
            <h4>Friends</h4>
            <ul>
                    <li><a target="_blank" href="http://www.cnblogs.com/alterhu/">我的博客园</a></li>
                    <li><a target="_blank" href="http://xiaohanyu.me/about/">[运维]Xiao Hanyu</a></li>
                    <li><a target="_blank" href="http://huangxuan.me/">[前端]黄玄的博客</a></li>
                    <li><a target="_blank" href="http://www.ruanyifeng.com/blog/">[前端]阮一峰</a></li>
                    <li><a target="_blank" href="https://kevin.deldycke.com/">[Python]Data Engineer</a></li>
            </ul>
        </nav>

</div>        </div><!-- /.row -->


    </section>

    </div><!-- /.row -->
</div><!-- /.container -->


<div class="container.nopad bg">


    <footer id="credits" class="row" style="margin-bottom: 0px">
        <div class="seven columns left-center">

            <address id="about" class="vcard body">
                ©
                <script>document.write(new Date().getFullYear())</script>
                PingBook.Inc. Powered by <a href="http://getpelican.com/">Pelican</a>.
                <!--<br />-->
                <div>
                    <span id="busuanzi_container_site_pv">Site Views: <span id="busuanzi_value_site_pv"></span></span>,
                    <span id="busuanzi_container_site_uv">Total Vistors: <span
                            id="busuanzi_value_site_uv"></span></span>
                </div>
            </address>
        </div>


        <div class="seven columns">
            <div class="row">
                <ul class="socbtns">





                </ul>
            </div>
        </div>
    </footer>

</div>


<script type="text/javascript">
    var disqus_shortname = 'pingbook';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script src="../../theme/js/libs/jquery-1.9.1.min.js"></script>
<script src="../../theme/js/libs/gumby.min.js"></script>
<script>
    function validateForm(query) {
        return (query.length > 0);
    }
</script>
<script async src="../../theme/js/libs/busuanzi.pure.mini.js"></script>
<script src="../../theme/js/plugins.js"></script>
</body>
</html>