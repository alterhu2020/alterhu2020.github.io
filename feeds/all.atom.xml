<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>PingBook博客</title><link href="https://pingbook.top/" rel="alternate"></link><link href="https://pingbook.top/feeds/all.atom.xml" rel="self"></link><id>https://pingbook.top/</id><updated>2018-07-09T23:10:47+08:00</updated><entry><title>[Linux环境搭建] Debian安装编译和安装nginx服务器</title><link href="https://pingbook.top/articles/pi-nginx/" rel="alternate"></link><published>2018-07-09T23:10:47+08:00</published><updated>2018-07-09T23:10:47+08:00</updated><author><name>Walter Hu</name></author><id>tag:pingbook.top,2018-07-09:/articles/pi-nginx/</id><summary type="html">&lt;h2&gt;Debian安装配置nginx服务器&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;下载解压缩安装包&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo wget https://nginx.org/download/nginx-1.15.1.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ tar zxvf nginx-1.15.1.tar.gz &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;重新配置nginx的服务器名称servername和对应版本&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; nginx-1.15.1/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano  src/http/ngx_http_header_filter_module.c&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano  src/core/nginx.h&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano nginx-1.15.1-openbook.top.tar.gz nginx-1.15.1/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;安装对应的nginx的所有依赖的包, gcc环境, pcre, zlib and&amp;nbsp;openssl&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt install build-essential -y&lt;/span&gt;
&lt;span class="code-line"&gt;$ wget https://ftp.pcre.org/pub/pcre/pcre-8.41.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ tar zxvf pcre-8.41.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ wget http://www.zlib.net/zlib-1.2.11.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ tar -zxvf zlib-1.2.11.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ wget https://www.openssl.org/source/openssl-1.1.0g.tar.gz &lt;/span&gt;
&lt;span class="code-line"&gt;$ tar zxvf openssl-1.1.0g.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; openssl-1.1.0g&lt;/span&gt;
&lt;span class="code-line"&gt;$ ./config -Wl,--enable-new-dtags,-rpath,&lt;span class="s1"&gt;&amp;#39;$(LIBRPATH)&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ make  &lt;span class="c1"&gt;# 大约五六分钟左右&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo make install&lt;/span&gt;
&lt;span class="code-line"&gt;$ openssl version -a&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;安装nginx&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; nginx-1.15.1&lt;/span&gt;
&lt;span class="code-line"&gt;$ ./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/nginx &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --sbin-path&lt;span class="o"&gt;=&lt;/span&gt;/usr/sbin/nginx &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --modules-path&lt;span class="o"&gt;=&lt;/span&gt;/usr/lib/nginx/modules &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --conf-path&lt;span class="o"&gt;=&lt;/span&gt;/etc/nginx …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h2&gt;Debian安装配置nginx服务器&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;下载解压缩安装包&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo wget https://nginx.org/download/nginx-1.15.1.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ tar zxvf nginx-1.15.1.tar.gz &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;重新配置nginx的服务器名称servername和对应版本&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; nginx-1.15.1/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano  src/http/ngx_http_header_filter_module.c&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano  src/core/nginx.h&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano nginx-1.15.1-openbook.top.tar.gz nginx-1.15.1/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;安装对应的nginx的所有依赖的包, gcc环境, pcre, zlib and&amp;nbsp;openssl&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt install build-essential -y&lt;/span&gt;
&lt;span class="code-line"&gt;$ wget https://ftp.pcre.org/pub/pcre/pcre-8.41.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ tar zxvf pcre-8.41.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ wget http://www.zlib.net/zlib-1.2.11.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ tar -zxvf zlib-1.2.11.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ wget https://www.openssl.org/source/openssl-1.1.0g.tar.gz &lt;/span&gt;
&lt;span class="code-line"&gt;$ tar zxvf openssl-1.1.0g.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; openssl-1.1.0g&lt;/span&gt;
&lt;span class="code-line"&gt;$ ./config -Wl,--enable-new-dtags,-rpath,&lt;span class="s1"&gt;&amp;#39;$(LIBRPATH)&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ make  &lt;span class="c1"&gt;# 大约五六分钟左右&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo make install&lt;/span&gt;
&lt;span class="code-line"&gt;$ openssl version -a&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;安装nginx&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; nginx-1.15.1&lt;/span&gt;
&lt;span class="code-line"&gt;$ ./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/nginx &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --sbin-path&lt;span class="o"&gt;=&lt;/span&gt;/usr/sbin/nginx &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --modules-path&lt;span class="o"&gt;=&lt;/span&gt;/usr/lib/nginx/modules &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --conf-path&lt;span class="o"&gt;=&lt;/span&gt;/etc/nginx/nginx.conf &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --error-log-path&lt;span class="o"&gt;=&lt;/span&gt;/var/log/nginx/error.log &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --http-log-path&lt;span class="o"&gt;=&lt;/span&gt;/var/log/nginx/access.log &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --pid-path&lt;span class="o"&gt;=&lt;/span&gt;/run/nginx.pid &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --lock-path&lt;span class="o"&gt;=&lt;/span&gt;/var/lock/nginx.lock &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --user&lt;span class="o"&gt;=&lt;/span&gt;www-data &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --group&lt;span class="o"&gt;=&lt;/span&gt;www-data &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --http-client-body-temp-path&lt;span class="o"&gt;=&lt;/span&gt;/var/lib/nginx/body &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --http-fastcgi-temp-path&lt;span class="o"&gt;=&lt;/span&gt;/var/lib/nginx/fastcgi &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --http-proxy-temp-path&lt;span class="o"&gt;=&lt;/span&gt;/var/lib/nginx/proxy &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --http-scgi-temp-path&lt;span class="o"&gt;=&lt;/span&gt;/var/lib/nginx/scgi &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --http-uwsgi-temp-path&lt;span class="o"&gt;=&lt;/span&gt;/var/lib/nginx/uwsgi &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-openssl&lt;span class="o"&gt;=&lt;/span&gt;../openssl-1.1.0g &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-openssl-opt&lt;span class="o"&gt;=&lt;/span&gt;enable-ec_nistp_64_gcc_128 &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-openssl-opt&lt;span class="o"&gt;=&lt;/span&gt;no-nextprotoneg &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-openssl-opt&lt;span class="o"&gt;=&lt;/span&gt;no-weak-ssl-ciphers &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-openssl-opt&lt;span class="o"&gt;=&lt;/span&gt;no-ssl3 &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-pcre&lt;span class="o"&gt;=&lt;/span&gt;../pcre-8.41 &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-pcre-jit &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-zlib&lt;span class="o"&gt;=&lt;/span&gt;../zlib-1.2.11 &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-compat &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-file-aio &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-threads &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_addition_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_auth_request_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_dav_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_flv_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_gunzip_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_gzip_static_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_mp4_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_random_index_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_realip_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_slice_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_ssl_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_sub_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_stub_status_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_v2_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-http_secure_link_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-mail &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-mail_ssl_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-stream &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-stream_realip_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-stream_ssl_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-stream_ssl_preread_module &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-debug &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-cc-opt&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-g -O2 -fPIE -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2&amp;#39;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;            --with-ld-opt&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-Wl,-Bsymbolic-functions -fPIE -pie -Wl,-z,relro -Wl,-z,now&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ make   &lt;span class="c1"&gt;#这个操作需要花费十分钟左右&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo make install&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo systemctl start nginx.service &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; nginx.service&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="nginx"></category></entry><entry><title>[Linux环境搭建] Debian如何安装配置Tomcat9</title><link href="https://pingbook.top/articles/pi-tomcat/" rel="alternate"></link><published>2018-07-09T22:46:39+08:00</published><updated>2018-07-09T22:46:39+08:00</updated><author><name>Walter Hu</name></author><id>tag:pingbook.top,2018-07-09:/articles/pi-tomcat/</id><summary type="html">&lt;h2&gt;安装&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;参考文档:&lt;br&gt;
&lt;em&gt; &lt;a href="https://www.howtoforge.com/tutorial/ubuntu-apache-tomcat/"&gt;https://www.howtoforge.com/tutorial/ubuntu-apache-tomcat/&lt;/a&gt;&lt;br&gt;
&lt;/em&gt; 推荐: &lt;a href="https://gist.github.com/jniltinho/a7bd30288342a5d352e6#file-install_tomcat-sh-L33"&gt;https://gist.github.com/jniltinho/a7bd30288342a5d352e6#file-install_tomcat-sh-L33&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;安装JDK和配置环境变量(采用下面的配置环境变量/etc/profile), 注意截止到20180709,&amp;nbsp;oracle没有提供debain的32位系统安装tar包,所以这里使用的是32位的jdk1.8&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ nano ~/.bashrc&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;JAVA_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$JAVA_HOME&lt;/span&gt;/bin:&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;source&lt;/span&gt; ~/.bashrc&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$JAVA_HOME&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;添加组和用户&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo groupadd tomcat&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo useradd -s /bin/false -g tomcat -d /opt/tomcat tomcat&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;下载tomcat9&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ tar zxvf jdk1.8.0_171.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$  sudo nano /etc/profile&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;JAVA_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/pi/jdk1.8.0_171&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;CLASSPATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$JAVA_HOME&lt;/span&gt;/lib/&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;:&lt;span class="nv"&gt;$JAVA_HOME&lt;/span&gt;/bin&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; PATH JAVA_HOME CLASSPATH&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;source&lt;/span&gt; /etc/profile&lt;/span&gt;
&lt;span class="code-line"&gt;$ java 可能下载的是64位的jdk,但是系统只能运行32位的jdk&lt;/span&gt;
&lt;span class="code-line"&gt;/bin/javac: cannot execute binary file: Exec format error&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/pi&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo wget http://apache.cs.utah.edu/tomcat/tomcat-9/v9.0.10/bin/apache-tomcat-9.0.10.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$  tar zxvf apache-tomcat-9.0.10.tar.gz &lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/pi/apache-tomcat-9.0.10/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo groupadd tomcat &lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo useradd -M -s /bin/nologin -g tomcat -d /home/pi/apache-tomcat-9.0 …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h2&gt;安装&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;参考文档:&lt;br&gt;
&lt;em&gt; &lt;a href="https://www.howtoforge.com/tutorial/ubuntu-apache-tomcat/"&gt;https://www.howtoforge.com/tutorial/ubuntu-apache-tomcat/&lt;/a&gt;&lt;br&gt;
&lt;/em&gt; 推荐: &lt;a href="https://gist.github.com/jniltinho/a7bd30288342a5d352e6#file-install_tomcat-sh-L33"&gt;https://gist.github.com/jniltinho/a7bd30288342a5d352e6#file-install_tomcat-sh-L33&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;安装JDK和配置环境变量(采用下面的配置环境变量/etc/profile), 注意截止到20180709,&amp;nbsp;oracle没有提供debain的32位系统安装tar包,所以这里使用的是32位的jdk1.8&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ nano ~/.bashrc&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;JAVA_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$JAVA_HOME&lt;/span&gt;/bin:&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;source&lt;/span&gt; ~/.bashrc&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$JAVA_HOME&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;添加组和用户&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo groupadd tomcat&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo useradd -s /bin/false -g tomcat -d /opt/tomcat tomcat&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;下载tomcat9&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ tar zxvf jdk1.8.0_171.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$  sudo nano /etc/profile&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;JAVA_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/pi/jdk1.8.0_171&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;CLASSPATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$JAVA_HOME&lt;/span&gt;/lib/&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;:&lt;span class="nv"&gt;$JAVA_HOME&lt;/span&gt;/bin&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; PATH JAVA_HOME CLASSPATH&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;source&lt;/span&gt; /etc/profile&lt;/span&gt;
&lt;span class="code-line"&gt;$ java 可能下载的是64位的jdk,但是系统只能运行32位的jdk&lt;/span&gt;
&lt;span class="code-line"&gt;/bin/javac: cannot execute binary file: Exec format error&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/pi&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo wget http://apache.cs.utah.edu/tomcat/tomcat-9/v9.0.10/bin/apache-tomcat-9.0.10.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;$  tar zxvf apache-tomcat-9.0.10.tar.gz &lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/pi/apache-tomcat-9.0.10/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo groupadd tomcat &lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo useradd -M -s /bin/nologin -g tomcat -d /home/pi/apache-tomcat-9.0.10 tomcat&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chgrp -R tomcat conf&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chmod g+rwx conf&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chmod g+r conf/*&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chown -R tomcat webapps/ work/ temp/ logs/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chown -R tomcat:tomcat *&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chown -R tomcat:tomcat /home/pi/apache-tomcat-9.0.10&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chmod -R &lt;span class="m"&gt;757&lt;/span&gt; conf/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chmod -R &lt;span class="m"&gt;757&lt;/span&gt; logs/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chmod -R &lt;span class="m"&gt;757&lt;/span&gt; webapps/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;配置&amp;nbsp;tomcat开机启动&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/systemd/system/tomcat.service&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# Systemd unit file for tomcat&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt;Unit&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Apache Tomcat Web Application Container&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;After&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;syslog.target network.target&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt;Service&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;forking&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;JAVA_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/pi/jdk1.8.0_171&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;CATALINA_PID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/pi/apache-tomcat-9.0.10/temp/tomcat.pid&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;CATALINA_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/pi/apache-tomcat-9.0.10&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;CATALINA_BASE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/pi/apache-tomcat-9.0.10&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CATALINA_OPTS=-Xms512M -Xmx824M -server -XX:+UseParallelGC&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;ExecStart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/pi/apache-tomcat-9.0.10/bin/startup.sh&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;ExecStop&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/bin/kill -15 &lt;span class="nv"&gt;$MAINPID&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;User&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;tomcat&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Group&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;tomcat&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt;Install&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;multi-user.target&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo systemctl daemon-reload&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo systemctl start tomcat&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; tomcat&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Configure Apache Tomcat&amp;nbsp;User&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/pi/apache-tomcat-9.0.10/conf/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano tomcat-users.xml&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;role &lt;span class="nv"&gt;rolename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;manager-gui&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;user &lt;span class="nv"&gt;username&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;admin&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;admin&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;roles&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;manager-gui,admin-gui&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; webapps/manager/META-INF/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano context.xml&lt;/span&gt;
&lt;span class="code-line"&gt;comment:&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;!--  &amp;lt;Valve &lt;span class="nv"&gt;className&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;org.apache.catalina.valves.RemoteAddrValve&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;         &lt;span class="nv"&gt;allow&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;127\.\d+\.\d+\.\d+|::1|0:0:0:0:0:0:0:1&amp;quot;&lt;/span&gt; /&amp;gt; --&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;$cd&lt;/span&gt; webapps/host-manager/META-INF/&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#sudo nano context.xml&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;comment:&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;!--  &amp;lt;Valve &lt;span class="nv"&gt;className&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;org.apache.catalina.valves.RemoteAddrValve&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;         &lt;span class="nv"&gt;allow&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;127\.\d+\.\d+\.\d+|::1|0:0:0:0:0:0:0:1&amp;quot;&lt;/span&gt; /&amp;gt; --&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo systemctl restart tomcat.service&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="Tomcat9"></category></entry><entry><title>[Linux环境搭建] svn 安装配置</title><link href="https://pingbook.top/articles/pi-svn/" rel="alternate"></link><published>2018-07-09T21:33:36+08:00</published><updated>2018-07-09T21:33:36+08:00</updated><author><name>Walter Hu</name></author><id>tag:pingbook.top,2018-07-09:/articles/pi-svn/</id><summary type="html">&lt;h2&gt;&lt;span class="caps"&gt;SVN&lt;/span&gt;&amp;nbsp;安装&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;执行如下命令进行安装:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get -y install subversion&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;启动 &lt;code&gt;svn&lt;/code&gt; 服务: &lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;d代表的是daemon 进程&lt;/span&gt;
&lt;span class="code-line"&gt;$ svnserve -d&lt;/span&gt;
&lt;span class="code-line"&gt;$ ps aux | grep svnserve&lt;/span&gt;
&lt;span class="code-line"&gt;若出现如下内容：&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;wkr 6537 0.0 0.0 13784 956 ? Ss 16:18 0:00 svnserve -d&lt;/span&gt;
&lt;span class="code-line"&gt;wkr 7593 0.0 0.0 5784 864 pts/0 S+ 21:57 0:00 grep –color=auto svnserve&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;表示服务已开启。（注意：一定要有第1行，只有第2行说明服务未启动）&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;关闭&lt;code&gt;svn&lt;/code&gt;服务:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$  killall svnserve&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;重启 &lt;code&gt;svn&lt;/code&gt;服务:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ svnserve -d -r /srv&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;新建一个仓库:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo adduser --system --home /srv/svn --disabled-password --disabled-login --group svn&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo svnadmin create /srv/svn&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chown -R svn:svn /srv/svn&lt;/span&gt;
&lt;span class="code-line"&gt;change user, change group 改变文件对应的用户和用户组&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;修改仓库配置文件&lt;br&gt;
编辑配置文件:&amp;nbsp;svnserve.conf&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /srv/svn/conf/svnserve.conf&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt;general&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;anon-access &lt;span class="o"&gt;=&lt;/span&gt; none&lt;/span&gt;
&lt;span class="code-line"&gt;auth-access &lt;span class="o"&gt;=&lt;/span&gt; write&lt;/span&gt;
&lt;span class="code-line"&gt;authz-db &lt;span class="o"&gt;=&lt;/span&gt; authz&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;修改帐户文件&lt;code&gt;nano /srv/svn/conf/passwd&lt;/code&gt; 和 &lt;code&gt;sudo nano /srv/svn/conf/authz&lt;/code&gt;,&amp;nbsp;此处忽略.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;配置svn开机自动启动&lt;/li&gt;
&lt;li&gt;新建一个svnserve配置文件在&lt;code&gt;/et/default/svnserve&lt;/code&gt;文件,内容如下:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;# svnserve options&lt;/span&gt;
&lt;span class="code-line"&gt;DAEMON_ARGS=&amp;quot;--daemon --pid-file /run/svnserve/svnserve.pid --root /srv/svn --log-file …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h2&gt;&lt;span class="caps"&gt;SVN&lt;/span&gt;&amp;nbsp;安装&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;执行如下命令进行安装:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get -y install subversion&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;启动 &lt;code&gt;svn&lt;/code&gt; 服务: &lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;d代表的是daemon 进程&lt;/span&gt;
&lt;span class="code-line"&gt;$ svnserve -d&lt;/span&gt;
&lt;span class="code-line"&gt;$ ps aux | grep svnserve&lt;/span&gt;
&lt;span class="code-line"&gt;若出现如下内容：&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;wkr 6537 0.0 0.0 13784 956 ? Ss 16:18 0:00 svnserve -d&lt;/span&gt;
&lt;span class="code-line"&gt;wkr 7593 0.0 0.0 5784 864 pts/0 S+ 21:57 0:00 grep –color=auto svnserve&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;表示服务已开启。（注意：一定要有第1行，只有第2行说明服务未启动）&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;关闭&lt;code&gt;svn&lt;/code&gt;服务:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$  killall svnserve&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;重启 &lt;code&gt;svn&lt;/code&gt;服务:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ svnserve -d -r /srv&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;新建一个仓库:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo adduser --system --home /srv/svn --disabled-password --disabled-login --group svn&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo svnadmin create /srv/svn&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chown -R svn:svn /srv/svn&lt;/span&gt;
&lt;span class="code-line"&gt;change user, change group 改变文件对应的用户和用户组&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;修改仓库配置文件&lt;br&gt;
编辑配置文件:&amp;nbsp;svnserve.conf&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /srv/svn/conf/svnserve.conf&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt;general&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;anon-access &lt;span class="o"&gt;=&lt;/span&gt; none&lt;/span&gt;
&lt;span class="code-line"&gt;auth-access &lt;span class="o"&gt;=&lt;/span&gt; write&lt;/span&gt;
&lt;span class="code-line"&gt;authz-db &lt;span class="o"&gt;=&lt;/span&gt; authz&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;修改帐户文件&lt;code&gt;nano /srv/svn/conf/passwd&lt;/code&gt; 和 &lt;code&gt;sudo nano /srv/svn/conf/authz&lt;/code&gt;,&amp;nbsp;此处忽略.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;配置svn开机自动启动&lt;/li&gt;
&lt;li&gt;新建一个svnserve配置文件在&lt;code&gt;/et/default/svnserve&lt;/code&gt;文件,内容如下:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;# svnserve options&lt;/span&gt;
&lt;span class="code-line"&gt;DAEMON_ARGS=&amp;quot;--daemon --pid-file /run/svnserve/svnserve.pid --root /srv/svn --log-file /var/log/svn/svnserve.log&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt; 新建log文件,这些是&lt;code&gt;/etc/default/svnserve&lt;/code&gt;中的文件的配置涉及的几个文件,如果执行&lt;code&gt;sudo systemctl restart svnserve.service&lt;/code&gt;失败,会自动删除文件夹&lt;code&gt;/run/svnserve&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo mkdir /run/svnserve&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chown -R svn:svn /run/svnserve/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chmod -R &lt;span class="m"&gt;777&lt;/span&gt; /run/svnserve/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo mkdir /var/log/svn&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chown -R svn:svn /var/log/svn/&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chmod -R &lt;span class="m"&gt;777&lt;/span&gt; /var/log/svn/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;新建service启动服务文件&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/systemd/system/svnserve.service&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt;Unit&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Subversion protocol daemon&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;After&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;syslog.target network.target&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt;Service&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;forking&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;RuntimeDirectory&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;svnserve&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;PIDFile&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/run/svnserve/svnserve.pid&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;EnvironmentFile&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/etc/default/svnserve&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;ExecStart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/bin/svnserve &lt;span class="nv"&gt;$DAEMON_ARGS&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;User&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;svn&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Group&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;svn&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;KillMode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;control-group&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;Restart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on-failure&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;[&lt;/span&gt;Install&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;multi-user.target&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;重启机器后出现这个错误:(原因是上面的第一个操作我没有做,就是没有创建一个文件&lt;code&gt;/etc/default/svnserve&lt;/code&gt;,或者其中涉及到的文件&lt;code&gt;/var/log/svn&lt;/code&gt;,&lt;code&gt;/run/svnserve&lt;/code&gt;没有新建,或者没有配置可写权限对于用户&lt;code&gt;svn&lt;/code&gt;)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="k"&gt;pingbook&lt;/span&gt;&lt;span class="o"&gt;:~$&lt;/span&gt; &lt;span class="nt"&gt;systemctl&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt; &lt;span class="nt"&gt;svnserve&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="err"&gt;●&lt;/span&gt; &lt;span class="nt"&gt;svnserve&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;Subversion&lt;/span&gt; &lt;span class="nt"&gt;protocol&lt;/span&gt; &lt;span class="nt"&gt;daemon&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="nt"&gt;Loaded&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt; &lt;span class="o"&gt;(/&lt;/span&gt;&lt;span class="nt"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;system&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;svnserve&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;vendor&lt;/span&gt; &lt;span class="nt"&gt;preset&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;   &lt;span class="nt"&gt;Active&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;failed&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;Result&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;since&lt;/span&gt; &lt;span class="nt"&gt;Sun&lt;/span&gt; &lt;span class="nt"&gt;2018-07-08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;CST&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;28s&lt;/span&gt; &lt;span class="nt"&gt;ago&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;7月&lt;/span&gt; &lt;span class="nt"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;pingbook&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Failed&lt;/span&gt; &lt;span class="nt"&gt;to&lt;/span&gt; &lt;span class="nt"&gt;start&lt;/span&gt; &lt;span class="nt"&gt;Subversion&lt;/span&gt; &lt;span class="nt"&gt;protocol&lt;/span&gt; &lt;span class="nt"&gt;daemon&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;7月&lt;/span&gt; &lt;span class="nt"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;pingbook&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;svnserve&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Unit&lt;/span&gt; &lt;span class="nt"&gt;entered&lt;/span&gt; &lt;span class="nt"&gt;failed&lt;/span&gt; &lt;span class="nt"&gt;state&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;7月&lt;/span&gt; &lt;span class="nt"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;pingbook&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;svnserve&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Failed&lt;/span&gt; &lt;span class="nt"&gt;with&lt;/span&gt; &lt;span class="nt"&gt;result&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;resources&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;7月&lt;/span&gt; &lt;span class="nt"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;pingbook&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;svnserve&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Service&lt;/span&gt; &lt;span class="nt"&gt;hold-off&lt;/span&gt; &lt;span class="nt"&gt;time&lt;/span&gt; &lt;span class="nt"&gt;over&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;scheduling&lt;/span&gt; &lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;7月&lt;/span&gt; &lt;span class="nt"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;pingbook&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Stopped&lt;/span&gt; &lt;span class="nt"&gt;Subversion&lt;/span&gt; &lt;span class="nt"&gt;protocol&lt;/span&gt; &lt;span class="nt"&gt;daemon&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;7月&lt;/span&gt; &lt;span class="nt"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;pingbook&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;svnserve&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Start&lt;/span&gt; &lt;span class="nt"&gt;request&lt;/span&gt; &lt;span class="nt"&gt;repeated&lt;/span&gt; &lt;span class="nt"&gt;too&lt;/span&gt; &lt;span class="nt"&gt;quickly&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;7月&lt;/span&gt; &lt;span class="nt"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;pingbook&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Failed&lt;/span&gt; &lt;span class="nt"&gt;to&lt;/span&gt; &lt;span class="nt"&gt;start&lt;/span&gt; &lt;span class="nt"&gt;Subversion&lt;/span&gt; &lt;span class="nt"&gt;protocol&lt;/span&gt; &lt;span class="nt"&gt;daemon&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;7月&lt;/span&gt; &lt;span class="nt"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;pingbook&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;svnserve&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Unit&lt;/span&gt; &lt;span class="nt"&gt;entered&lt;/span&gt; &lt;span class="nt"&gt;failed&lt;/span&gt; &lt;span class="nt"&gt;state&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;7月&lt;/span&gt; &lt;span class="nt"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;56&lt;/span&gt; &lt;span class="nt"&gt;pingbook&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;svnserve&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Failed&lt;/span&gt; &lt;span class="nt"&gt;with&lt;/span&gt; &lt;span class="nt"&gt;result&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;resources&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;checkout一份代码到nginx服务器,保持web同步,注意checkout的目录用户要是svn的用户和组,这样hook才能有权限读写&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo svn co svn://localhost/svn /www/pingbook.top --username &lt;span class="s2"&gt;&amp;quot;hr&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /www/pingbook.top&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chown -R svn:svn *&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chown -R svn:svn /www/pingbook.top&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chmod -R &lt;span class="m"&gt;757&lt;/span&gt; /www/pingbook.top&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo chmod -R &lt;span class="m"&gt;757&lt;/span&gt; /www/pingbook.top/.svn   &lt;span class="c1"&gt;# 配置svn数据仓库 &lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo svn cleanup&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果commit的时候发现&lt;code&gt;hook&lt;/code&gt;的&lt;code&gt;post-commit&lt;/code&gt;总是报错: &lt;code&gt;post-commit hook failed (exit code 255) with no output&lt;/code&gt;,需要检查对应的文件的读写权限.
1. 检查对应的&lt;code&gt;post-commit&lt;/code&gt;的用户组是&lt;code&gt;svn&lt;/code&gt;,对应的文件有执行权限: &lt;code&gt;sudo chmod g+e /srv/svn/hook/post-commit&lt;/code&gt;&lt;/p&gt;</content><category term="svn"></category></entry><entry><title>[Linux环境搭建] MYSQL 的安装配置</title><link href="https://pingbook.top/articles/pi-mysql/" rel="alternate"></link><published>2018-07-09T20:27:24+08:00</published><updated>2018-07-09T20:27:24+08:00</updated><author><name>Walter Hu</name></author><id>tag:pingbook.top,2018-07-09:/articles/pi-mysql/</id><summary type="html">&lt;h2&gt;安装&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;执行如下命令进行安装和基本的配置:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get -y install mysql-server&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo mysql_secure_installation&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;第二条命令将会配置mysql的&lt;code&gt;root&lt;/code&gt;密码,删除掉&lt;code&gt;test&lt;/code&gt;数据库,不允许匿名登录等等操作. 按照上面的操作mysql的配置是没有问题的了,但是你会发现,如果你运行如下命令:
&lt;code&gt;mysql -u root -p&lt;/code&gt;, 这里的root不用输入密码,明明上面的已经设置了密码???&lt;br&gt;&amp;nbsp;进行如下的命令进行配置:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo mysql -u root -p &lt;/span&gt;
&lt;span class="code-line"&gt;$ use mysql&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ update user &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;plugin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mysql_native_password&amp;#39;&lt;/span&gt; where &lt;span class="nv"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ flush privileges&lt;span class="p"&gt;;&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;$ quit&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;配置&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;root&lt;/code&gt;密码的更改,可以采用下面的操作步骤:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf&lt;/span&gt;
&lt;span class="code-line"&gt;增加一行代码: skip-grant-tables 参见 https://www.jb51.net/article/100925.htm&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo mysql -u root -p &lt;/span&gt;
&lt;span class="code-line"&gt;$ use mysql&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ UPDATE mysql.user SET &lt;span class="nv"&gt;Password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;PASSWORD&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;YanZhi123!@#)0x&amp;amp;*&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; where &lt;span class="nv"&gt;USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ flush privileges&lt;span class="p"&gt;;&lt;/span&gt; &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;增加用户名和授权远程登录:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf&lt;/span&gt;
&lt;span class="code-line"&gt;注释掉 bind-address          &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;127&lt;/span&gt;.0.0.1&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo mysql -u root -p &lt;/span&gt;
&lt;span class="code-line"&gt;$ use mysql&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ CREATE USER &lt;span class="s1"&gt;&amp;#39;yanzhi&amp;#39;&lt;/span&gt;@&lt;span class="s1"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; IDENTIFIED BY &lt;span class="s1"&gt;&amp;#39;yanzhi123!@#&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ GRANT ALL PRIVILEGES ON *.* TO &lt;span class="s1"&gt;&amp;#39;yanzhi&amp;#39;&lt;/span&gt;@&lt;span class="s1"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; IDENTIFIED BY &lt;span class="s1"&gt;&amp;#39;yanzhi123!@#&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    -- 远程连接权限所有的数据库.&lt;/span&gt;
&lt;span class="code-line"&gt;$ flush privileges&lt;span class="p"&gt;;&lt;/span&gt; &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;创建数据库,支持中文:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;UTF8&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;CREATE&lt;/span&gt; &lt;span class="n"&gt;DATABASE&lt;/span&gt; &lt;span class="n"&gt;test2&lt;/span&gt; &lt;span class="n"&gt;DEFAULT&lt;/span&gt; &lt;span class="n"&gt;CHARACTER&lt;/span&gt; &lt;span class="n"&gt;SET&lt;/span&gt; &lt;span class="n"&gt;utf8&lt;/span&gt; &lt;span class="n"&gt;COLLATE&lt;/span&gt; &lt;span class="n"&gt;utf8_general_ci&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;自动备份数据库,每天备份一次&lt;/li&gt;
&lt;li&gt;新建文件: &lt;code&gt;sudo nano /usr/sbin/mysqlbackup.sh&lt;/code&gt;,内容如下 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h2&gt;安装&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;执行如下命令进行安装和基本的配置:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get -y install mysql-server&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo mysql_secure_installation&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;第二条命令将会配置mysql的&lt;code&gt;root&lt;/code&gt;密码,删除掉&lt;code&gt;test&lt;/code&gt;数据库,不允许匿名登录等等操作. 按照上面的操作mysql的配置是没有问题的了,但是你会发现,如果你运行如下命令:
&lt;code&gt;mysql -u root -p&lt;/code&gt;, 这里的root不用输入密码,明明上面的已经设置了密码???&lt;br&gt;&amp;nbsp;进行如下的命令进行配置:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo mysql -u root -p &lt;/span&gt;
&lt;span class="code-line"&gt;$ use mysql&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ update user &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;plugin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mysql_native_password&amp;#39;&lt;/span&gt; where &lt;span class="nv"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ flush privileges&lt;span class="p"&gt;;&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;$ quit&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;配置&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;root&lt;/code&gt;密码的更改,可以采用下面的操作步骤:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf&lt;/span&gt;
&lt;span class="code-line"&gt;增加一行代码: skip-grant-tables 参见 https://www.jb51.net/article/100925.htm&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo mysql -u root -p &lt;/span&gt;
&lt;span class="code-line"&gt;$ use mysql&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ UPDATE mysql.user SET &lt;span class="nv"&gt;Password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;PASSWORD&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;YanZhi123!@#)0x&amp;amp;*&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; where &lt;span class="nv"&gt;USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ flush privileges&lt;span class="p"&gt;;&lt;/span&gt; &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;增加用户名和授权远程登录:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf&lt;/span&gt;
&lt;span class="code-line"&gt;注释掉 bind-address          &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;127&lt;/span&gt;.0.0.1&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo mysql -u root -p &lt;/span&gt;
&lt;span class="code-line"&gt;$ use mysql&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ CREATE USER &lt;span class="s1"&gt;&amp;#39;yanzhi&amp;#39;&lt;/span&gt;@&lt;span class="s1"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; IDENTIFIED BY &lt;span class="s1"&gt;&amp;#39;yanzhi123!@#&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ GRANT ALL PRIVILEGES ON *.* TO &lt;span class="s1"&gt;&amp;#39;yanzhi&amp;#39;&lt;/span&gt;@&lt;span class="s1"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; IDENTIFIED BY &lt;span class="s1"&gt;&amp;#39;yanzhi123!@#&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    -- 远程连接权限所有的数据库.&lt;/span&gt;
&lt;span class="code-line"&gt;$ flush privileges&lt;span class="p"&gt;;&lt;/span&gt; &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;创建数据库,支持中文:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;UTF8&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;CREATE&lt;/span&gt; &lt;span class="n"&gt;DATABASE&lt;/span&gt; &lt;span class="n"&gt;test2&lt;/span&gt; &lt;span class="n"&gt;DEFAULT&lt;/span&gt; &lt;span class="n"&gt;CHARACTER&lt;/span&gt; &lt;span class="n"&gt;SET&lt;/span&gt; &lt;span class="n"&gt;utf8&lt;/span&gt; &lt;span class="n"&gt;COLLATE&lt;/span&gt; &lt;span class="n"&gt;utf8_general_ci&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;自动备份数据库,每天备份一次&lt;/li&gt;
&lt;li&gt;新建文件: &lt;code&gt;sudo nano /usr/sbin/mysqlbackup.sh&lt;/code&gt;,内容如下:&lt;/li&gt;
&lt;/ol&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/span&gt;
&lt;span class="code-line"&gt;2&lt;/span&gt;
&lt;span class="code-line"&gt;3&lt;/span&gt;
&lt;span class="code-line"&gt;4&lt;/span&gt;
&lt;span class="code-line"&gt;5&lt;/span&gt;
&lt;span class="code-line"&gt;6&lt;/span&gt;
&lt;span class="code-line"&gt;7&lt;/span&gt;
&lt;span class="code-line"&gt;8&lt;/span&gt;
&lt;span class="code-line"&gt;9&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# Name:mysql_backup.sh&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# This is a ShellScript For Auto DB Backup and Delete old Backup&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;backupdir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/www/backups&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;date +%Y-%m-%d_%H%M%S&lt;span class="sb"&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/usr/bin/mysqldump --routines -u&lt;span class="s1"&gt;&amp;#39;test&amp;#39;&lt;/span&gt; -p&lt;span class="s1"&gt;&amp;#39;test!@#&amp;#39;&lt;/span&gt; pingbook &lt;span class="p"&gt;|&lt;/span&gt; gzip &amp;gt; &lt;span class="nv"&gt;$backupdir&lt;/span&gt;/yanzhi&lt;span class="nv"&gt;$time&lt;/span&gt;.sql.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 删除七天前的备份&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;find &lt;span class="nv"&gt;$backupdir&lt;/span&gt; -name &lt;span class="s2"&gt;&amp;quot;*.sql.gz&amp;quot;&lt;/span&gt; -type f -mtime +7 -exec rm &lt;span class="o"&gt;{}&lt;/span&gt; &lt;span class="se"&gt;\ &lt;/span&gt;&amp;gt; /dev/null &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;ul&gt;
&lt;li&gt;添加可执行权限对应sh文件.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo chmod +x /usr/sbin/mysqlbackup.sh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;增加定时任务在&lt;code&gt;sudo nano /etc/crontab&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;#创建一个mysql备份的操作&lt;/span&gt;
&lt;span class="code-line"&gt;2 1   * * * root  /usr/sbin/mysqlbackup.sh &amp;gt;&amp;gt; /var/log/crontab/backup.log 2&amp;gt;&amp;amp;1  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;重启&lt;code&gt;crontab&lt;/code&gt;以便生效
&lt;code&gt;sudo systemctl restart cron.service&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="mysql"></category><category term="mysql备份"></category></entry><entry><title>[Linux环境搭建] 如何完整卸载python2/3 在debain上</title><link href="https://pingbook.top/articles/pi-python3/" rel="alternate"></link><published>2018-07-09T20:27:12+08:00</published><updated>2018-07-09T20:27:12+08:00</updated><author><name>Walter Hu</name></author><id>tag:pingbook.top,2018-07-09:/articles/pi-python3/</id><summary type="html">&lt;h2&gt;卸载命令&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get remove &lt;span class="s1"&gt;&amp;#39;python3.*&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;其实这里的python的包是: &lt;span class="sb"&gt;`&lt;/span&gt;python3.5-minimal&lt;span class="sb"&gt;`&lt;/span&gt;,&lt;span class="sb"&gt;`&lt;/span&gt;python3.5-venv&lt;span class="sb"&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;安装最新python3.7&lt;/h2&gt;
&lt;p&gt;因为默认的debian仓库里面是python3.5,所以如果需要安装最新的python,安装如下进行安装,
参考文档: &lt;a href="https://unix.stackexchange.com/questions/332641/how-to-install-python-3-6"&gt;https://unix.stackexchange.com/questions/332641/how-to-install-python-3-6&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;安装依赖包&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev \&lt;/span&gt;
&lt;span class="code-line"&gt;libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev \&lt;/span&gt;
&lt;span class="code-line"&gt;xz-utils tk-dev libffi-dev&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz&lt;/span&gt;
&lt;span class="code-line"&gt;$ tar xvf Python-3.7.0.tgz&lt;/span&gt;
&lt;span class="code-line"&gt;$ ./configure --enable-optimizations --with-ensurepip=install&lt;/span&gt;
&lt;span class="code-line"&gt;$ make -j8&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo make altinstall&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;安装pip,pipenv并设置全局可用命令&lt;code&gt;pipenv&lt;/code&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ wget https://bootstrap.pypa.io/get-pip.py&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo python get-pip.py&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ pip install --user pipenv&lt;/span&gt;
&lt;span class="code-line"&gt; /home/pi/.local/bin&lt;/span&gt;
&lt;span class="code-line"&gt;$ python -m site --user-base&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano ~/.profile&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;&lt;span class="s2"&gt;/.local/bin:&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo &lt;span class="nb"&gt;source&lt;/span&gt; ~/.profile&lt;/span&gt;
&lt;span class="code-line"&gt;$ pipenv --update&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h2&gt;卸载命令&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get remove &lt;span class="s1"&gt;&amp;#39;python3.*&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;其实这里的python的包是: &lt;span class="sb"&gt;`&lt;/span&gt;python3.5-minimal&lt;span class="sb"&gt;`&lt;/span&gt;,&lt;span class="sb"&gt;`&lt;/span&gt;python3.5-venv&lt;span class="sb"&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;安装最新python3.7&lt;/h2&gt;
&lt;p&gt;因为默认的debian仓库里面是python3.5,所以如果需要安装最新的python,安装如下进行安装,
参考文档: &lt;a href="https://unix.stackexchange.com/questions/332641/how-to-install-python-3-6"&gt;https://unix.stackexchange.com/questions/332641/how-to-install-python-3-6&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;安装依赖包&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev \&lt;/span&gt;
&lt;span class="code-line"&gt;libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev \&lt;/span&gt;
&lt;span class="code-line"&gt;xz-utils tk-dev libffi-dev&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz&lt;/span&gt;
&lt;span class="code-line"&gt;$ tar xvf Python-3.7.0.tgz&lt;/span&gt;
&lt;span class="code-line"&gt;$ ./configure --enable-optimizations --with-ensurepip=install&lt;/span&gt;
&lt;span class="code-line"&gt;$ make -j8&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo make altinstall&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;安装pip,pipenv并设置全局可用命令&lt;code&gt;pipenv&lt;/code&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ wget https://bootstrap.pypa.io/get-pip.py&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo python get-pip.py&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ pip install --user pipenv&lt;/span&gt;
&lt;span class="code-line"&gt; /home/pi/.local/bin&lt;/span&gt;
&lt;span class="code-line"&gt;$ python -m site --user-base&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo nano ~/.profile&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;&lt;span class="s2"&gt;/.local/bin:&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;$ sudo &lt;span class="nb"&gt;source&lt;/span&gt; ~/.profile&lt;/span&gt;
&lt;span class="code-line"&gt;$ pipenv --update&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="树莓派"></category><category term="python3"></category></entry><entry><title>树莓派外部网站搭建</title><link href="https://pingbook.top/articles/pi-mirrors/" rel="alternate"></link><published>2018-07-08T23:35:08+08:00</published><updated>2018-07-08T23:35:08+08:00</updated><author><name>Walter Hu</name></author><id>tag:pingbook.top,2018-07-08:/articles/pi-mirrors/</id><summary type="html">&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;前因&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;自己在Github&amp;nbsp;Page搭建了一个博客,但是不能被百度收录.也就是百度搜索不能爬取网站的内容,也就不能被国内搜索到了.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;整理一下树莓派下安装nginx的过程&lt;/h2&gt;
&lt;h3&gt;1. 为树莓派更换国内镜像源 -(2018-07-07更新: 清华的镜像源已经不能使用: Cannot initiate the connection to&amp;nbsp;mirrors.tuna.tsinghua.edu.cn:80)&lt;/h3&gt;
&lt;p&gt;可用的官方镜像源: http://www.raspbian.org/RaspbianMirrors&lt;br&gt;&amp;nbsp;使用管理员权限（经由sudo），编辑/etc/apt/sources.list文件。参考命令行为：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/apt/sources.list&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;用#注释掉原文件内容，用以下内容取代使用上海大学或者是中科大(https://mirrors.ustc.edu.cn/archive.raspberrypi.org/)的镜像：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;https://mirrors.shu.edu.cn/raspbian/raspbian/&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;contrib&lt;/span&gt; &lt;span class="kp"&gt;non-free&lt;/span&gt; &lt;span class="kp"&gt;rpi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;deb-src&lt;/span&gt; &lt;span class="s"&gt;https://mirrors.shu.edu.cn/raspbian/raspbian/&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;contrib&lt;/span&gt; &lt;span class="kp"&gt;non-free&lt;/span&gt; &lt;span class="kp"&gt;rpi&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;使用管理员权限（经由sudo），编辑/etc/apt/sources.list.d/raspi.list文件。参考命令行为：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/apt/sources.list.d/raspi.list&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;用#注释掉原文件内容，用以下内容取代：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;https://mirrors.ustc.edu.cn/archive.raspberrypi.org/&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;ui&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;deb-src&lt;/span&gt; &lt;span class="s"&gt;https://mirrors.ustc.edu.cn/archive.raspberrypi.org/&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;ui&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;注意： 网址末尾的raspbian重复两次是必须的。因为Raspbian的仓库中除了APT软件源还包含其他代码。APT软件源不在仓库的根目录，而在raspbian/子目录下。&lt;br&gt;
编辑镜像站后，请使用&lt;code&gt;sudo apt update &amp;amp;&amp;amp; sudo apt upgrade -y&lt;/code&gt;命令，更新软件源列表，同时检查您的编辑是否正确。
使用HTTPS可以有效避免国内运营商的缓存劫持，但需要事先安装&lt;code&gt;apt-transport-https&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;树莓派安装&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;因为感觉空间越来越小了 …&lt;/p&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;前因&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;自己在Github&amp;nbsp;Page搭建了一个博客,但是不能被百度收录.也就是百度搜索不能爬取网站的内容,也就不能被国内搜索到了.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;整理一下树莓派下安装nginx的过程&lt;/h2&gt;
&lt;h3&gt;1. 为树莓派更换国内镜像源 -(2018-07-07更新: 清华的镜像源已经不能使用: Cannot initiate the connection to&amp;nbsp;mirrors.tuna.tsinghua.edu.cn:80)&lt;/h3&gt;
&lt;p&gt;可用的官方镜像源: http://www.raspbian.org/RaspbianMirrors&lt;br&gt;&amp;nbsp;使用管理员权限（经由sudo），编辑/etc/apt/sources.list文件。参考命令行为：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/apt/sources.list&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;用#注释掉原文件内容，用以下内容取代使用上海大学或者是中科大(https://mirrors.ustc.edu.cn/archive.raspberrypi.org/)的镜像：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;https://mirrors.shu.edu.cn/raspbian/raspbian/&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;contrib&lt;/span&gt; &lt;span class="kp"&gt;non-free&lt;/span&gt; &lt;span class="kp"&gt;rpi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;deb-src&lt;/span&gt; &lt;span class="s"&gt;https://mirrors.shu.edu.cn/raspbian/raspbian/&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;contrib&lt;/span&gt; &lt;span class="kp"&gt;non-free&lt;/span&gt; &lt;span class="kp"&gt;rpi&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;使用管理员权限（经由sudo），编辑/etc/apt/sources.list.d/raspi.list文件。参考命令行为：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo nano /etc/apt/sources.list.d/raspi.list&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;用#注释掉原文件内容，用以下内容取代：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;https://mirrors.ustc.edu.cn/archive.raspberrypi.org/&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;ui&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;deb-src&lt;/span&gt; &lt;span class="s"&gt;https://mirrors.ustc.edu.cn/archive.raspberrypi.org/&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt; &lt;span class="kp"&gt;ui&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;注意： 网址末尾的raspbian重复两次是必须的。因为Raspbian的仓库中除了APT软件源还包含其他代码。APT软件源不在仓库的根目录，而在raspbian/子目录下。&lt;br&gt;
编辑镜像站后，请使用&lt;code&gt;sudo apt update &amp;amp;&amp;amp; sudo apt upgrade -y&lt;/code&gt;命令，更新软件源列表，同时检查您的编辑是否正确。
使用HTTPS可以有效避免国内运营商的缓存劫持，但需要事先安装&lt;code&gt;apt-transport-https&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;树莓派安装&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;因为感觉空间越来越小了,不能使用现在的需要了,所以决定重新安装系统.
1. 下载镜像
2. 新建一个空文件没有后缀名: ssh, 然后放到 /boot 文件夹里面.&amp;nbsp;这两个文件在启动的时候会自动复制到指定的目录里面.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;2.&amp;nbsp;删除已经安装的nginx&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;# sudo apt update &amp;amp;&amp;amp; sudo apt upgrade -y  # update all package index&lt;/span&gt;
&lt;span class="code-line"&gt;# sudo apt-get purge nginx nginx-common # Removes everything.&lt;/span&gt;
&lt;span class="code-line"&gt;nginx 采用的C语言编写的,需要对应的C编译器(GCC):&lt;/span&gt;
&lt;span class="code-line"&gt;# sudo apt install build-essential -y&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3.&amp;nbsp;安装远程桌面,不使用VNC操作&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install xrdp&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="树莓派"></category><category term="nat123"></category><category term="树莓派镜像"></category></entry><entry><title>树莓派3B安装</title><link href="https://pingbook.top/articles/pi-installation/" rel="alternate"></link><published>2018-07-08T23:18:44+08:00</published><updated>2018-07-08T23:18:44+08:00</updated><author><name>Walter Hu</name></author><id>tag:pingbook.top,2018-07-08:/articles/pi-installation/</id><summary type="html">&lt;h2&gt;树莓派安装&lt;/h2&gt;
&lt;p&gt;安装完成后，TF卡被分成两个分区：&lt;br&gt;
1. &lt;span class="caps"&gt;67MB&lt;/span&gt; vfat格式的引导分区（系统启动后被挂载在/boot目录）
2. TF卡剩余空间&amp;nbsp;ext4格式的磁盘分区&lt;/p&gt;
&lt;p&gt;由于Windows下不识别ext4格式的磁盘，在资源管理器中查看TF卡只显示一个67MB大小、名字为boot的盘符。若想恢复TF卡整个空间为windows可识别的fat32/exfat格式，需要使用低级格式化工具HDD Low Level Format&amp;nbsp;Tool（windows磁盘管理器无法处理ext4格式磁盘）。&lt;/p&gt;
&lt;h2&gt;安装的是Destop版本,lite&lt;/h2&gt;
&lt;h2&gt;远程桌面工具,不是VNC&lt;/h2&gt;
&lt;p&gt;直接运行如下命令安装对应的远程桌面工具:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt install -y xrdp&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h2&gt;树莓派安装&lt;/h2&gt;
&lt;p&gt;安装完成后，TF卡被分成两个分区：&lt;br&gt;
1. &lt;span class="caps"&gt;67MB&lt;/span&gt; vfat格式的引导分区（系统启动后被挂载在/boot目录）
2. TF卡剩余空间&amp;nbsp;ext4格式的磁盘分区&lt;/p&gt;
&lt;p&gt;由于Windows下不识别ext4格式的磁盘，在资源管理器中查看TF卡只显示一个67MB大小、名字为boot的盘符。若想恢复TF卡整个空间为windows可识别的fat32/exfat格式，需要使用低级格式化工具HDD Low Level Format&amp;nbsp;Tool（windows磁盘管理器无法处理ext4格式磁盘）。&lt;/p&gt;
&lt;h2&gt;安装的是Destop版本,lite&lt;/h2&gt;
&lt;h2&gt;远程桌面工具,不是VNC&lt;/h2&gt;
&lt;p&gt;直接运行如下命令安装对应的远程桌面工具:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt install -y xrdp&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="树莓派"></category></entry><entry><title>[高级] pelican 博客高级配置</title><link href="https://pingbook.top/articles/pelican-advance/" rel="alternate"></link><published>2018-07-07T21:41:53+08:00</published><updated>2018-07-07T21:41:53+08:00</updated><author><name>Walter Hu</name></author><id>tag:pingbook.top,2018-07-07:/articles/pelican-advance/</id><summary type="html">&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;写在前面&lt;/h2&gt;
&lt;p&gt;继续上一篇的基本配置后,这里我将涉及到一些高级的使用,也是自己摸索的一些网上的经验,还有一些自己自定义的功能.&lt;/p&gt;
&lt;h3&gt;windows下的运行&lt;/h3&gt;
&lt;p&gt;看了一下官方的自动化部署相关的文章&lt;a href="http://docs.getpelican.com/en/stable/publish.html"&gt;fabric/Make&lt;/a&gt;, 提到在linux下
你可以很方便的使用make 命令来操作相关的自动化,它对应的是&lt;code&gt;makefile&lt;/code&gt;,你在使用&lt;code&gt;pelican-quickstart&lt;/code&gt;命令的时候会提示你生成了
这个文件.&lt;br&gt;
&lt;code&gt;fabfile&lt;/code&gt;在上面的命令生成后发现里面的文件报了好多错,&lt;code&gt;from fabric.api import *&lt;/code&gt;,类似&lt;code&gt;no module found env,local&lt;/code&gt;
解决方法很简单,执行下面的命令进行安装相关的依赖包就好了:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;pip install pycryptodome&lt;/span&gt;
&lt;span class="code-line"&gt;pip install Fabric3 # 注意这里是Fabric3,不要使用fabric&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;百度站长不能收录&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;很遗憾,还没有找到好的方法,网上说的一些方法,比如DNSPod设置,nginx代理(不符合要求),CDN代理(没有尝试过).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;加入浏览量统计&lt;/h2&gt;
&lt;p&gt;在谷歌上溜达了一圈,找到了一个博客: http://xiaohanyu.me/about/,随便看了一下作者的博客,看到了他去面试的谷歌和Facebook的面试经历,
感觉挺好玩的,里面提到了他们代码面试的工具: &lt;a href="https://coderpad.io"&gt;https://coderpad.io&lt;/a&gt;. 去玩了一下,感觉挺好玩.
后面发现这个是最好做浏览量统计的.&lt;br&gt;
* 工具&lt;a href="http://busuanzi.ibruce.info/"&gt;不蒜子&lt;/a&gt;,代码也是超简单:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="nt"&gt;&amp;lt;script&lt;/span&gt; &lt;span class="err"&gt;async&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_container_site_pv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;总访问量&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_value_site_pv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;次&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;,&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_container_site_uv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;总访客&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_value_site_uv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;人&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_container_page_pv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;, 浏览量:&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_value_page_pv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;写在前面&lt;/h2&gt;
&lt;p&gt;继续上一篇的基本配置后,这里我将涉及到一些高级的使用,也是自己摸索的一些网上的经验,还有一些自己自定义的功能.&lt;/p&gt;
&lt;h3&gt;windows下的运行&lt;/h3&gt;
&lt;p&gt;看了一下官方的自动化部署相关的文章&lt;a href="http://docs.getpelican.com/en/stable/publish.html"&gt;fabric/Make&lt;/a&gt;, 提到在linux下
你可以很方便的使用make 命令来操作相关的自动化,它对应的是&lt;code&gt;makefile&lt;/code&gt;,你在使用&lt;code&gt;pelican-quickstart&lt;/code&gt;命令的时候会提示你生成了
这个文件.&lt;br&gt;
&lt;code&gt;fabfile&lt;/code&gt;在上面的命令生成后发现里面的文件报了好多错,&lt;code&gt;from fabric.api import *&lt;/code&gt;,类似&lt;code&gt;no module found env,local&lt;/code&gt;
解决方法很简单,执行下面的命令进行安装相关的依赖包就好了:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;pip install pycryptodome&lt;/span&gt;
&lt;span class="code-line"&gt;pip install Fabric3 # 注意这里是Fabric3,不要使用fabric&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;百度站长不能收录&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;很遗憾,还没有找到好的方法,网上说的一些方法,比如DNSPod设置,nginx代理(不符合要求),CDN代理(没有尝试过).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;加入浏览量统计&lt;/h2&gt;
&lt;p&gt;在谷歌上溜达了一圈,找到了一个博客: http://xiaohanyu.me/about/,随便看了一下作者的博客,看到了他去面试的谷歌和Facebook的面试经历,
感觉挺好玩的,里面提到了他们代码面试的工具: &lt;a href="https://coderpad.io"&gt;https://coderpad.io&lt;/a&gt;. 去玩了一下,感觉挺好玩.
后面发现这个是最好做浏览量统计的.&lt;br&gt;
* 工具&lt;a href="http://busuanzi.ibruce.info/"&gt;不蒜子&lt;/a&gt;,代码也是超简单:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="nt"&gt;&amp;lt;script&lt;/span&gt; &lt;span class="err"&gt;async&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_container_site_pv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;总访问量&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_value_site_pv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;次&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;,&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_container_site_uv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;总访客&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_value_site_uv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;人&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_container_page_pv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;, 浏览量:&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;busuanzi_value_page_pv&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="pelican"></category></entry><entry><title>[初级] pelican 博客搭建</title><link href="https://pingbook.top/articles/try-pelican/" rel="alternate"></link><published>2018-07-06T23:47:20+08:00</published><updated>2018-07-06T23:47:20+08:00</updated><author><name>Walter Hu</name></author><id>tag:pingbook.top,2018-07-06:/articles/try-pelican/</id><summary type="html">&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我真是太折腾了,也没能坚持下去,去年陆陆续续用&lt;code&gt;hexo&lt;/code&gt;写了一段时间的博客,最终没能坚持下去!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;关键字&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;pelican &lt;br&gt; markdown &lt;br&gt;&amp;nbsp;github&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;搭建步骤&lt;/h2&gt;
&lt;p&gt;最好的方式莫过于官方文档: &lt;a href="http://docs.getpelican.com/en/stable/install.html"&gt;官方入坑道路&lt;/a&gt;.&amp;nbsp;下面的步骤都是很简单,网上一堆教程,我这里就不多说了,记下这些步骤.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;// 如果需要使用markdown这个高逼格的语法去写博客&lt;/span&gt;
&lt;span class="code-line"&gt;# pip install pelican markdown typogrify &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;# mkdir pingbook.top&lt;/span&gt;
&lt;span class="code-line"&gt;# cd pingbook.top&lt;/span&gt;
&lt;span class="code-line"&gt;# pelican-quickstart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;安装上面的步骤操作下来后,弹出如下的提示让你配置,这些配置都可以以后在&lt;code&gt;pelicanconf.py&lt;/code&gt;修改,直接默认回车一路下去就好了! &lt;br/&gt;&amp;nbsp;pelican-quickstart执行命令后，会提示输入博客的配置项，除了少数几个必填以外，其它都可以选择默认，而且都可以在pelicanconf.py文件中进行更改，所以你可以随意选择。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;1. Where do you want to create your new web site?[.]  (你想在哪里创建你的网站，默认为当前目录)&lt;/span&gt;
&lt;span class="code-line"&gt;2. What will be the title of this web site?(网站的标题是什么)&lt;/span&gt;
&lt;span class="code-line"&gt;3. Who will be the author of this web site?(网站的作者是谁)&lt;/span&gt;
&lt;span class="code-line"&gt;4. What will be the default language of this web site? [en]   (网站的默认语言是),这里我们写&amp;#39;zh&amp;#39;中文&lt;/span&gt;
&lt;span class="code-line"&gt;5. Do you want to specify a URL prefix? e.g., http://example.com(Y/n) (是否指定域名),Y&lt;/span&gt;
&lt;span class="code-line"&gt;6. What is your URL prefix?(see above example; no trailing slash)(输入域名，不能包含反斜杠&amp;#39;/&amp;#39;),http://moelove.info&lt;/span&gt;
&lt;span class="code-line"&gt;7. Do you want to enable article pagination?(是否启用文章分页)&lt;/span&gt;
&lt;span class="code-line"&gt;8. Do you want to generate a Makefile to easily manage …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我真是太折腾了,也没能坚持下去,去年陆陆续续用&lt;code&gt;hexo&lt;/code&gt;写了一段时间的博客,最终没能坚持下去!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;关键字&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;pelican &lt;br&gt; markdown &lt;br&gt;&amp;nbsp;github&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;搭建步骤&lt;/h2&gt;
&lt;p&gt;最好的方式莫过于官方文档: &lt;a href="http://docs.getpelican.com/en/stable/install.html"&gt;官方入坑道路&lt;/a&gt;.&amp;nbsp;下面的步骤都是很简单,网上一堆教程,我这里就不多说了,记下这些步骤.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;// 如果需要使用markdown这个高逼格的语法去写博客&lt;/span&gt;
&lt;span class="code-line"&gt;# pip install pelican markdown typogrify &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;# mkdir pingbook.top&lt;/span&gt;
&lt;span class="code-line"&gt;# cd pingbook.top&lt;/span&gt;
&lt;span class="code-line"&gt;# pelican-quickstart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;安装上面的步骤操作下来后,弹出如下的提示让你配置,这些配置都可以以后在&lt;code&gt;pelicanconf.py&lt;/code&gt;修改,直接默认回车一路下去就好了! &lt;br/&gt;&amp;nbsp;pelican-quickstart执行命令后，会提示输入博客的配置项，除了少数几个必填以外，其它都可以选择默认，而且都可以在pelicanconf.py文件中进行更改，所以你可以随意选择。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;1. Where do you want to create your new web site?[.]  (你想在哪里创建你的网站，默认为当前目录)&lt;/span&gt;
&lt;span class="code-line"&gt;2. What will be the title of this web site?(网站的标题是什么)&lt;/span&gt;
&lt;span class="code-line"&gt;3. Who will be the author of this web site?(网站的作者是谁)&lt;/span&gt;
&lt;span class="code-line"&gt;4. What will be the default language of this web site? [en]   (网站的默认语言是),这里我们写&amp;#39;zh&amp;#39;中文&lt;/span&gt;
&lt;span class="code-line"&gt;5. Do you want to specify a URL prefix? e.g., http://example.com(Y/n) (是否指定域名),Y&lt;/span&gt;
&lt;span class="code-line"&gt;6. What is your URL prefix?(see above example; no trailing slash)(输入域名，不能包含反斜杠&amp;#39;/&amp;#39;),http://moelove.info&lt;/span&gt;
&lt;span class="code-line"&gt;7. Do you want to enable article pagination?(是否启用文章分页)&lt;/span&gt;
&lt;span class="code-line"&gt;8. Do you want to generate a Makefile to easily manage your website?(是否生成一个Makefile来管理网站(这里我建议生成，因为会比较方便的))&lt;/span&gt;
&lt;span class="code-line"&gt;9. Do you want an auto-reload &amp;amp; simpleHTTP script to assist with theme and site development?(是否想有一个自动加载的小型http脚本用来修改主题和站点开发)&lt;/span&gt;
&lt;span class="code-line"&gt;10. Do you want to upload your website using FTP?&lt;/span&gt;
&lt;span class="code-line"&gt;11. Do you want to upload your website using SSH?&lt;/span&gt;
&lt;span class="code-line"&gt;12. Do you want to upload your website using Dropbox?&lt;/span&gt;
&lt;span class="code-line"&gt;13. Do you want to upload your website using S3?&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;命令使用&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;由于本人使用的是windows,这里我使用了两个命令:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;# pelican content # 根据content中的内容，生成静态网站到output目下&lt;/span&gt;
&lt;span class="code-line"&gt;# cd output &amp;amp;&amp;amp; python -m pelican.server&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;# cd output &amp;amp;&amp;amp; python -m SimpleHTTPServer&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;主题和插件安装&lt;/h2&gt;
&lt;h3&gt;theme安装&lt;/h3&gt;
&lt;p&gt;下载主题文件,添加配置: &lt;code&gt;THEME = './pelican-themes/gum'&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;插件安装&lt;/h3&gt;
&lt;p&gt;下载插件文件,添加如下配置: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;PLUGIN_PATHS = [u&amp;quot;pelican-plugins&amp;quot;]&lt;/span&gt;
&lt;span class="code-line"&gt;PLUGINS = [u&amp;quot;sitemap&amp;quot;,u&amp;quot;gzip_cache&amp;quot;,u&amp;quot;neighbors&amp;quot;,u&amp;quot;related_posts&amp;quot;]&lt;/span&gt;
&lt;span class="code-line"&gt;SITEMAP = {&lt;/span&gt;
&lt;span class="code-line"&gt;    &amp;#39;format&amp;#39;: &amp;#39;xml&amp;#39;,&lt;/span&gt;
&lt;span class="code-line"&gt;    &amp;#39;priorities&amp;#39;: {&lt;/span&gt;
&lt;span class="code-line"&gt;        &amp;#39;articles&amp;#39;: 0.7,&lt;/span&gt;
&lt;span class="code-line"&gt;        &amp;#39;indexes&amp;#39;: 0.5,&lt;/span&gt;
&lt;span class="code-line"&gt;        &amp;#39;pages&amp;#39;: 0.3&lt;/span&gt;
&lt;span class="code-line"&gt;    },&lt;/span&gt;
&lt;span class="code-line"&gt;    &amp;#39;changefreqs&amp;#39;: {&lt;/span&gt;
&lt;span class="code-line"&gt;        &amp;#39;articles&amp;#39;: &amp;#39;weekly&amp;#39;,&lt;/span&gt;
&lt;span class="code-line"&gt;        &amp;#39;indexes&amp;#39;: &amp;#39;daily&amp;#39;,&lt;/span&gt;
&lt;span class="code-line"&gt;        &amp;#39;pages&amp;#39;: &amp;#39;monthly&amp;#39;&lt;/span&gt;
&lt;span class="code-line"&gt;    }&lt;/span&gt;
&lt;span class="code-line"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;字体更改&lt;/h3&gt;
&lt;p&gt;在对应的主题的css文件中修改对应的google&amp;nbsp;font切换到国内的镜像.&lt;/p&gt;
&lt;h2&gt;高级语法&lt;/h2&gt;
&lt;h3&gt;静态图片&lt;/h3&gt;
&lt;p&gt;新建一个目录在&lt;code&gt;content&lt;/code&gt;下面,例如&lt;code&gt;images&lt;/code&gt;,然后在&lt;code&gt;pelicanconf.py&lt;/code&gt;设置如下:
&lt;code&gt;STATIC_PATHS = ['images','downloads']&lt;/code&gt;
,在对应的md中可以这样写语法:&lt;/p&gt;
&lt;p&gt;&lt;img alt="测试图片显示" src="https://pingbook.top/articles/try-pelican/test.png"&gt;&lt;/p&gt;
&lt;h2&gt;部署&lt;/h2&gt;
&lt;h3&gt;部署到github上&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;新建一个仓库,仓库名称和你的昵称相同或者创建一个组织&lt;/li&gt;
&lt;li&gt;使用如下命令上传&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cd output&lt;/span&gt;
&lt;span class="code-line"&gt;git init&lt;/span&gt;
&lt;span class="code-line"&gt;git add .&lt;/span&gt;
&lt;span class="code-line"&gt;git remote add origin 仓库git地址&lt;/span&gt;
&lt;span class="code-line"&gt;git push -u origin master&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="pelican"></category></entry></feed>