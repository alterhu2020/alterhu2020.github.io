<!DOCTYPE html>
<html lang="zh_cn">
<head>

        <title>千行代码入门Python(转载)</title>
        <meta charset="utf-8"/>
        <meta name="description" content="

作者：笑虎 链接：https:// zhuanlan.zhihu.com/p/22909144 代码如下 …">
        <meta name="keywords"
              content="Linux,pelican,Python自动化,Python笔记,Python,Python技巧,Python web,Python人工智能,Python后台,Python算法,github,软件测试,测试框架,测试开发,白盒测试,Selenium,Selenium开发,Vuejs,树莓派,自动化测试,编程语言,大数据,人工智能,开源软件,创业,程序员找工作,移动互联网,生活时尚,情感交流,软件测试,技术博客">
        <meta name="author" content="PingBook">       
        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

            <link href="https://pingbook.top/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="PingBook Blog Full Atom Feed"/>


        <link rel="stylesheet" type="text/css" href="../../theme/gumby.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/style.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/pygment.css"/>


        <script src="../../theme/js/libs/modernizr-2.6.2.min.js"></script>

            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({
                    google_ad_client: "ca-pub-1893384651266286",
                    enable_page_level_ads: true
                });
            </script>

            <!-- Global site tag (gtag.js) - Google Analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122219517-1"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'UA-122219517-1');
            </script>

        <script>
            (function(){
                var bp = document.createElement('script');
                var curProtocol = window.location.protocol.split(':')[0];
                if (curProtocol === 'https'){
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else{
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
            })();
        </script>

        <!---->

</head>

<body id="index" class="home">


<div class="container">
    <div class="row">

        <header id="banner" class="body">

            <h1><a href="../..">PingBook Blog <strong></strong></a></h1>
        </header><!-- /#banner -->

        <div id="navigation" class="navbar row">
            <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
            <ul class="columns" style="width: 100%">

                    <li ><a href="/">Home</a></li>
                    <li ><a href="/categories">Category</a></li>
                    <li ><a href="/archives">Archive</a></li>
                    <li ><a href="/tags">Tags</a></li>
                    <li ><a href="/about">About</a></li>
                    <li ><a href="/change-log">Changes</a></li>
            <li >
                <div style="display: block;
    padding: 0 16px;
    white-space: nowrap;
    color: white;
    text-shadow: 0 1px 2px #191a1b, 0 1px 0 #191a1b;
    height: 60px;
    line-height: 58px;
    font-size: 16px;
    font-size: 1rem;">
                <form class="navbar-search" action="../../search.html"
                      onsubmit="return validateForm(this.elements['q'].value);">
                    <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input">
                </form>
                </div>
            </li>

            </ul>


        </div>

            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins style="display:block"
                 data-ad-format="fluid"
                 data-ad-layout-key="-6q+ed+2h-1m-4v"
                 data-ad-client="ca-pub-1893384651266286"
                 data-ad-slot="9234880829"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
    <section id="content" class="body">

        <div class="row">

            <div class="eleven columns">
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle"
                         style="display:block; text-align:center;"
                         data-ad-layout="in-article"
                         data-ad-format="fluid"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="3627740042"
                    ></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                <header>
                    <h2 class="entry-title">
                        <a href="../../articles/1000-line-learn-python/" rel="bookmark"
                           title="Permalink to 千行代码入门Python(转载)">千行代码入门Python(转载)</a></h2>
                    
                </header>
                <footer class="post-info">
                    <!--<abbr class="published" title="2018-09-10T20:21:38.920873+08:00">-->
                    <!--2018-09-10 20:21:38-->
                    <!--</abbr>-->
                    <!---->
                        <!--<address class="vcard author">By -->
                        <!---->
                            <!--<a class="url fn" href="../../author/walter-hu"> Walter Hu</a>-->
                            <!---->
                        <!--</address>-->
                        <!---->
                    <address class="vcard author" style="font-style:italic;margin-bottom:-10px;">
                        Posted on 2018-09-10 20:21:38
                            &nbsp;&nbsp;By
                            <a class="url fn" href="../../author/walter-hu">Walter Hu</a>

                        <span id="busuanzi_container_page_pv">, <i class="icon-eye icon-large"></i><span
                                id="busuanzi_value_page_pv"></span></span>
                    </address>
                    <hr/>
                </footer><!-- /.post-info -->
                <div class="entry-content">
                    <blockquote>
<p>作者：笑虎<br>
   链接：https://&nbsp;zhuanlan.zhihu.com/p/22909144</p>
</blockquote>
<p>代码如下: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="c1"># _*_ coding: utf-8 _*_</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;类型和运算----类型和运算----类型和运算----类型和运算----类型和运算----类型和运算----类型和运算----类型和运算----类型和运算----类型和运算----类型和运算&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 寻求帮助:</span></span>
<span class="code-line">    <span class="nf">dir</span><span class="p">(</span><span class="s s-Atom">obj</span><span class="p">)</span>            <span class="s s-Atom">#</span> <span class="s s-Atom">简单的列出对象obj所包含的方法名称，返回一个字符串列表</span></span>
<span class="code-line">    <span class="nf">help</span><span class="p">(</span><span class="s s-Atom">obj</span><span class="p">.</span><span class="s s-Atom">func</span><span class="p">)</span>      <span class="s s-Atom">#</span> <span class="s s-Atom">查询obj</span><span class="p">.</span><span class="s s-Atom">func的具体介绍和用法</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 测试类型的三种方法，推荐第三种</span></span>
<span class="code-line">    <span class="s s-Atom">if</span> <span class="nf">type</span><span class="p">(</span><span class="nv">L</span><span class="p">)</span> <span class="o">==</span> <span class="nf">type</span><span class="p">([])</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="nf">print</span><span class="p">(</span><span class="s2">&quot;L is list&quot;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">if</span> <span class="nf">type</span><span class="p">(</span><span class="nv">L</span><span class="p">)</span> <span class="o">==</span> <span class="nn">list</span><span class="p">:</span></span>
<span class="code-line">        <span class="nf">print</span><span class="p">(</span><span class="s2">&quot;L is list&quot;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="nv">L</span><span class="p">,</span> <span class="s s-Atom">list</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="nf">print</span><span class="p">(</span><span class="s2">&quot;L is list&quot;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Python数据类型：哈希类型、不可哈希类型</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">哈希类型，即在原地不能改变的变量类型，不可变类型。可利用hash函数查看其hash值，也可以作为字典的key</span></span>
<span class="code-line">    <span class="s2">&quot;数字类型：int, float, decimal.Decimal, fractions.Fraction, complex&quot;</span></span>
<span class="code-line">    <span class="s2">&quot;字符串类型：str, bytes&quot;</span></span>
<span class="code-line">    <span class="s2">&quot;元组：tuple&quot;</span></span>
<span class="code-line">    <span class="s2">&quot;冻结集合：frozenset&quot;</span></span>
<span class="code-line">    <span class="s2">&quot;布尔类型：True, False&quot;</span></span>
<span class="code-line">    <span class="s2">&quot;None&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">不可hash类型：原地可变类型：list、dict和set。它们不可以作为字典的key。</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 数字常量</span></span>
<span class="code-line">    <span class="mi">1234</span><span class="p">,</span> <span class="o">-</span><span class="mi">1234</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">999999999</span>                    <span class="s s-Atom">#</span> <span class="s s-Atom">整数</span></span>
<span class="code-line">    <span class="mf">1.23</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">3.14e-10</span><span class="p">,</span> <span class="mi">4</span><span class="nv">E210</span><span class="p">,</span> <span class="mf">4.0e+210</span>          <span class="s s-Atom">#</span> <span class="s s-Atom">浮点数</span></span>
<span class="code-line">    <span class="mo">0o177</span><span class="p">,</span> <span class="mh">0x9ff</span><span class="p">,</span> <span class="mi">0</span><span class="nv">X9FF</span><span class="p">,</span> <span class="mb">0b101010</span>                <span class="s s-Atom">#</span> <span class="s s-Atom">八进制、十六进制、二进制数字</span></span>
<span class="code-line">    <span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="s s-Atom">j</span><span class="p">,</span> <span class="mf">3.0</span><span class="o">+</span><span class="mf">4.0</span><span class="s s-Atom">j</span><span class="p">,</span> <span class="mi">3</span><span class="nv">J</span>                           <span class="s s-Atom">#</span> <span class="nf">复数常量，也可以用complex</span><span class="p">(</span><span class="s s-Atom">real</span><span class="p">,</span> <span class="s s-Atom">image</span><span class="p">)</span><span class="s s-Atom">来创建</span></span>
<span class="code-line">    <span class="nf">hex</span><span class="p">(</span><span class="nv">I</span><span class="p">),</span> <span class="nf">oct</span><span class="p">(</span><span class="nv">I</span><span class="p">),</span> <span class="nf">bin</span><span class="p">(</span><span class="nv">I</span><span class="p">)</span>                       <span class="s s-Atom">#</span> <span class="s s-Atom">将十进制数转化为十六进制、八进制、二进制表示的“字符串”</span></span>
<span class="code-line">    <span class="nf">int</span><span class="p">(</span><span class="s s-Atom">string</span><span class="p">,</span> <span class="s s-Atom">base</span><span class="p">)</span>                            <span class="s s-Atom">#</span> <span class="s s-Atom">将字符串转化为整数，base为进制数</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="mf">2.</span><span class="s s-Atom">x中，有两种整数类型：一般整数（32位）和长整数（无穷精度）。可以用l或L结尾，迫使一般整数成为长整数</span></span>
<span class="code-line">    <span class="nf">float</span><span class="p">(</span><span class="s s-Atom">&#39;inf&#39;</span><span class="p">),</span> <span class="nf">float</span><span class="p">(</span><span class="s s-Atom">&#39;-inf&#39;</span><span class="p">),</span> <span class="nf">float</span><span class="p">(</span><span class="s s-Atom">&#39;nan&#39;</span><span class="p">)</span>    <span class="s s-Atom">#</span> <span class="s s-Atom">无穷大</span><span class="p">,</span> <span class="s s-Atom">无穷小</span><span class="p">,</span> <span class="s s-Atom">非数</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 数字的表达式操作符</span></span>
<span class="code-line">    <span class="s s-Atom">yield</span> <span class="s s-Atom">x</span>                                      <span class="s s-Atom">#</span> <span class="s s-Atom">生成器函数发送协议</span></span>
<span class="code-line">    <span class="s s-Atom">lambda</span> <span class="nn">args</span><span class="p">:</span> <span class="s s-Atom">expression</span>                      <span class="s s-Atom">#</span> <span class="s s-Atom">生成匿名函数</span></span>
<span class="code-line">    <span class="s s-Atom">x</span> <span class="s s-Atom">if</span> <span class="s s-Atom">y</span> <span class="s s-Atom">else</span> <span class="s s-Atom">z</span>                                <span class="s s-Atom">#</span> <span class="s s-Atom">三元选择表达式</span></span>
<span class="code-line">    <span class="s s-Atom">x</span> <span class="s s-Atom">and</span> <span class="s s-Atom">y</span><span class="p">,</span> <span class="s s-Atom">x</span> <span class="s s-Atom">or</span> <span class="s s-Atom">y</span><span class="p">,</span> <span class="o">not</span> <span class="s s-Atom">x</span>                       <span class="s s-Atom">#</span> <span class="s s-Atom">逻辑与、逻辑或、逻辑非</span></span>
<span class="code-line">    <span class="s s-Atom">x</span> <span class="s s-Atom">in</span> <span class="s s-Atom">y</span><span class="p">,</span> <span class="s s-Atom">x</span> <span class="o">not</span> <span class="s s-Atom">in</span> <span class="s s-Atom">y</span>                           <span class="s s-Atom">#</span> <span class="s s-Atom">成员对象测试</span></span>
<span class="code-line">    <span class="s s-Atom">x</span> <span class="o">is</span> <span class="s s-Atom">y</span><span class="p">,</span> <span class="s s-Atom">x</span> <span class="o">is</span> <span class="o">not</span> <span class="s s-Atom">y</span>                           <span class="s s-Atom">#</span> <span class="s s-Atom">对象实体测试</span></span>
<span class="code-line">    <span class="s s-Atom">x</span><span class="o">&lt;</span><span class="s s-Atom">y</span><span class="p">,</span> <span class="s s-Atom">x&lt;=y</span><span class="p">,</span> <span class="s s-Atom">x</span><span class="o">&gt;</span><span class="s s-Atom">y</span><span class="p">,</span> <span class="s s-Atom">x</span><span class="o">&gt;=</span><span class="s s-Atom">y</span><span class="p">,</span> <span class="s s-Atom">x</span><span class="o">==</span><span class="s s-Atom">y</span><span class="p">,</span> <span class="s s-Atom">x</span><span class="p">!</span><span class="o">=</span><span class="s s-Atom">y</span>             <span class="s s-Atom">#</span> <span class="s s-Atom">大小比较，集合子集或超集值相等性操作符</span></span>
<span class="code-line">    <span class="mi">1</span> <span class="o">&lt;</span> <span class="s s-Atom">a</span> <span class="o">&lt;</span> <span class="mi">3</span>                                    <span class="s s-Atom">#</span> <span class="nv">Python中允许连续比较</span></span>
<span class="code-line">    <span class="s s-Atom">x</span><span class="p">|</span><span class="s s-Atom">y</span><span class="p">,</span> <span class="s s-Atom">x&amp;y</span><span class="p">,</span> <span class="s s-Atom">x^y</span>                                <span class="s s-Atom">#</span> <span class="s s-Atom">位或、位与、位异或</span></span>
<span class="code-line">    <span class="s s-Atom">x&lt;&lt;y</span><span class="p">,</span> <span class="s s-Atom">x&gt;&gt;y</span>                                   <span class="s s-Atom">#</span> <span class="s s-Atom">位操作：x左移、右移y位</span></span>
<span class="code-line">    <span class="s s-Atom">+</span><span class="p">,</span> <span class="s s-Atom">-</span><span class="p">,</span> <span class="s s-Atom">*</span><span class="p">,</span> <span class="s s-Atom">/</span><span class="p">,</span> <span class="s s-Atom">//</span><span class="p">,</span> <span class="c1">%, **                        # 真除法、floor除法：返回不大于真除法结果的整数值、取余、幂运算</span></span>
<span class="code-line">    <span class="o">-</span><span class="s s-Atom">x</span><span class="p">,</span> <span class="o">+</span><span class="s s-Atom">x</span><span class="p">,</span> <span class="s s-Atom">~x</span>                                   <span class="s s-Atom">#</span> <span class="s s-Atom">一元减法、识别、按位求补（取反）</span></span>
<span class="code-line">    <span class="s s-Atom">x</span><span class="p">[</span><span class="s s-Atom">i</span><span class="p">],</span> <span class="s s-Atom">x</span><span class="p">[</span><span class="nn">i</span><span class="p">:</span><span class="nn">j</span><span class="p">:</span><span class="s s-Atom">k</span><span class="p">]</span>                               <span class="s s-Atom">#</span> <span class="s s-Atom">索引、分片、调用</span></span>
<span class="code-line">    <span class="nf">int</span><span class="p">(</span><span class="mf">3.14</span><span class="p">),</span> <span class="nf">float</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>                          <span class="s s-Atom">#</span> <span class="s s-Atom">强制类型转换</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 整数可以利用bit_length函数测试所占的位数</span></span>
<span class="code-line">    <span class="s s-Atom">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>       <span class="s s-Atom">a</span><span class="p">.</span><span class="nf">bit_length</span><span class="p">()</span>    <span class="s s-Atom">#</span> <span class="mi">1</span></span>
<span class="code-line">    <span class="s s-Atom">a</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">;</span>    <span class="s s-Atom">a</span><span class="p">.</span><span class="nf">bit_length</span><span class="p">()</span>    <span class="s s-Atom">#</span> <span class="mi">11</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- repr和str显示格式的区别</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    repr格式：默认的交互模式回显，产生的结果看起来它们就像是代码。</span></span>
<span class="code-line"><span class="s2">    str格式：打印语句，转化成一种对用户更加友好的格式。</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 数字相关的模块</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">math模块</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="nv">Decimal模块</span><span class="s s-Atom">：小数模块</span></span>
<span class="code-line">        <span class="s s-Atom">import</span> <span class="s s-Atom">decimal</span></span>
<span class="code-line">        <span class="s s-Atom">from</span> <span class="s s-Atom">decimal</span> <span class="s s-Atom">import</span> <span class="nv">Decimal</span></span>
<span class="code-line">        <span class="nv">Decimal</span><span class="p">(</span><span class="s2">&quot;0.01&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="nv">Decimal</span><span class="p">(</span><span class="s2">&quot;0.02&quot;</span><span class="p">)</span>        <span class="s s-Atom">#</span> <span class="nf">返回Decimal</span><span class="p">(</span><span class="s2">&quot;0.03&quot;</span><span class="p">)</span></span>
<span class="code-line">        <span class="s s-Atom">decimal</span><span class="p">.</span><span class="nf">getcontext</span><span class="p">().</span><span class="s s-Atom">prec</span> <span class="o">=</span> <span class="mi">4</span>            <span class="s s-Atom">#</span> <span class="s s-Atom">设置全局精度为4</span> <span class="s s-Atom">即小数点后边4位</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="nv">Fraction模块</span><span class="s s-Atom">：分数模块</span></span>
<span class="code-line">        <span class="s s-Atom">from</span> <span class="s s-Atom">fractions</span> <span class="s s-Atom">import</span> <span class="nv">Fraction</span></span>
<span class="code-line">        <span class="s s-Atom">x</span> <span class="o">=</span> <span class="nv">Fraction</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>                       <span class="s s-Atom">#</span> <span class="s s-Atom">分数类型</span> <span class="mi">4</span><span class="o">/</span><span class="mi">6</span></span>
<span class="code-line">        <span class="s s-Atom">x</span> <span class="o">=</span> <span class="nv">Fraction</span><span class="p">(</span><span class="s2">&quot;0.25&quot;</span><span class="p">)</span>                     <span class="s s-Atom">#</span> <span class="s s-Atom">分数类型</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span> <span class="s s-Atom">接收字符串类型的参数</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 集合set</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    set是一个无序不重复元素集, 基本功能包括关系测试和消除重复元素。</span></span>
<span class="code-line"><span class="s2">    set支持union(联合), intersection(交), difference(差)和symmetric difference(对称差集)等数学运算。</span></span>
<span class="code-line"><span class="s2">    set支持x in set, len(set), for x in set。</span></span>
<span class="code-line"><span class="s2">    set不记录元素位置或者插入点, 因此不支持indexing, slicing, 或其它类序列的操作</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">s</span> <span class="o">=</span> <span class="nf">set</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>                          <span class="s s-Atom">#</span> <span class="s s-Atom">创建一个数值集合，返回</span><span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">}</span></span>
<span class="code-line">    <span class="s s-Atom">t</span> <span class="o">=</span> <span class="nf">set</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>                             <span class="s s-Atom">#</span> <span class="s s-Atom">创建一个唯一字符的集合返回</span><span class="p">{}</span></span>
<span class="code-line">    <span class="s s-Atom">a</span> <span class="o">=</span> <span class="s s-Atom">t</span> <span class="p">|</span> <span class="s s-Atom">s</span><span class="p">;</span>    <span class="s s-Atom">t</span><span class="p">.</span><span class="nf">union</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span>                     <span class="s s-Atom">#</span> <span class="s s-Atom">t</span> <span class="s s-Atom">和</span> <span class="s s-Atom">s的并集</span></span>
<span class="code-line">    <span class="s s-Atom">b</span> <span class="o">=</span> <span class="s s-Atom">t</span> <span class="s s-Atom">&amp;</span> <span class="s s-Atom">s</span><span class="p">;</span>    <span class="s s-Atom">t</span><span class="p">.</span><span class="nf">intersection</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span>              <span class="s s-Atom">#</span> <span class="s s-Atom">t</span> <span class="s s-Atom">和</span> <span class="s s-Atom">s的交集</span></span>
<span class="code-line">    <span class="s s-Atom">c</span> <span class="o">=</span> <span class="s s-Atom">t</span> <span class="s s-Atom">–</span> <span class="s s-Atom">s</span><span class="p">;</span>    <span class="s s-Atom">t</span><span class="p">.</span><span class="nf">difference</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span>                <span class="s s-Atom">#</span> <span class="s s-Atom">求差集（项在t中</span><span class="p">,</span> <span class="s s-Atom">但不在s中）</span></span>
<span class="code-line">    <span class="s s-Atom">d</span> <span class="o">=</span> <span class="s s-Atom">t</span> <span class="s s-Atom">^</span> <span class="s s-Atom">s</span><span class="p">;</span>    <span class="s s-Atom">t</span><span class="p">.</span><span class="nf">symmetric_difference</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span>      <span class="s s-Atom">#</span> <span class="s s-Atom">对称差集（项在t或s中</span><span class="p">,</span> <span class="s s-Atom">但不会同时出现在二者中）</span></span>
<span class="code-line">    <span class="s s-Atom">t</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="s s-Atom">&#39;x&#39;</span><span class="p">);</span>   <span class="s s-Atom">t</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="s s-Atom">&#39;H&#39;</span><span class="p">)</span>                  <span class="s s-Atom">#</span> <span class="s s-Atom">增加/删除一个item</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">update</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">42</span><span class="p">])</span>                         <span class="s s-Atom">#</span> <span class="s s-Atom">利用</span><span class="p">[......]</span><span class="s s-Atom">更新s集合</span></span>
<span class="code-line">    <span class="s s-Atom">x</span> <span class="s s-Atom">in</span> <span class="s s-Atom">s</span><span class="p">,</span>  <span class="s s-Atom">x</span> <span class="o">not</span> <span class="s s-Atom">in</span> <span class="s s-Atom">s</span>                          <span class="s s-Atom">#</span> <span class="s s-Atom">集合中是否存在某个值</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">issubset</span><span class="p">(</span><span class="s s-Atom">t</span><span class="p">);</span>      <span class="s s-Atom">s</span> <span class="s s-Atom">&lt;=</span> <span class="s s-Atom">t</span>                   <span class="s s-Atom">#</span> <span class="s s-Atom">测试是否</span> <span class="s s-Atom">s</span> <span class="s s-Atom">中的每一个元素都在</span> <span class="s s-Atom">t</span> <span class="s s-Atom">中</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">issuperset</span><span class="p">(</span><span class="s s-Atom">t</span><span class="p">);</span>    <span class="s s-Atom">s</span> <span class="o">&gt;=</span> <span class="s s-Atom">t</span>                   <span class="s s-Atom">#</span> <span class="s s-Atom">测试是否</span> <span class="s s-Atom">t</span> <span class="s s-Atom">中的每一个元素都在</span> <span class="s s-Atom">s</span> <span class="s s-Atom">中</span> </span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">copy</span><span class="p">();</span>                                    <span class="s s-Atom">#</span><span class="nf">该功能与set</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">discard</span><span class="p">(</span><span class="s s-Atom">x</span><span class="p">);</span>                                <span class="s s-Atom">#</span> <span class="s s-Atom">删除s中x</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>                                    <span class="s s-Atom">#</span> <span class="s s-Atom">清空s</span></span>
<span class="code-line">    <span class="p">{</span><span class="s s-Atom">x**</span><span class="mi">2</span> <span class="s s-Atom">for</span> <span class="s s-Atom">x</span> <span class="s s-Atom">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]}</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">集合解析，结果：</span><span class="p">{</span><span class="mi">16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span></span>
<span class="code-line">    <span class="p">{</span><span class="s s-Atom">x</span> <span class="s s-Atom">for</span> <span class="s s-Atom">x</span> <span class="s s-Atom">in</span> <span class="s s-Atom">&#39;spam&#39;</span><span class="p">}</span>                          <span class="s s-Atom">#</span> <span class="s s-Atom">集合解析，结果：</span><span class="p">{</span><span class="s s-Atom">&#39;a&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;p&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;s&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;m&#39;</span><span class="p">}</span></span>
<span class="code-line">    <span class="nv">S</span> <span class="o">=</span> <span class="nf">frozenset</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>                   <span class="s s-Atom">#</span><span class="nf">一个冻结</span><span class="p">(</span><span class="s s-Atom">不可变</span><span class="p">)</span><span class="s s-Atom">的含有</span><span class="o">-</span><span class="mi">5</span><span class="s s-Atom">到4的个整型数的集合</span></span>
<span class="code-line"><span class="c1">#-- 集合frozenset，不可变对象</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    set是可变对象，即不存在hash值，不能作为字典的键值。同样的还有list等(tuple是可以作为字典key的)</span></span>
<span class="code-line"><span class="s2">    frozenset是不可变对象，即存在hash值，可作为字典的键值</span></span>
<span class="code-line"><span class="s2">    frozenset对象没有add、remove等方法，但有union/intersection/difference等方法</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">a</span> <span class="o">=</span> <span class="nf">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span></span>
<span class="code-line">    <span class="s s-Atom">b</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span></span>
<span class="code-line">    <span class="s s-Atom">b</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">)</span>                     <span class="s s-Atom">#</span> <span class="nn">error</span><span class="p">:</span> <span class="s s-Atom">set是不可哈希类型</span></span>
<span class="code-line">    <span class="s s-Atom">b</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nf">frozenset</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">))</span>          <span class="s s-Atom">#</span> <span class="s s-Atom">ok，将set变为frozenset，可哈希</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 布尔类型bool</span></span>
<span class="code-line">    <span class="nf">type</span><span class="p">(</span><span class="nv">True</span><span class="p">)</span>                   <span class="s s-Atom">#</span> <span class="s s-Atom">返回</span><span class="o">&lt;</span><span class="s s-Atom">class</span> <span class="s s-Atom">&#39;bool&#39;</span><span class="o">&gt;</span></span>
<span class="code-line">    <span class="nf">isinstance</span><span class="p">(</span><span class="nv">False</span><span class="p">,</span> <span class="s s-Atom">int</span><span class="p">)</span>       <span class="s s-Atom">#</span> <span class="s s-Atom">bool类型属于整型，所以返回True</span></span>
<span class="code-line">    <span class="nv">True</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">True</span> <span class="o">is</span> <span class="mi">1</span>         <span class="s s-Atom">#</span> <span class="nf">输出</span><span class="p">(</span><span class="nv">True</span><span class="p">,</span> <span class="nv">False</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 动态类型简介</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    变量名通过引用，指向对象。</span></span>
<span class="code-line"><span class="s2">    Python中的“类型”属于对象，而不是变量，每个对象都包含有头部信息，比如&quot;</span><span class="s s-Atom">类型标示符</span><span class="s2">&quot; &quot;</span><span class="s s-Atom">引用计数器</span><span class="s2">&quot;等</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">#共享引用及在原处修改：对于可变对象，要注意尽量不要共享引用！</span></span>
<span class="code-line">    <span class="s s-Atom">#共享引用和相等测试：</span></span>
<span class="code-line">        <span class="nv">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nv">M</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nv">L</span> <span class="o">is</span> <span class="nv">M</span>            <span class="s s-Atom">#</span> <span class="s s-Atom">返回False</span></span>
<span class="code-line">        <span class="nv">L</span> <span class="o">=</span> <span class="nv">M</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="nv">L</span> <span class="o">is</span> <span class="nv">M</span>           <span class="s s-Atom">#</span> <span class="s s-Atom">返回True，共享引用</span></span>
<span class="code-line">    <span class="s s-Atom">#增强赋值和共享引用：普通+号会生成新的对象，而增强赋值+=会在原处修改</span></span>
<span class="code-line">        <span class="nv">L</span> <span class="o">=</span> <span class="nv">M</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span></span>
<span class="code-line">        <span class="nv">L</span> <span class="o">=</span> <span class="nv">L</span> <span class="o">+</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>                      <span class="s s-Atom">#</span> <span class="nv">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="nv">M</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span></span>
<span class="code-line">        <span class="nv">L</span> <span class="s s-Atom">+=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>                         <span class="s s-Atom">#</span> <span class="nv">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="nv">M</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 常见字符串常量和表达式</span></span>
<span class="code-line">    <span class="nv">S</span> <span class="o">=</span> <span class="s s-Atom">&#39;&#39;</span>                                  <span class="s s-Atom">#</span> <span class="s s-Atom">空字符串</span></span>
<span class="code-line">    <span class="nv">S</span> <span class="o">=</span> <span class="s2">&quot;spam’s&quot;</span>                            <span class="s s-Atom">#</span> <span class="s s-Atom">双引号和单引号相同</span></span>
<span class="code-line">    <span class="nv">S</span> <span class="o">=</span> <span class="err">&quot;</span><span class="s s-Atom">s\np\ta\x00m</span><span class="s2">&quot;                      # 转义字符</span></span>
<span class="code-line"><span class="s2">    S = &quot;&quot;&quot;</span><span class="s s-Atom">spam</span><span class="s2">&quot;&quot;&quot;                          # 三重引号字符串，一般用于函数说明</span></span>
<span class="code-line"><span class="s2">    S = r&#39;\temp&#39;                            # Raw字符串，不会进行转义，抑制转义</span></span>
<span class="code-line"><span class="s2">    S = b&#39;Spam&#39;                             # Python3中的字节字符串</span></span>
<span class="code-line"><span class="s2">    S = u&#39;spam&#39;                             # Python2.6中的Unicode字符串</span></span>
<span class="code-line"><span class="s2">    s1+s2, s1*3, s[i], s[i:j], len(s)       # 字符串操作</span></span>
<span class="code-line"><span class="s2">    &#39;a %s parrot&#39; % &#39;kind&#39;                  # 字符串格式化表达式</span></span>
<span class="code-line"><span class="s2">    &#39;a {1} {0} parrot&#39;.format(&#39;kind&#39;, &#39;red&#39;)# 字符串格式化方法</span></span>
<span class="code-line"><span class="s2">    for x in s: print(x)                    # 字符串迭代，成员关系</span></span>
<span class="code-line"><span class="s2">    [x*2 for x in s]                        # 字符串列表解析</span></span>
<span class="code-line"><span class="s2">    &#39;,&#39;.join([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])               # 字符串输出，结果：a,b,c</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 内置str处理函数：</span></span>
<span class="code-line"><span class="s2">    str1 = &quot;</span><span class="s s-Atom">stringobject</span><span class="s2">&quot;</span></span>
<span class="code-line"><span class="s2">    str1.upper(); str1.lower(); str1.swapcase(); str1.capitalize(); str1.title()        # 全部大写，全部小写、大小写转换，首字母大写，每个单词的首字母都大写</span></span>
<span class="code-line"><span class="s2">    str1.ljust(width)                       # 获取固定长度，左对齐，右边不够用空格补齐</span></span>
<span class="code-line"><span class="s2">    str1.rjust(width)                       # 获取固定长度，右对齐，左边不够用空格补齐</span></span>
<span class="code-line"><span class="s2">    str1.center(width)                      # 获取固定长度，中间对齐，两边不够用空格补齐</span></span>
<span class="code-line"><span class="s2">    str1.zfill(width)                       # 获取固定长度，右对齐，左边不足用0补齐</span></span>
<span class="code-line"><span class="s2">    str1.find(&#39;t&#39;,start,end)                # 查找字符串，可以指定起始及结束位置搜索</span></span>
<span class="code-line"><span class="s2">    str1.rfind(&#39;t&#39;)                         # 从右边开始查找字符串</span></span>
<span class="code-line"><span class="s2">    str1.count(&#39;t&#39;)                         # 查找字符串出现的次数</span></span>
<span class="code-line"><span class="s2">    #上面所有方法都可用index代替，不同的是使用index查找不到会抛异常，而find返回-1</span></span>
<span class="code-line"><span class="s2">    str1.replace(&#39;old&#39;,&#39;new&#39;)               # 替换函数，替换old为new，参数中可以指定maxReplaceTimes，即替换指定次数的old为new</span></span>
<span class="code-line"><span class="s2">    str1.strip();                           # 默认删除空白符</span></span>
<span class="code-line"><span class="s2">    str1.strip(&#39;d&#39;);                        # 删除str1字符串中开头、结尾处，位于 d 删除序列的字符</span></span>
<span class="code-line"><span class="s2">    str1.lstrip();</span></span>
<span class="code-line"><span class="s2">    str1.lstrip(&#39;d&#39;);                       # 删除str1字符串中开头处，位于 d 删除序列的字符</span></span>
<span class="code-line"><span class="s2">    str1.rstrip();</span></span>
<span class="code-line"><span class="s2">    str1.rstrip(&#39;d&#39;)                        # 删除str1字符串中结尾处，位于 d 删除序列的字符</span></span>
<span class="code-line"><span class="s2">    str1.startswith(&#39;start&#39;)                # 是否以start开头</span></span>
<span class="code-line"><span class="s2">    str1.endswith(&#39;end&#39;)                    # 是否以end结尾</span></span>
<span class="code-line"><span class="s2">    str1.isalnum(); str1.isalpha(); str1.isdigit(); str1.islower(); str1.isupper()      # 判断字符串是否全为字符、数字、小写、大写</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 三重引号编写多行字符串块，并且在代码折行处嵌入换行字符\n</span></span>
<span class="code-line"><span class="s2">    mantra = &quot;&quot;&quot;</span><span class="s s-Atom">hello</span> <span class="s s-Atom">world</span></span>
<span class="code-line">            <span class="s s-Atom">hello</span> <span class="s s-Atom">python</span></span>
<span class="code-line">            <span class="s s-Atom">hello</span> <span class="s s-Atom">my</span> <span class="s s-Atom">friend</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    # mantra为&quot;&quot;&quot;</span><span class="s s-Atom">hello</span> <span class="s s-Atom">world</span> <span class="s s-Atom">\n</span> <span class="s s-Atom">hello</span> <span class="s s-Atom">python</span> <span class="s s-Atom">\n</span> <span class="s s-Atom">hello</span> <span class="s s-Atom">my</span> <span class="s s-Atom">friend</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 索引和分片：</span></span>
<span class="code-line"><span class="s2">    S[0], S[len(S)–1], S[-1]                # 索引</span></span>
<span class="code-line"><span class="s2">    S[1:3], S[1:], S[:-1], S[1:10:2]        # 分片，第三个参数指定步长，如`S[1:10:2]`是从1位到10位没隔2位获取一个字符。</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 字符串转换工具：</span></span>
<span class="code-line"><span class="s2">    int(&#39;42&#39;), str(42)                      # 返回(42, &#39;42&#39;)</span></span>
<span class="code-line"><span class="s2">    float(&#39;4.13&#39;), str(4.13)                # 返回(4.13, &#39;4.13&#39;)</span></span>
<span class="code-line"><span class="s2">    ord(&#39;s&#39;), chr(115)                      # 返回(115, &#39;s&#39;)</span></span>
<span class="code-line"><span class="s2">    int(&#39;1001&#39;, 2)                          # 将字符串作为二进制数字，转化为数字，返回9</span></span>
<span class="code-line"><span class="s2">    bin(13), oct(13), hex(13)               # 将整数转化为二进制/八进制/十六进制字符串，返回(&#39;0b1101&#39;, &#39;015&#39;, &#39;0xd&#39;)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 另类字符串连接</span></span>
<span class="code-line"><span class="s2">    name = &quot;</span><span class="s s-Atom">wang</span><span class="s2">&quot; &quot;</span><span class="s s-Atom">hong</span><span class="s2">&quot;                    # 单行，name = &quot;</span><span class="s s-Atom">wanghong</span><span class="s2">&quot;</span></span>
<span class="code-line"><span class="s2">    name = &quot;</span><span class="s s-Atom">wang</span><span class="s2">&quot; \</span></span>
<span class="code-line"><span class="s2">            &quot;</span><span class="s s-Atom">hong</span><span class="s2">&quot;                          # 多行，name = &quot;</span><span class="s s-Atom">wanghong</span><span class="s2">&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- Python中的字符串格式化实现1--字符串格式化表达式</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">基于C语言的&#39;print&#39;模型，并且在大多数的现有的语言中使用。</span></span>
<span class="code-line">    <span class="s s-Atom">通用结构：</span><span class="c1">%[(name)][flag][width].[precision]typecode</span></span>
<span class="code-line">    <span class="nn">name</span><span class="p">:</span><span class="s s-Atom">在括号中引用期望字典的一项</span></span>
<span class="code-line">    <span class="s s-Atom">flag：可以是</span><span class="o">-</span> <span class="p">|</span> <span class="o">+</span> <span class="p">|</span> <span class="s s-Atom">空格（正数前加空白，负数前加-）</span><span class="p">|</span> <span class="s s-Atom">数字0（零填充）</span></span>
<span class="code-line">    <span class="nf">width：整个最小域宽度</span><span class="p">(</span><span class="s s-Atom">使用*从值中取</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">precision</span><span class="p">]</span><span class="s s-Atom">：给定包括在</span><span class="p">.</span><span class="nf">后面的数字个数（即精度）</span><span class="p">(</span><span class="s s-Atom">使用*从值中取</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">typecode：</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    &quot;</span><span class="s s-Atom">this</span> <span class="o">is</span> <span class="c1">%d %s bird&quot; % (1, &#39;dead&#39;)                          # 一般的格式化表达式</span></span>
<span class="code-line">    <span class="s2">&quot;%s---%s---%s&quot;</span> <span class="c1">% (42, 3.14, [1, 2, 3])                      # 字符串输出：&#39;42---3.14---[1, 2, 3]&#39;</span></span>
<span class="code-line">    <span class="s2">&quot;%d...%6d...%-6d...%06d&quot;</span> <span class="c1">% (1234, 1234, 1234, 1234)         # 对齐方式及填充：&quot;1234...  1234...1234  ...001234&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">x</span> <span class="o">=</span> <span class="mf">1.23456789</span></span>
<span class="code-line">    <span class="s2">&quot;%e | %f | %g&quot;</span> <span class="c1">% (x, x, x)                                  # 对齐方式：&quot;1.234568e+00 | 1.234568 | 1.23457&quot;</span></span>
<span class="code-line">    <span class="s2">&quot;%6.2f*%-6.2f*%06.2f*%+6.2f&quot;</span> <span class="c1">% (x, x, x, x)                 # 对齐方式：&#39;  1.23*1.23  *001.23* +1.23&#39;</span></span>
<span class="code-line">    <span class="s2">&quot;%(name1)d---%(name2)s&quot;</span> <span class="c1">% {&quot;name1&quot;:23, &quot;name2&quot;:&quot;value2&quot;}    # 基于字典的格式化表达式</span></span>
<span class="code-line">    <span class="s2">&quot;%(name)s is %(age)d&quot;</span> <span class="c1">% vars()                              # vars()函数调用返回一个字典，包含了所有本函数调用时存在的变量</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Python中的字符串格式化实现2--字符串格式化调用方法</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">普通调用</span></span>
<span class="code-line">    <span class="s2">&quot;{0}, {1} and {2}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="s s-Atom">&#39;spam&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;ham&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;eggs&#39;</span><span class="p">)</span>            <span class="s s-Atom">#</span> <span class="s s-Atom">基于位置的调用</span></span>
<span class="code-line">    <span class="s2">&quot;{motto} and {pork}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="s s-Atom">motto</span> <span class="o">=</span> <span class="s s-Atom">&#39;spam&#39;</span><span class="p">,</span> <span class="s s-Atom">pork</span> <span class="o">=</span> <span class="s s-Atom">&#39;ham&#39;</span><span class="p">)</span>   <span class="s s-Atom">#</span> <span class="s s-Atom">基于Key的调用</span></span>
<span class="code-line">    <span class="s2">&quot;{motto} and {0}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="s s-Atom">&#39;ham&#39;</span><span class="p">,</span> <span class="s s-Atom">motto</span> <span class="o">=</span> <span class="s s-Atom">&#39;spam&#39;</span><span class="p">)</span>             <span class="s s-Atom">#</span> <span class="s s-Atom">混合调用</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">添加键</span> <span class="s s-Atom">属性</span> <span class="nf">偏移量</span> <span class="p">(</span><span class="s s-Atom">import</span> <span class="s s-Atom">sys</span><span class="p">)</span></span>
<span class="code-line">    <span class="s2">&quot;my {1[spam]} runs {0.platform}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="s s-Atom">sys</span><span class="p">,</span> <span class="p">{</span><span class="s s-Atom">&#39;spam&#39;:&#39;laptop&#39;</span><span class="p">})</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">基于位置的键和属性</span></span>
<span class="code-line">    <span class="s2">&quot;{config[spam]} {sys.platform}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="s s-Atom">sys</span> <span class="o">=</span> <span class="s s-Atom">sys</span><span class="p">,</span> <span class="s s-Atom">config</span> <span class="o">=</span> <span class="p">{</span><span class="s s-Atom">&#39;spam&#39;:&#39;laptop&#39;</span><span class="p">})</span>   <span class="s s-Atom">#</span> <span class="s s-Atom">基于Key的键和属性</span></span>
<span class="code-line">    <span class="s2">&quot;first = {0[0]}, second = {0[1]}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">([</span><span class="s s-Atom">&#39;A&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;B&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;C&#39;</span><span class="p">])</span>                       <span class="s s-Atom">#</span> <span class="s s-Atom">基于位置的偏移量</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">具体格式化</span></span>
<span class="code-line">    <span class="s2">&quot;{0:e}, {1:.3e}, {2:g}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">3.14159</span><span class="p">,</span> <span class="mf">3.14159</span><span class="p">,</span> <span class="mf">3.14159</span><span class="p">)</span>   <span class="s s-Atom">#</span> <span class="s s-Atom">输出&#39;3.141590e+00, 3.142e+00, 3.14159&#39;</span></span>
<span class="code-line">    <span class="s2">&quot;{fieldname:format_spec}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(......)</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">说明:</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">        fieldname是指定参数的一个数字或关键字, 后边可跟可选的&quot;</span><span class="p">.</span><span class="s s-Atom">name</span><span class="s2">&quot;或&quot;</span><span class="p">[</span><span class="s s-Atom">index</span><span class="p">]</span><span class="s2">&quot;成分引用</span></span>
<span class="code-line"><span class="s2">        format_spec ::=  [[fill]align][sign][#][0][width][][.precision][type]</span></span>
<span class="code-line"><span class="s2">        fill,        ::=  &lt;any character&gt;              #填充字符</span></span>
<span class="code-line"><span class="s2">        align       ::=  &quot;</span><span class="s s-Atom">&lt;</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">&gt;</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">=</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">^</span><span class="s2">&quot;        #对齐方式</span></span>
<span class="code-line"><span class="s2">        sign        ::=  &quot;</span><span class="s s-Atom">+</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">-</span><span class="s2">&quot; | &quot;</span> <span class="s2">&quot;              #符号说明</span></span>
<span class="code-line"><span class="s2">        width       ::=  integer                      #字符串宽度</span></span>
<span class="code-line"><span class="s2">        precision   ::=  integer                      #浮点数精度</span></span>
<span class="code-line"><span class="s2">        type        ::=  &quot;</span><span class="s s-Atom">b</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">c</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">d</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">e</span><span class="s2">&quot; | &quot;</span><span class="nv">E</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">f</span><span class="s2">&quot; | &quot;</span><span class="nv">F</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">g</span><span class="s2">&quot; | &quot;</span><span class="nv">G</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">n</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">o</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">s</span><span class="s2">&quot; | &quot;</span><span class="s s-Atom">x</span><span class="s2">&quot; | &quot;</span><span class="nv">X</span><span class="s2">&quot; | &quot;</span><span class="c1">%&quot;</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    # 例子:</span></span>
<span class="code-line"><span class="s2">        &#39;={0:10} = {1:10}&#39;.format(&#39;spam&#39;, 123.456)    # 输出&#39;=spam       =    123.456&#39;</span></span>
<span class="code-line"><span class="s2">        &#39;={0:&gt;10}=&#39;.format(&#39;test&#39;)                    # 输出&#39;=      test=&#39;</span></span>
<span class="code-line"><span class="s2">        &#39;={0:&lt;10}=&#39;.format(&#39;test&#39;)                    # 输出&#39;=test      =&#39;</span></span>
<span class="code-line"><span class="s2">        &#39;={0:^10}=&#39;.format(&#39;test&#39;)                    # 输出&#39;=   test   =&#39;</span></span>
<span class="code-line"><span class="s2">        &#39;{0:X}, {1:o}, {2:b}&#39;.format(255, 255, 255)   # 输出&#39;FF, 377, 11111111&#39;</span></span>
<span class="code-line"><span class="s2">        &#39;My name is {0:{1}}.&#39;.format(&#39;Fred&#39;, 8)       # 输出&#39;My name is Fred    .&#39;  动态指定参数</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 常用列表常量和操作</span></span>
<span class="code-line"><span class="s2">    L = [[1, 2], &#39;string&#39;, {}]                        # 嵌套列表</span></span>
<span class="code-line"><span class="s2">    L = list(&#39;spam&#39;)                                  # 列表初始化</span></span>
<span class="code-line"><span class="s2">    L = list(range(0, 4))                             # 列表初始化</span></span>
<span class="code-line"><span class="s2">    list(map(ord, &#39;spam&#39;))                            # 列表解析</span></span>
<span class="code-line"><span class="s2">    len(L)                                            # 求列表长度</span></span>
<span class="code-line"><span class="s2">    L.count(value)                                    # 求列表中某个值的个数</span></span>
<span class="code-line"><span class="s2">    L.append(obj)                                     # 向列表的尾部添加数据，比如append(2)，添加元素2</span></span>
<span class="code-line"><span class="s2">    L.insert(index, obj)                              # 向列表的指定index位置添加数据，index及其之后的数据后移</span></span>
<span class="code-line"><span class="s2">    L.extend(interable)                               # 通过添加iterable中的元素来扩展列表，比如extend([2])，添加元素2，注意和append的区别</span></span>
<span class="code-line"><span class="s2">    L.index(value, [start, [stop]])                   # 返回列表中值value的第一个索引</span></span>
<span class="code-line"><span class="s2">    L.pop([index])                                    # 删除并返回index处的元素，默认为删除并返回最后一个元素</span></span>
<span class="code-line"><span class="s2">    L.remove(value)                                   # 删除列表中的value值，只删除第一次出现的value的值</span></span>
<span class="code-line"><span class="s2">    L.reverse()                                       # 反转列表</span></span>
<span class="code-line"><span class="s2">    L.sort(cmp=None, key=None, reverse=False)         # 排序列表</span></span>
<span class="code-line"><span class="s2">    a = [1, 2, 3], b = a[10:]                         # 注意，这里不会引发IndexError异常，只会返回一个空的列表[]</span></span>
<span class="code-line"><span class="s2">    a = [], a += [1]                                  # 这里实在原有列表的基础上进行操作，即列表的id没有改变</span></span>
<span class="code-line"><span class="s2">    a = [], a = a + [1]                               # 这里最后的a要构建一个新的列表，即a的id发生了变化</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 用切片来删除序列的某一段</span></span>
<span class="code-line"><span class="s2">    a = [1, 2, 3, 4, 5, 6, 7]</span></span>
<span class="code-line"><span class="s2">    a[1:4] = []                                       # a = [1, 5, 6, 7]</span></span>
<span class="code-line"><span class="s2">    a = [0, 1, 2, 3, 4, 5, 6, 7]</span></span>
<span class="code-line"><span class="s2">    del a[::2]                                        # 去除偶数项(偶数索引的)，a = [1, 3, 5, 7]</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 常用字典常量和操作</span></span>
<span class="code-line"><span class="s2">    D = {}</span></span>
<span class="code-line"><span class="s2">    D = {&#39;spam&#39;:2, &#39;tol&#39;:{&#39;ham&#39;:1}}                   # 嵌套字典</span></span>
<span class="code-line"><span class="s2">    D = dict.fromkeys([&#39;s&#39;, &#39;d&#39;], 8)                  # {&#39;s&#39;: 8, &#39;d&#39;: 8}</span></span>
<span class="code-line"><span class="s2">    D = dict(name = &#39;tom&#39;, age = 12)                  # {&#39;age&#39;: 12, &#39;name&#39;: &#39;tom&#39;}</span></span>
<span class="code-line"><span class="s2">    D = dict([(&#39;name&#39;, &#39;tom&#39;), (&#39;age&#39;, 12)])          # {&#39;age&#39;: 12, &#39;name&#39;: &#39;tom&#39;}</span></span>
<span class="code-line"><span class="s2">    D = dict(zip([&#39;name&#39;, &#39;age&#39;], [&#39;tom&#39;, 12]))       # {&#39;age&#39;: 12, &#39;name&#39;: &#39;tom&#39;}</span></span>
<span class="code-line"><span class="s2">    D.keys(); D.values(); D.items()                   # 字典键、值以及键值对</span></span>
<span class="code-line"><span class="s2">    D.get(key, default)                               # get函数</span></span>
<span class="code-line"><span class="s2">    D.update(D_other)                                 # 合并字典，如果存在相同的键值，D_other的数据会覆盖掉D的数据</span></span>
<span class="code-line"><span class="s2">    D.pop(key, [D])                                   # 删除字典中键值为key的项，返回键值为key的值，如果不存在，返回默认值D，否则异常</span></span>
<span class="code-line"><span class="s2">    D.popitem()                                       # pop字典中随机的一项（一个键值对）</span></span>
<span class="code-line"><span class="s2">    D.setdefault(k[, d])                              # 设置D中某一项的默认值。如果k存在，则返回D[k]，否则设置D[k]=d，同时返回D[k]。</span></span>
<span class="code-line"><span class="s2">    del D                                             # 删除字典</span></span>
<span class="code-line"><span class="s2">    del D[&#39;key&#39;]                                      # 删除字典的某一项</span></span>
<span class="code-line"><span class="s2">    if key in D:   if key not in D:                   # 测试字典键是否存在</span></span>
<span class="code-line"><span class="s2">    # 字典注意事项：（1）对新索引赋值会添加一项（2）字典键不一定非得是字符串，也可以为任何的不可变对象</span></span>
<span class="code-line"><span class="s2">    # 不可变对象：调用对象自身的任意方法，也不会改变该对象自身的内容，这些方法会创建新的对象并返回。</span></span>
<span class="code-line"><span class="s2">    # 字符串、整数、tuple都是不可变对象，dict、set、list都是可变对象</span></span>
<span class="code-line"><span class="s2">    D[(1,2,3)] = 2                                    # tuple作为字典的key</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 字典解析</span></span>
<span class="code-line"><span class="s2">    D = {k:8 for k in [&#39;s&#39;, &#39;d&#39;]}                     # {&#39;s&#39;: 8, &#39;d&#39;: 8}</span></span>
<span class="code-line"><span class="s2">    D = {k:v for (k, v) in zip([&#39;name&#39;, &#39;age&#39;], [&#39;tom&#39;, 12])}       # {&#39;age&#39;: 12, &#39;name&#39;: tom}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 字典的特殊方法__missing__：当查找找不到key时，会执行该方法</span></span>
<span class="code-line"><span class="s2">    class Dict(dict):</span></span>
<span class="code-line"><span class="s2">        def __missing__(self, key):</span></span>
<span class="code-line"><span class="s2">            self[key] = []</span></span>
<span class="code-line"><span class="s2">            return self[key]</span></span>
<span class="code-line"><span class="s2">    dct = Dict()</span></span>
<span class="code-line"><span class="s2">    dct[&quot;</span><span class="s s-Atom">foo</span><span class="s2">&quot;].append(1)    # 这有点类似于collections.defalutdict</span></span>
<span class="code-line"><span class="s2">    dct[&quot;</span><span class="s s-Atom">foo</span><span class="s2">&quot;]              # [1]</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 元组和列表的唯一区别在于元组是不可变对象，列表时可变对象</span></span>
<span class="code-line"><span class="s2">    a = [1, 2, 3]           # a[1] = 0, OK</span></span>
<span class="code-line"><span class="s2">    a = (1, 2, 3)           # a[1] = 0, Error</span></span>
<span class="code-line"><span class="s2">    a = ([1, 2])            # a[0][1] = 0, OK</span></span>
<span class="code-line"><span class="s2">    a = [(1, 2)]            # a[0][1] = 0, Error</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 元组的特殊语法: 逗号和圆括号</span></span>
<span class="code-line"><span class="s2">    D = (12)                # 此时D为一个整数 即D = 12</span></span>
<span class="code-line"><span class="s2">    D = (12, )              # 此时D为一个元组 即D = (12, )</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 文件基本操作</span></span>
<span class="code-line"><span class="s2">    output = open(r&#39;C:\spam&#39;, &#39;w&#39;)          # 打开输出文件，用于写</span></span>
<span class="code-line"><span class="s2">    input = open(&#39;data&#39;, &#39;r&#39;)               # 打开输入文件，用于读。打开的方式可以为&#39;w&#39;, &#39;r&#39;, &#39;a&#39;, &#39;wb&#39;, &#39;rb&#39;, &#39;ab&#39;等</span></span>
<span class="code-line"><span class="s2">    fp.read([size])                         # size为读取的长度，以byte为单位</span></span>
<span class="code-line"><span class="s2">    fp.readline([size])                     # 读一行，如果定义了size，有可能返回的只是一行的一部分</span></span>
<span class="code-line"><span class="s2">    fp.readlines([size])                    # 把文件每一行作为一个list的一个成员，并返回这个list。其实它的内部是通过循环调用readline()来实现的。如果提供size参数，size是表示读取内容的总长。</span></span>
<span class="code-line"><span class="s2">    fp.readable()                           # 是否可读</span></span>
<span class="code-line"><span class="s2">    fp.write(str)                           # 把str写到文件中，write()并不会在str后加上一个换行符</span></span>
<span class="code-line"><span class="s2">    fp.writelines(seq)                      # 把seq的内容全部写到文件中(多行一次性写入)</span></span>
<span class="code-line"><span class="s2">    fp.writeable()                          # 是否可写</span></span>
<span class="code-line"><span class="s2">    fp.close()                              # 关闭文件。</span></span>
<span class="code-line"><span class="s2">    fp.flush()                              # 把缓冲区的内容写入硬盘</span></span>
<span class="code-line"><span class="s2">    fp.fileno()                             # 返回一个长整型的”文件标签“</span></span>
<span class="code-line"><span class="s2">    fp.isatty()                             # 文件是否是一个终端设备文件（unix系统中的）</span></span>
<span class="code-line"><span class="s2">    fp.tell()                               # 返回文件操作标记的当前位置，以文件的开头为原点</span></span>
<span class="code-line"><span class="s2">    fp.next()                               # 返回下一行，并将文件操作标记位移到下一行。把一个file用于for … in file这样的语句时，就是调用next()函数来实现遍历的。</span></span>
<span class="code-line"><span class="s2">    fp.seek(offset[,whence])                # 将文件打操作标记移到offset的位置。whence可以为0表示从头开始计算，1表示以当前位置为原点计算。2表示以文件末尾为原点进行计算。</span></span>
<span class="code-line"><span class="s2">    fp.seekable()                           # 是否可以seek</span></span>
<span class="code-line"><span class="s2">    fp.truncate([size])                     # 把文件裁成规定的大小，默认的是裁到当前文件操作标记的位置。</span></span>
<span class="code-line"><span class="s2">    for line in open(&#39;data&#39;): </span></span>
<span class="code-line"><span class="s2">        print(line)                         # 使用for语句，比较适用于打开比较大的文件</span></span>
<span class="code-line"><span class="s2">    open(&#39;f.txt&#39;, encoding = &#39;latin-1&#39;)     # Python3.x Unicode文本文件</span></span>
<span class="code-line"><span class="s2">    open(&#39;f.bin&#39;, &#39;rb&#39;)                     # Python3.x 二进制bytes文件</span></span>
<span class="code-line"><span class="s2">    # 文件对象还有相应的属性：buffer closed encoding errors line_buffering name newlines等</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 其他</span></span>
<span class="code-line"><span class="s2">    # Python中的真假值含义：1. 数字如果非零，则为真，0为假。 2. 其他对象如果非空，则为真</span></span>
<span class="code-line"><span class="s2">    # 通常意义下的类型分类：1. 数字、序列、映射。 2. 可变类型和不可变类型</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;</span><span class="s s-Atom">语法和语句----语法和语句----语法和语句----语法和语句----语法和语句----语法和语句----语法和语句----语法和语句----语法和语句----语法和语句----语法和语句</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 赋值语句的形式</span></span>
<span class="code-line"><span class="s2">    spam = &#39;spam&#39;                          # 基本形式</span></span>
<span class="code-line"><span class="s2">    spam, ham = &#39;spam&#39;, &#39;ham&#39;              # 元组赋值形式</span></span>
<span class="code-line"><span class="s2">    [spam, ham] = [&#39;s&#39;, &#39;h&#39;]               # 列表赋值形式</span></span>
<span class="code-line"><span class="s2">    a, b, c, d = &#39;abcd&#39;                    # 序列赋值形式</span></span>
<span class="code-line"><span class="s2">    a, *b, c = &#39;spam&#39;                      # 序列解包形式（Python3.x中才有）</span></span>
<span class="code-line"><span class="s2">    spam = ham = &#39;no&#39;                      # 多目标赋值运算，涉及到共享引用</span></span>
<span class="code-line"><span class="s2">    spam += 42                             # 增强赋值，涉及到共享引用</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 序列赋值 序列解包</span></span>
<span class="code-line"><span class="s2">    [a, b, c] = (1, 2, 3)                  # a = 1, b = 2, c = 3</span></span>
<span class="code-line"><span class="s2">    a, b, c, d = &quot;</span><span class="s s-Atom">spam</span><span class="s2">&quot;                    # a = &#39;s&#39;, b = &#39;p&#39;, c = &#39;a&#39;, d = &#39;m&#39;</span></span>
<span class="code-line"><span class="s2">    a, b, c = range(3)                     # a = 0, b = 1, c = 2</span></span>
<span class="code-line"><span class="s2">    a, *b = [1, 2, 3, 4]                   # a = 1, b = [2, 3, 4]</span></span>
<span class="code-line"><span class="s2">    *a, b = [1, 2, 3, 4]                   # a = [1, 2, 3], b = 4</span></span>
<span class="code-line"><span class="s2">    a, *b, c = [1, 2, 3, 4]                # a = 1, b = [2, 3], c = 4</span></span>
<span class="code-line"><span class="s2">    # 带有*时 会优先匹配*之外的变量 如</span></span>
<span class="code-line"><span class="s2">    a, *b, c = [1, 2]                      # a = 1, c = 2, b = []</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2"> #-- print函数原型</span></span>
<span class="code-line"><span class="s2">    print(value, ..., sep=&#39; &#39;, end=&#39;\n&#39;, file=sys.stdout, flush=False)</span></span>
<span class="code-line"><span class="s2">    # 流的重定向</span></span>
<span class="code-line"><span class="s2">    print(&#39;hello world&#39;)                   # 等于sys.stdout.write(&#39;hello world&#39;)</span></span>
<span class="code-line"><span class="s2">    temp = sys.stdout                      # 原有流的保存</span></span>
<span class="code-line"><span class="s2">    sys.stdout = open(&#39;log.log&#39;, &#39;a&#39;)      # 流的重定向</span></span>
<span class="code-line"><span class="s2">    print(&#39;hello world&#39;)                   # 写入到文件log.log</span></span>
<span class="code-line"><span class="s2">    sys.stdout.close()</span></span>
<span class="code-line"><span class="s2">    sys.stdout = temp                      # 原有流的复原</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- Python中and或or总是返回对象(左边的对象或右边的对象) 且具有短路求值的特性</span></span>
<span class="code-line"><span class="s2">    1 or 2 or 3                            # 返回 1</span></span>
<span class="code-line"><span class="s2">    1 and 2 and 3                          # 返回 3</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- if/else三元表达符（if语句在行内）</span></span>
<span class="code-line"><span class="s2">    A = 1 if X else 2</span></span>
<span class="code-line"><span class="s2">    A = 1 if X else (2 if Y else 3)</span></span>
<span class="code-line"><span class="s2">    # 也可以使用and-or语句（一条语句实现多个if-else）</span></span>
<span class="code-line"><span class="s2">    result = (a &gt; 20 and &quot;</span><span class="s s-Atom">big</span> <span class="s s-Atom">than</span> <span class="mi">20</span><span class="s2">&quot; or a &gt; 10 and &quot;</span><span class="s s-Atom">big</span> <span class="s s-Atom">than</span> <span class="mi">10</span><span class="s2">&quot; or a &gt; 5 and &quot;</span><span class="s s-Atom">big</span> <span class="s s-Atom">than</span> <span class="mi">5</span><span class="s2">&quot;)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- Python的while语句或者for语句可以带else语句 当然也可以带continue/break/pass语句</span></span>
<span class="code-line"><span class="s2">    while a &gt; 1:</span></span>
<span class="code-line"><span class="s2">        anything</span></span>
<span class="code-line"><span class="s2">    else:</span></span>
<span class="code-line"><span class="s2">        anything</span></span>
<span class="code-line"><span class="s2">    # else语句会在循环结束后执行，除非在循环中执行了break，同样的还有for语句</span></span>
<span class="code-line"><span class="s2">    for i in range(5):</span></span>
<span class="code-line"><span class="s2">        anything</span></span>
<span class="code-line"><span class="s2">    else:</span></span>
<span class="code-line"><span class="s2">        anything</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- for循环的元组赋值</span></span>
<span class="code-line"><span class="s2">    for (a, b) in [(1, 2), (3, 4)]:                   # 最简单的赋值</span></span>
<span class="code-line"><span class="s2">    for ((a, b), c) in [((1, 2), 3), ((4, 5), 6)]:    # 自动解包赋值</span></span>
<span class="code-line"><span class="s2">    for ((a, b), c) in [((1, 2), 3), (&quot;</span><span class="nv">XY</span><span class="s2">&quot;, 6)]:      # 自动解包 a = X, b = Y, c = 6</span></span>
<span class="code-line"><span class="s2">    for (a, *b) in [(1, 2, 3), (4, 5, 6)]:            # 自动解包赋值</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 列表解析语法</span></span>
<span class="code-line"><span class="s2">    M = [[1,2,3], [4,5,6], [7,8,9]]</span></span>
<span class="code-line"><span class="s2">    res = [sum(row) for row in M]                     # G = [6, 15, 24] 一般的列表解析 生成一个列表</span></span>
<span class="code-line"><span class="s2">    res = [c * 2 for c in &#39;spam&#39;]                     # [&#39;ss&#39;, &#39;pp&#39;, &#39;aa&#39;, &#39;mm&#39;]</span></span>
<span class="code-line"><span class="s2">    res = [a * b for a in [1, 2] for b in [4, 5]]     # 多解析过程 返回[4, 5, 8, 10]</span></span>
<span class="code-line"><span class="s2">    res = [a for a in [1, 2, 3] if a &lt; 2]             # 带判断条件的解析过程</span></span>
<span class="code-line"><span class="s2">    res = [a if a &gt; 0 else 0 for a in [-1, 0, 1]]     # 带判断条件的高级解析过程</span></span>
<span class="code-line"><span class="s2">    # 两个列表同时解析：使用zip函数</span></span>
<span class="code-line"><span class="s2">    for teama, teamb in zip([&quot;</span><span class="nv">Packers</span><span class="s2">&quot;, &quot;</span><span class="mi">49</span><span class="s s-Atom">ers</span><span class="s2">&quot;], [&quot;</span><span class="nv">Ravens</span><span class="s2">&quot;, &quot;</span><span class="nv">Patriots</span><span class="s2">&quot;]):</span></span>
<span class="code-line"><span class="s2">        print(teama + &quot;</span> <span class="s s-Atom">vs</span><span class="p">.</span> <span class="s2">&quot; + teamb)</span></span>
<span class="code-line"><span class="s2">    # 带索引的列表解析：使用enumerate函数</span></span>
<span class="code-line"><span class="s2">    for index, team in enumerate([&quot;</span><span class="nv">Packers</span><span class="s2">&quot;, &quot;</span><span class="mi">49</span><span class="s s-Atom">ers</span><span class="s2">&quot;, &quot;</span><span class="nv">Ravens</span><span class="s2">&quot;, &quot;</span><span class="nv">Patriots</span><span class="s2">&quot;]):</span></span>
<span class="code-line"><span class="s2">        print(index, team)                            # 输出0, Packers \n 1, 49ers \n ......</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 生成器表达式</span></span>
<span class="code-line"><span class="s2">    G = (sum(row) for row in M)                       # 使用小括号可以创建所需结果的生成器generator object</span></span>
<span class="code-line"><span class="s2">    next(G), next(G), next(G)                         # 输出(6, 15, 24)</span></span>
<span class="code-line"><span class="s2">    G = {sum(row) for row in M}                       # G = {6, 15, 24} 解析语法还可以生成集合和字典</span></span>
<span class="code-line"><span class="s2">    G = {i:sum(M[i]) for i in range(3)}               # G = {0: 6, 1: 15, 2: 24}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 文档字符串:出现在Module的开端以及其中函数或类的开端 使用三重引号字符串</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">module</span> <span class="s s-Atom">document</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    def func():</span></span>
<span class="code-line"><span class="s2">        &quot;&quot;&quot;</span></span>
<span class="code-line">        <span class="s s-Atom">function</span> <span class="s s-Atom">document</span></span>
<span class="code-line">        <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">        print()</span></span>
<span class="code-line"><span class="s2">    class Employee:</span></span>
<span class="code-line"><span class="s2">        &quot;&quot;&quot;</span></span>
<span class="code-line">        <span class="s s-Atom">class</span> <span class="s s-Atom">document</span></span>
<span class="code-line">        <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">        print()</span></span>
<span class="code-line"><span class="s2">    print(func.__doc__)                # 输出函数文档字符串</span></span>
<span class="code-line"><span class="s2">    print(Employee.__doc__)            # 输出类的文档字符串</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 命名惯例:</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="nf">以单一下划线开头的变量名</span><span class="p">(</span><span class="k">_</span><span class="nv">X</span><span class="p">)</span><span class="s s-Atom">不会被from</span> <span class="s s-Atom">module</span> <span class="s s-Atom">import*等语句导入</span></span>
<span class="code-line">    <span class="nf">前后有两个下划线的变量名</span><span class="p">(</span><span class="k">__</span><span class="nv">X__</span><span class="p">)</span><span class="s s-Atom">是系统定义的变量名，对解释器有特殊意义</span></span>
<span class="code-line">    <span class="nf">以两个下划线开头但不以下划线结尾的变量名</span><span class="p">(</span><span class="k">__</span><span class="nv">X</span><span class="p">)</span><span class="nf">是类的本地</span><span class="p">(</span><span class="s s-Atom">私有</span><span class="p">)</span><span class="s s-Atom">变量</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 列表解析 in成员关系测试 map sorted zip enumerate内置函数等都使用了迭代协议</span></span>
<span class="code-line"><span class="s2">    &#39;first line&#39; in open(&#39;test.txt&#39;)   # in测试 返回True或False</span></span>
<span class="code-line"><span class="s2">    list(map(str.upper, open(&#39;t&#39;)))    # map内置函数</span></span>
<span class="code-line"><span class="s2">    sorted(iter([2, 5, 8, 3, 1]))      # sorted内置函数</span></span>
<span class="code-line"><span class="s2">    list(zip([1, 2], [3, 4]))          # zip内置函数 [(1, 3), (2, 4)]</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- del语句: 手动删除某个变量</span></span>
<span class="code-line"><span class="s2">    del X</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 获取列表的子表的方法:</span></span>
<span class="code-line"><span class="s2">    x = [1,2,3,4,5,6]</span></span>
<span class="code-line"><span class="s2">    x[:3]                              # 前3个[1,2,3]</span></span>
<span class="code-line"><span class="s2">    x[1:5]                             # 中间4个[2,3,4,5]</span></span>
<span class="code-line"><span class="s2">    x[-3:]                             # 最后3个[4,5,6]</span></span>
<span class="code-line"><span class="s2">    x[::2]                             # 奇数项[1,3,5]</span></span>
<span class="code-line"><span class="s2">    x[1::2]                            # 偶数项[2,4,6]</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 手动迭代：iter和next</span></span>
<span class="code-line"><span class="s2">    L = [1, 2]</span></span>
<span class="code-line"><span class="s2">    I = iter(L)                        # I为L的迭代器</span></span>
<span class="code-line"><span class="s2">    I.next()                           # 返回1</span></span>
<span class="code-line"><span class="s2">    I.next()                           # 返回2</span></span>
<span class="code-line"><span class="s2">    I.next()                           # Error:StopIteration</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- Python中的可迭代对象</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="mf">1.</span><span class="s s-Atom">range迭代器</span></span>
<span class="code-line">    <span class="mf">2.</span><span class="s s-Atom">map、zip和filter迭代器</span></span>
<span class="code-line">    <span class="mf">3.</span><span class="s s-Atom">字典视图迭代器：D</span><span class="p">.</span><span class="nf">keys</span><span class="p">()),</span> <span class="nv">D</span><span class="p">.</span><span class="nf">items</span><span class="p">()</span><span class="s s-Atom">等</span></span>
<span class="code-line">    <span class="mf">4.</span><span class="s s-Atom">文件类型</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;</span><span class="s s-Atom">函数语法规则----函数语法规则----函数语法规则----函数语法规则----函数语法规则----函数语法规则----函数语法规则----函数语法规则----函数语法规则----函数语法规则</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 函数相关的语句和表达式</span></span>
<span class="code-line"><span class="s2">    myfunc(&#39;spam&#39;)                     # 函数调用</span></span>
<span class="code-line"><span class="s2">    def myfunc():                      # 函数定义</span></span>
<span class="code-line"><span class="s2">    return None                        # 函数返回值</span></span>
<span class="code-line"><span class="s2">    global a                           # 全局变量</span></span>
<span class="code-line"><span class="s2">    nonlocal x                         # 在函数或其他作用域中使用外层（非全局）变量</span></span>
<span class="code-line"><span class="s2">    yield x                            # 生成器函数返回</span></span>
<span class="code-line"><span class="s2">    lambda                             # 匿名函数</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- Python函数变量名解析:LEGB原则，即:</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="nf">local</span><span class="p">(</span><span class="s s-Atom">functin</span><span class="p">)</span> <span class="p">--&gt;</span> <span class="s s-Atom">encloseing</span> <span class="s s-Atom">function</span> <span class="nf">locals</span> <span class="o">--&gt;</span> <span class="nf">global</span><span class="p">(</span><span class="s s-Atom">module</span><span class="p">)</span> <span class="p">--&gt;</span> <span class="s s-Atom">build</span><span class="o">-</span><span class="nf">in</span><span class="p">(</span><span class="s s-Atom">python</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">说明:以下边的函数maker为例</span> <span class="s s-Atom">则相对于action而言</span> <span class="nv">X为Local</span> <span class="nv">N为Encloseing</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 嵌套函数举例:工厂函数</span></span>
<span class="code-line"><span class="s2">    def maker(N):</span></span>
<span class="code-line"><span class="s2">        def action(X):</span></span>
<span class="code-line"><span class="s2">            return X ** N</span></span>
<span class="code-line"><span class="s2">        return action</span></span>
<span class="code-line"><span class="s2">    f = maker(2)                       # pass 2 to N</span></span>
<span class="code-line"><span class="s2">    f(3)                               # 9, pass 3 to X</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 嵌套函数举例:lambda实例</span></span>
<span class="code-line"><span class="s2">    def maker(N):</span></span>
<span class="code-line"><span class="s2">        action = (lambda X: X**N)</span></span>
<span class="code-line"><span class="s2">        return action</span></span>
<span class="code-line"><span class="s2">    f = maker(2)                       # pass 2 to N</span></span>
<span class="code-line"><span class="s2">    f(3)                               # 9, pass 3 to X</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- nonlocal和global语句的区别</span></span>
<span class="code-line"><span class="s2">    # nonlocal应用于一个嵌套的函数的作用域中的一个名称 例如:</span></span>
<span class="code-line"><span class="s2">    start = 100</span></span>
<span class="code-line"><span class="s2">    def tester(start):</span></span>
<span class="code-line"><span class="s2">        def nested(label):</span></span>
<span class="code-line"><span class="s2">            nonlocal start             # 指定start为tester函数内的local变量 而不是global变量start</span></span>
<span class="code-line"><span class="s2">            print(label, start)</span></span>
<span class="code-line"><span class="s2">            start += 3</span></span>
<span class="code-line"><span class="s2">        return nested</span></span>
<span class="code-line"><span class="s2">    # global为全局的变量 即def之外的变量</span></span>
<span class="code-line"><span class="s2">    def tester(start):</span></span>
<span class="code-line"><span class="s2">        def nested(label):</span></span>
<span class="code-line"><span class="s2">            global start               # 指定start为global变量start</span></span>
<span class="code-line"><span class="s2">            print(label, start)</span></span>
<span class="code-line"><span class="s2">            start += 3</span></span>
<span class="code-line"><span class="s2">        return nested    </span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 函数参数，不可变参数通过“值”传递，可变参数通过“引用”传递</span></span>
<span class="code-line"><span class="s2">    def f(a, b, c): print(a, b, c)</span></span>
<span class="code-line"><span class="s2">    f(1, 2, 3)                         # 参数位置匹配</span></span>
<span class="code-line"><span class="s2">    f(1, c = 3, b = 2)                 # 参数关键字匹配</span></span>
<span class="code-line"><span class="s2">    def f(a, b=1, c=2): print(a, b, c)</span></span>
<span class="code-line"><span class="s2">    f(1)                               # 默认参数匹配</span></span>
<span class="code-line"><span class="s2">    f(1, 2)                            # 默认参数匹配</span></span>
<span class="code-line"><span class="s2">    f(a = 1, c = 3)                    # 关键字参数和默认参数的混合</span></span>
<span class="code-line"><span class="s2">    # Keyword-Only参数:出现在*args之后 必须用关键字进行匹配</span></span>
<span class="code-line"><span class="s2">    def keyOnly(a, *b, c): print(&#39;&#39;)   # c就为keyword-only匹配 必须使用关键字c = value匹配</span></span>
<span class="code-line"><span class="s2">    def keyOnly(a, *, b, c): ......    # b c为keyword-only匹配 必须使用关键字匹配</span></span>
<span class="code-line"><span class="s2">    def keyOnly(a, *, b = 1): ......   # b有默认值 或者省略 或者使用关键字参数b = value</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 可变参数匹配: * 和 **</span></span>
<span class="code-line"><span class="s2">    def f(*args): print(args)          # 在元组中收集不匹配的位置参数</span></span>
<span class="code-line"><span class="s2">    f(1, 2, 3)                         # 输出(1, 2, 3)</span></span>
<span class="code-line"><span class="s2">    def f(**args): print(args)         # 在字典中收集不匹配的关键字参数</span></span>
<span class="code-line"><span class="s2">    f(a = 1, b = 2)                    # 输出{&#39;a&#39;:1, &#39;b&#39;:2}</span></span>
<span class="code-line"><span class="s2">    def f(a, *b, **c): print(a, b, c)  # 两者混合使用</span></span>
<span class="code-line"><span class="s2">    f(1, 2, 3, x=4, y=5)               # 输出1, (2, 3), {&#39;x&#39;:4, &#39;y&#39;:5}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 函数调用时的参数解包: * 和 ** 分别解包元组和字典</span></span>
<span class="code-line"><span class="s2">    func(1, *(2, 3))  &lt;==&gt;  func(1, 2, 3)</span></span>
<span class="code-line"><span class="s2">    func(1, **{&#39;c&#39;:3, &#39;b&#39;:2})  &lt;==&gt;  func(1, b = 2, c = 3)</span></span>
<span class="code-line"><span class="s2">    func(1, *(2, 3), **{&#39;c&#39;:3, &#39;b&#39;:2})  &lt;==&gt;  func(1, 2, 3, b = 2, c = 3)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 函数属性:(自己定义的)函数可以添加属性</span></span>
<span class="code-line"><span class="s2">    def func():.....</span></span>
<span class="code-line"><span class="s2">    func.count = 1                     # 自定义函数添加属性</span></span>
<span class="code-line"><span class="s2">    print.count = 1                    # Error 内置函数不可以添加属性</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 函数注解: 编写在def头部行 主要用于说明参数范围、参数类型、返回值类型等</span></span>
<span class="code-line"><span class="s2">    def func(a:&#39;spam&#39;, b:(1, 10), c:float) -&gt; int :</span></span>
<span class="code-line"><span class="s2">        print(a, b, c)</span></span>
<span class="code-line"><span class="s2">    func.__annotations__               # {&#39;c&#39;:&lt;class &#39;float&#39;&gt;, &#39;b&#39;:(1, 10), &#39;a&#39;:&#39;spam&#39;, &#39;return&#39;:&lt;class &#39;int&#39;&gt;}</span></span>
<span class="code-line"><span class="s2">    # 编写注解的同时 还是可以使用函数默认值 并且注解的位置位于=号的前边</span></span>
<span class="code-line"><span class="s2">    def func(a:&#39;spam&#39;=&#39;a&#39;, b:(1, 10)=2, c:float=3) -&gt; int :</span></span>
<span class="code-line"><span class="s2">        print(a, b, c)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 匿名函数:lambda</span></span>
<span class="code-line"><span class="s2">    f = lambda x, y, z : x + y + z     # 普通匿名函数，使用方法f(1, 2, 3)</span></span>
<span class="code-line"><span class="s2">    f = lambda x = 1, y = 1: x + y     # 带默认参数的lambda函数</span></span>
<span class="code-line"><span class="s2">    def action(x):                     # 嵌套lambda函数</span></span>
<span class="code-line"><span class="s2">        return (lambda y : x + y)</span></span>
<span class="code-line"><span class="s2">    f = lambda: a if xxx() else b      # 无参数的lambda函数，使用方法f()</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- lambda函数与map filter reduce函数的结合</span></span>
<span class="code-line"><span class="s2">    list(map((lambda x: x + 1), [1, 2, 3]))              # [2, 3, 4]</span></span>
<span class="code-line"><span class="s2">    list(filter((lambda x: x &gt; 0), range(-4, 5)))        # [1, 2, 3, 4]</span></span>
<span class="code-line"><span class="s2">    functools.reduce((lambda x, y: x + y), [1, 2, 3])    # 6</span></span>
<span class="code-line"><span class="s2">    functools.reduce((lambda x, y: x * y), [2, 3, 4])    # 24</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 生成器函数:yield VS return</span></span>
<span class="code-line"><span class="s2">    def gensquare(N):</span></span>
<span class="code-line"><span class="s2">        for i in range(N):</span></span>
<span class="code-line"><span class="s2">            yield i** 2                # 状态挂起 可以恢复到此时的状态</span></span>
<span class="code-line"><span class="s2">    for i in gensquare(5):             # 使用方法</span></span>
<span class="code-line"><span class="s2">        print(i, end = &#39; &#39;)            # [0, 1, 4, 9, 16]</span></span>
<span class="code-line"><span class="s2">    x = gensquare(2)                   # x是一个生成对象</span></span>
<span class="code-line"><span class="s2">    next(x)                            # 等同于x.__next__() 返回0</span></span>
<span class="code-line"><span class="s2">    next(x)                            # 等同于x.__next__() 返回1</span></span>
<span class="code-line"><span class="s2">    next(x)                            # 等同于x.__next__() 抛出异常StopIteration</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 生成器表达式:小括号进行列表解析</span></span>
<span class="code-line"><span class="s2">    G = (x ** 2 for x in range(3))     # 使用小括号可以创建所需结果的生成器generator object</span></span>
<span class="code-line"><span class="s2">    next(G), next(G), next(G)          # 和上述中的生成器函数的返回值一致</span></span>
<span class="code-line"><span class="s2">    #（1）生成器(生成器函数/生成器表达式)是单个迭代对象</span></span>
<span class="code-line"><span class="s2">    G = (x ** 2 for x in range(4))</span></span>
<span class="code-line"><span class="s2">    I1 = iter(G)                       # 这里实际上iter(G) = G</span></span>
<span class="code-line"><span class="s2">    next(I1)                           # 输出0</span></span>
<span class="code-line"><span class="s2">    next(G)                            # 输出1</span></span>
<span class="code-line"><span class="s2">    next(I1)                           # 输出4</span></span>
<span class="code-line"><span class="s2">    #（2）生成器不保留迭代后的结果</span></span>
<span class="code-line"><span class="s2">    gen = (i for i in range(4))</span></span>
<span class="code-line"><span class="s2">    2 in gen                           # 返回True</span></span>
<span class="code-line"><span class="s2">    3 in gen                           # 返回True</span></span>
<span class="code-line"><span class="s2">    1 in gen                           # 返回False，其实检测2的时候，1已经就不在生成器中了，即1已经被迭代过了，同理2、3也不在了</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 本地变量是静态检测的</span></span>
<span class="code-line"><span class="s2">    X = 22                             # 全局变量X的声明和定义</span></span>
<span class="code-line"><span class="s2">    def test():</span></span>
<span class="code-line"><span class="s2">        print(X)                       # 如果没有下一语句 则该句合法 打印全局变量X</span></span>
<span class="code-line"><span class="s2">        X = 88                         # 这一语句使得上一语句非法 因为它使得X变成了本地变量 上一句变成了打印一个未定义的本地变量(局部变量)</span></span>
<span class="code-line"><span class="s2">        if False:                      # 即使这样的语句 也会把print语句视为非法语句 因为:</span></span>
<span class="code-line"><span class="s2">            X = 88                     # Python会无视if语句而仍然声明了局部变量X</span></span>
<span class="code-line"><span class="s2">    def test():                        # 改进</span></span>
<span class="code-line"><span class="s2">        global X                       # 声明变量X为全局变量</span></span>
<span class="code-line"><span class="s2">        print(X)                       # 打印全局变量X</span></span>
<span class="code-line"><span class="s2">        X = 88                         # 改变全局变量X</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 函数的默认值是在函数定义的时候实例化的 而不是在调用的时候 例子:</span></span>
<span class="code-line"><span class="s2">    def foo(numbers=[]):               # 这里的[]是可变的</span></span>
<span class="code-line"><span class="s2">        numbers.append(9)    </span></span>
<span class="code-line"><span class="s2">        print(numbers)</span></span>
<span class="code-line"><span class="s2">    foo()                              # first time, like before, [9]</span></span>
<span class="code-line"><span class="s2">    foo()                              # second time, not like before, [9, 9]</span></span>
<span class="code-line"><span class="s2">    foo()                              # third time, not like before too, [9, 9, 9]</span></span>
<span class="code-line"><span class="s2">    # 改进:</span></span>
<span class="code-line"><span class="s2">    def foo(numbers=None):</span></span>
<span class="code-line"><span class="s2">        if numbers is None: numbers = []</span></span>
<span class="code-line"><span class="s2">        numbers.append(9)</span></span>
<span class="code-line"><span class="s2">        print(numbers)</span></span>
<span class="code-line"><span class="s2">    # 另外一个例子 参数的默认值为不可变的:</span></span>
<span class="code-line"><span class="s2">    def foo(count=0):                  # 这里的0是数字, 是不可变的</span></span>
<span class="code-line"><span class="s2">        count += 1</span></span>
<span class="code-line"><span class="s2">        print(count)</span></span>
<span class="code-line"><span class="s2">    foo()                              # 输出1</span></span>
<span class="code-line"><span class="s2">    foo()                              # 还是输出1</span></span>
<span class="code-line"><span class="s2">    foo(3)                             # 输出4</span></span>
<span class="code-line"><span class="s2">    foo()                              # 还是输出1</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;</span><span class="s s-Atom">函数例子----函数例子----函数例子----函数例子----函数例子----函数例子----函数例子----函数例子----函数例子----函数例子----函数例子----函数例子----函数例子</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span><span class="s s-Atom">数学运算类</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    abs(x)                              # 求绝对值，参数可以是整型，也可以是复数，若参数是复数，则返回复数的模</span></span>
<span class="code-line"><span class="s2">    complex([real[, imag]])             # 创建一个复数</span></span>
<span class="code-line"><span class="s2">    divmod(a, b)                        # 分别取商和余数，注意：整型、浮点型都可以</span></span>
<span class="code-line"><span class="s2">    float([x])                          # 将一个字符串或数转换为浮点数。如果无参数将返回0.0</span></span>
<span class="code-line"><span class="s2">    int([x[, base]])                    # 将一个字符串或浮点数转换为int类型，base表示进制</span></span>
<span class="code-line"><span class="s2">    long([x[, base]])                   # 将一个字符串或浮点数转换为long类型</span></span>
<span class="code-line"><span class="s2">    pow(x, y)                           # 返回x的y次幂</span></span>
<span class="code-line"><span class="s2">    range([start], stop[, step])        # 产生一个序列，默认从0开始</span></span>
<span class="code-line"><span class="s2">    round(x[, n])                       # 四舍五入</span></span>
<span class="code-line"><span class="s2">    sum(iterable[, start])              # 对集合求和</span></span>
<span class="code-line"><span class="s2">    oct(x)                              # 将一个数字转化为8进制字符串</span></span>
<span class="code-line"><span class="s2">    hex(x)                              # 将一个数字转换为16进制字符串</span></span>
<span class="code-line"><span class="s2">    chr(i)                              # 返回给定int类型对应的ASCII字符</span></span>
<span class="code-line"><span class="s2">    unichr(i)                           # 返回给定int类型的unicode</span></span>
<span class="code-line"><span class="s2">    ord(c)                              # 返回ASCII字符对应的整数</span></span>
<span class="code-line"><span class="s2">    bin(x)                              # 将整数x转换为二进制字符串</span></span>
<span class="code-line"><span class="s2">    bool([x])                           # 将x转换为Boolean类型</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span><span class="s s-Atom">集合类操作</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    basestring()                        # str和unicode的超类，不能直接调用，可以用作isinstance判断</span></span>
<span class="code-line"><span class="s2">    format(value [, format_spec])       # 格式化输出字符串，格式化的参数顺序从0开始，如“I am {0},I like {1}”</span></span>
<span class="code-line"><span class="s2">    enumerate(sequence[, start=0])      # 返回一个可枚举的对象，注意它有第二个参数</span></span>
<span class="code-line"><span class="s2">    iter(obj[, sentinel])               # 生成一个对象的迭代器，第二个参数表示分隔符</span></span>
<span class="code-line"><span class="s2">    max(iterable[, args...][key])       # 返回集合中的最大值</span></span>
<span class="code-line"><span class="s2">    min(iterable[, args...][key])       # 返回集合中的最小值</span></span>
<span class="code-line"><span class="s2">    dict([arg])                         # 创建数据字典</span></span>
<span class="code-line"><span class="s2">    list([iterable])                    # 将一个集合类转换为另外一个集合类</span></span>
<span class="code-line"><span class="s2">    set()                               # set对象实例化</span></span>
<span class="code-line"><span class="s2">    frozenset([iterable])               # 产生一个不可变的set</span></span>
<span class="code-line"><span class="s2">    tuple([iterable])                   # 生成一个tuple类型</span></span>
<span class="code-line"><span class="s2">    str([object])                       # 转换为string类型</span></span>
<span class="code-line"><span class="s2">    sorted(iterable[, cmp[, key[, reverse]]])             # 集合排序</span></span>
<span class="code-line"><span class="s2">        L = [(&#39;b&#39;,2),(&#39;a&#39;,1),(&#39;c&#39;,3),(&#39;d&#39;,4)]</span></span>
<span class="code-line"><span class="s2">        sorted(L, key=lambda x: x[1]), reverse=True)      # 使用Key参数和reverse参数</span></span>
<span class="code-line"><span class="s2">        sorted(L, key=lambda x: (x[0], x[1]))             # 使用key参数进行多条件排序，即如果x[0]相同，则比较x[1]</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span><span class="s s-Atom">逻辑判断</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    all(iterable)                       # 集合中的元素都为真的时候为真，特别的，若为空串返回为True</span></span>
<span class="code-line"><span class="s2">    any(iterable)                       # 集合中的元素有一个为真的时候为真，特别的，若为空串返回为False</span></span>
<span class="code-line"><span class="s2">    cmp(x, y)                           # 如果x &lt; y ,返回负数；x == y, 返回0；x &gt; y,返回正数</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span><span class="nv">IO操作</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    file(filename [, mode [, bufsize]]) # file类型的构造函数。</span></span>
<span class="code-line"><span class="s2">    input([prompt])                     # 获取用户输入，推荐使用raw_input，因为该函数将不会捕获用户的错误输入</span></span>
<span class="code-line"><span class="s2">    raw_input([prompt])                 # 设置输入，输入都是作为字符串处理</span></span>
<span class="code-line"><span class="s2">    open(name[, mode[, buffering]])     # 打开文件，与file有什么不同？推荐使用open</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span><span class="s s-Atom">其他</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    callable(object)                    # 检查对象object是否可调用</span></span>
<span class="code-line"><span class="s2">    classmethod(func)                   # 用来说明这个func是个类方法</span></span>
<span class="code-line"><span class="s2">    staticmethod(func)                  # 用来说明这个func为静态方法</span></span>
<span class="code-line"><span class="s2">    dir([object])                       # 不带参数时，返回当前范围内的变量、方法和定义的类型列表；带参数时，返回参数的属性、方法列表。</span></span>
<span class="code-line"><span class="s2">    help(obj)                           # 返回obj的帮助信息</span></span>
<span class="code-line"><span class="s2">    eval(expression)                    # 计算表达式expression的值，并返回</span></span>
<span class="code-line"><span class="s2">    exec(str)                           # 将str作为Python语句执行</span></span>
<span class="code-line"><span class="s2">    execfile(filename)                  # 用法类似exec()，不同的是execfile的参数filename为文件名，而exec的参数为字符串。</span></span>
<span class="code-line"><span class="s2">    filter(function, iterable)          # 构造一个序列，等价于[item for item in iterable if function(item)]，function返回值为True或False的函数</span></span>
<span class="code-line"><span class="s2">        list(filter(bool, range(-3, 4)))# 返回[-3, -2, -1, 1, 2, 3], 没有0</span></span>
<span class="code-line"><span class="s2">    hasattr(object, name)               # 判断对象object是否包含名为name的特性</span></span>
<span class="code-line"><span class="s2">    getattr(object, name [, defalut])   # 获取一个类的属性</span></span>
<span class="code-line"><span class="s2">    setattr(object, name, value)        # 设置属性值</span></span>
<span class="code-line"><span class="s2">    delattr(object, name)               # 删除object对象名为name的属性</span></span>
<span class="code-line"><span class="s2">    globals()                           # 返回一个描述当前全局符号表的字典</span></span>
<span class="code-line"><span class="s2">    hash(object)                        # 如果对象object为哈希表类型，返回对象object的哈希值</span></span>
<span class="code-line"><span class="s2">    id(object)                          # 返回对象的唯一标识，一串数字</span></span>
<span class="code-line"><span class="s2">    isinstance(object, classinfo)       # 判断object是否是class的实例</span></span>
<span class="code-line"><span class="s2">        isinstance(1, int)              # 判断是不是int类型</span></span>
<span class="code-line"><span class="s2">        isinstance(1, (int, float))     # isinstance的第二个参数接受一个元组类型</span></span>
<span class="code-line"><span class="s2">    issubclass(class, classinfo)        # 判断class是否为classinfo的子类</span></span>
<span class="code-line"><span class="s2">    locals()                            # 返回当前的变量列表</span></span>
<span class="code-line"><span class="s2">    map(function, iterable, ...)        # 遍历每个元素，执行function操作</span></span>
<span class="code-line"><span class="s2">        list(map(abs, range(-3, 4)))    # 返回[3, 2, 1, 0, 1, 2, 3]</span></span>
<span class="code-line"><span class="s2">    next(iterator[, default])           # 类似于iterator.next()</span></span>
<span class="code-line"><span class="s2">    property([fget[, fset[, fdel[, doc]]]])           # 属性访问的包装类，设置后可以通过c.x=value等来访问setter和getter</span></span>
<span class="code-line"><span class="s2">    reduce(function, iterable[, initializer])         # 合并操作，从第一个开始是前两个参数，然后是前两个的结果与第三个合并进行处理，以此类推</span></span>
<span class="code-line"><span class="s2">        def add(x,y):return x + y </span></span>
<span class="code-line"><span class="s2">        reduce(add, range(1, 11))                     # 返回55 (注:1+2+3+4+5+6+7+8+9+10 = 55)</span></span>
<span class="code-line"><span class="s2">        reduce(add, range(1, 11), 20)                 # 返回75</span></span>
<span class="code-line"><span class="s2">    reload(module)                      # 重新加载模块</span></span>
<span class="code-line"><span class="s2">    repr(object)                        # 将一个对象变幻为可打印的格式</span></span>
<span class="code-line"><span class="s2">    slice(start, stop[, step])          # 产生分片对象</span></span>
<span class="code-line"><span class="s2">    type(object)                        # 返回该object的类型</span></span>
<span class="code-line"><span class="s2">    vars([object])                      # 返回对象的变量名、变量值得字典</span></span>
<span class="code-line"><span class="s2">        a = Class();                    # Class为一个空类</span></span>
<span class="code-line"><span class="s2">        a.name = &#39;qi&#39;, a.age = 9</span></span>
<span class="code-line"><span class="s2">        vars(a)                         # {&#39;name&#39;:&#39;qi&#39;, &#39;age&#39;:9}</span></span>
<span class="code-line"><span class="s2">    zip([iterable, ...])                # 返回对应数组</span></span>
<span class="code-line"><span class="s2">        list(zip([1, 2, 3], [4, 5, 6])) # [(1, 4), (2, 5), (3, 6)]</span></span>
<span class="code-line"><span class="s2">        a = [1, 2, 3],  b = [&quot;</span><span class="s s-Atom">a</span><span class="s2">&quot;, &quot;</span><span class="s s-Atom">b</span><span class="s2">&quot;, &quot;</span><span class="s s-Atom">c</span><span class="s2">&quot;]</span></span>
<span class="code-line"><span class="s2">        z = zip(a, b)                   # 压缩：[(1, &quot;</span><span class="s s-Atom">a</span><span class="s2">&quot;), (2, &quot;</span><span class="s s-Atom">b</span><span class="s2">&quot;), (3, &quot;</span><span class="s s-Atom">c</span><span class="s2">&quot;)]</span></span>
<span class="code-line"><span class="s2">        zip(*z)                         # 解压缩：[(1, 2, 3), (&quot;</span><span class="s s-Atom">a</span><span class="s2">&quot;, &quot;</span><span class="s s-Atom">b</span><span class="s2">&quot;, &quot;</span><span class="s s-Atom">c</span><span class="s2">&quot;)]</span></span>
<span class="code-line"><span class="s2">    unicode(string, encoding, errors)   # 将字符串string转化为unicode形式，string为encoded string。</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;</span><span class="s s-Atom">模块Moudle----模块Moudle----模块Moudle----模块Moudle----模块Moudle----模块Moudle----模块Moudle----模块Moudle----模块Moudle----模块Moudle----模块Moudle</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- Python模块搜索路径:</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="nf">程序的主目录</span>    <span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="nv">PYTHONPATH目录</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="nf">标准链接库目录</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="s s-Atom">任何</span><span class="p">.</span><span class="s s-Atom">pth文件的内容</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">#-- 查看全部的模块搜索路径</span></span>
<span class="code-line"><span class="s2">    import sys</span></span>
<span class="code-line"><span class="s2">    sys.path</span></span>
<span class="code-line"><span class="s2">    sys.argv                            # 获得脚本的参数</span></span>
<span class="code-line"><span class="s2">    sys.builtin_module_names            # 查找内建模块</span></span>
<span class="code-line"><span class="s2">    sys.platform                        # 返回当前平台 出现如： &quot;</span><span class="s s-Atom">win32</span><span class="s2">&quot; &quot;</span><span class="s s-Atom">linux</span><span class="s2">&quot; &quot;</span><span class="s s-Atom">darwin</span><span class="s2">&quot;等</span></span>
<span class="code-line"><span class="s2">    sys.modules                         # 查找已导入的模块</span></span>
<span class="code-line"><span class="s2">    sys.modules.keys()</span></span>
<span class="code-line"><span class="s2">    sys.stdout                          # stdout 和 stderr 都是类文件对象，但是它们都是只写的。它们都没有 read 方法，只有 write 方法</span></span>
<span class="code-line"><span class="s2">    sys.stdout.write(&quot;</span><span class="s s-Atom">hello</span><span class="err">&quot;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">sys</span><span class="p">.</span><span class="s s-Atom">stderr</span></span>
<span class="code-line">    <span class="s s-Atom">sys</span><span class="p">.</span><span class="s s-Atom">stdin</span>   </span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 模块的使用代码</span></span>
<span class="code-line">    <span class="s s-Atom">import</span> <span class="s s-Atom">module1</span><span class="p">,</span> <span class="s s-Atom">module2</span>             <span class="s s-Atom">#</span> <span class="s s-Atom">导入module1</span> <span class="s s-Atom">使用module1</span><span class="p">.</span><span class="nf">printer</span><span class="p">()</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="s s-Atom">module1</span> <span class="s s-Atom">import</span> <span class="s s-Atom">printer</span>         <span class="s s-Atom">#</span> <span class="s s-Atom">导入module1中的printer变量</span> <span class="nf">使用printer</span><span class="p">()</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="s s-Atom">module1</span> <span class="s s-Atom">import</span> <span class="o">*</span>               <span class="s s-Atom">#</span> <span class="s s-Atom">导入module1中的全部变量</span> <span class="s s-Atom">使用不必添加module1前缀</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 重载模块reload: 这是一个内置函数 而不是一条语句</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="s s-Atom">imp</span> <span class="s s-Atom">import</span> <span class="s s-Atom">reload</span></span>
<span class="code-line">    <span class="nf">reload</span><span class="p">(</span><span class="s s-Atom">module</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 模块的包导入:使用点号(.)而不是路径(dir1\dir2)进行导入</span></span>
<span class="code-line">    <span class="s s-Atom">import</span> <span class="s s-Atom">dir1</span><span class="p">.</span><span class="s s-Atom">dir2</span><span class="p">.</span><span class="o">mod</span>                <span class="s s-Atom">#</span> <span class="nf">d导入包</span><span class="p">(</span><span class="s s-Atom">目录</span><span class="p">)</span><span class="s s-Atom">dir1中的包dir2中的mod模块</span> <span class="s s-Atom">此时dir1必须在Python可搜索路径中</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="s s-Atom">dir1</span><span class="p">.</span><span class="s s-Atom">dir2</span><span class="p">.</span><span class="o">mod</span> <span class="s s-Atom">import</span> <span class="o">*</span>         <span class="s s-Atom">#</span> <span class="s s-Atom">from语法的包导入</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- __init__.py包文件:每个导入的包中都应该包含这么一个文件</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    该文件可以为空</span></span>
<span class="code-line"><span class="s2">    首次进行包导入时 该文件会自动执行</span></span>
<span class="code-line"><span class="s2">    高级功能:在该文件中使用__all__列表来定义包(目录)以from*的形式导入时 需要导入什么</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 包相对导入:使用点号(.) 只能使用from语句</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="p">.</span> <span class="s s-Atom">import</span> <span class="s s-Atom">spam</span>                  <span class="s s-Atom">#</span> <span class="s s-Atom">导入当前目录下的spam模块（错误:</span> <span class="s s-Atom">当前目录下的模块</span><span class="p">,</span> <span class="s s-Atom">直接导入即可）</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="p">.</span><span class="s s-Atom">spam</span> <span class="s s-Atom">import</span> <span class="s s-Atom">name</span>              <span class="s s-Atom">#</span> <span class="s s-Atom">导入当前目录下的spam模块的name属性（错误:</span> <span class="s s-Atom">当前目录下的模块</span><span class="p">,</span> <span class="s s-Atom">直接导入即可，不用加</span><span class="p">.</span><span class="s s-Atom">）</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="p">..</span> <span class="s s-Atom">import</span> <span class="s s-Atom">spam</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">导入当前目录的父目录下的spam模块</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 包相对导入与普通导入的区别</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="s s-Atom">string</span> <span class="s s-Atom">import</span> <span class="o">*</span>                <span class="s s-Atom">#</span> <span class="s s-Atom">这里导入的string模块为sys</span><span class="p">.</span><span class="s s-Atom">path路径上的</span> <span class="nf">而不是本目录下的string模块</span><span class="p">(</span><span class="s s-Atom">如果存在也不是</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="p">.</span><span class="s s-Atom">string</span> <span class="s s-Atom">import</span> <span class="o">*</span>               <span class="s s-Atom">#</span> <span class="nf">这里导入的string模块为本目录下的</span><span class="p">(</span><span class="s s-Atom">不存在则导入失败</span><span class="p">)</span> <span class="s s-Atom">而不是sys</span><span class="p">.</span><span class="s s-Atom">path路径上的</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 模块数据隐藏:最小化from*的破坏</span></span>
<span class="code-line">    <span class="k">_</span><span class="nv">X</span>                                  <span class="s s-Atom">#</span> <span class="s s-Atom">变量名前加下划线可以防止from*导入时该变量名被复制出去</span></span>
<span class="code-line">    <span class="k">__</span><span class="s s-Atom">all__</span> <span class="o">=</span> <span class="p">[</span><span class="s s-Atom">&#39;x&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;x1&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;x2&#39;</span><span class="p">]</span>         <span class="s s-Atom">#</span> <span class="s s-Atom">使用__all__列表指定from*</span><span class="nf">时复制出去的变量名</span><span class="p">(</span><span class="s s-Atom">变量名在列表中为字符串形式</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 可以使用__name__进行模块的单元测试:当模块为顶层执行文件时值为&#39;__main__&#39; 当模块被导入时为模块名</span></span>
<span class="code-line">    <span class="s s-Atom">if</span> <span class="k">__</span><span class="s s-Atom">name__</span> <span class="o">==</span> <span class="s s-Atom">&#39;__main__&#39;:</span></span>
<span class="code-line">        <span class="s s-Atom">doSomething</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">模块属性中还有其他属性，例如：</span></span>
<span class="code-line">    <span class="k">__</span><span class="s s-Atom">doc__</span>                             <span class="s s-Atom">#</span> <span class="s s-Atom">模块的说明文档</span></span>
<span class="code-line">    <span class="k">__</span><span class="s s-Atom">file__</span>                            <span class="s s-Atom">#</span> <span class="s s-Atom">模块文件的文件名，包括全路径</span></span>
<span class="code-line">    <span class="k">__</span><span class="s s-Atom">name__</span>                            <span class="s s-Atom">#</span> <span class="s s-Atom">主文件或者被导入文件</span></span>
<span class="code-line">    <span class="k">__</span><span class="s s-Atom">package__</span>                         <span class="s s-Atom">#</span> <span class="s s-Atom">模块所在的包</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- import语句from语句的as扩展</span></span>
<span class="code-line">    <span class="s s-Atom">import</span> <span class="s s-Atom">modulename</span> <span class="s s-Atom">as</span> <span class="s s-Atom">name</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="s s-Atom">modulename</span> <span class="s s-Atom">import</span> <span class="s s-Atom">attrname</span> <span class="s s-Atom">as</span> <span class="s s-Atom">name</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 得到模块属性的几种方法 假设为了得到name属性的值</span></span>
<span class="code-line">    <span class="nv">M</span><span class="p">.</span><span class="s s-Atom">name</span></span>
<span class="code-line">    <span class="nv">M</span><span class="p">.</span><span class="k">__</span><span class="s s-Atom">dict__</span><span class="p">[</span><span class="s s-Atom">&#39;name&#39;</span><span class="p">]</span></span>
<span class="code-line">    <span class="s s-Atom">sys</span><span class="p">.</span><span class="s s-Atom">modules</span><span class="p">[</span><span class="s s-Atom">&#39;M&#39;</span><span class="p">].</span><span class="s s-Atom">name</span></span>
<span class="code-line">    <span class="nf">getattr</span><span class="p">(</span><span class="nv">M</span><span class="p">,</span> <span class="s s-Atom">&#39;name&#39;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;类与面向对象----类与面向对象----类与面向对象----类与面向对象----类与面向对象----类与面向对象----类与面向对象----类与面向对象----类与面向对象----类与面向对象&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 最普通的类</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">C1</span><span class="p">(</span><span class="nv">C2</span><span class="p">,</span> <span class="nv">C3</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">spam</span> <span class="o">=</span> <span class="mi">42</span>                       <span class="s s-Atom">#</span> <span class="s s-Atom">数据属性</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">init__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">name</span><span class="p">)</span><span class="s s-Atom">:</span>       <span class="s s-Atom">#</span> <span class="s s-Atom">函数属性:构造函数</span></span>
<span class="code-line">            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">name</span> <span class="o">=</span> <span class="s s-Atom">name</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">del__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span><span class="s s-Atom">:</span>              <span class="s s-Atom">#</span> <span class="s s-Atom">函数属性:析构函数</span></span>
<span class="code-line">            <span class="nf">print</span><span class="p">(</span><span class="s2">&quot;goodbey &quot;</span><span class="p">,</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">name</span><span class="p">)</span>    </span>
<span class="code-line">    <span class="nv">I1</span> <span class="o">=</span> <span class="nv">C1</span><span class="p">(</span><span class="s s-Atom">&#39;bob&#39;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Python的类没有基于参数的函数重载</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">FirstClass</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="nf">test</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">string</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">string</span><span class="p">)</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="nf">test</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span><span class="s s-Atom">:</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">此时类中只有一个test函数</span> <span class="nf">即后者test</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span> <span class="s s-Atom">它覆盖掉前者带参数的test函数</span></span>
<span class="code-line">            <span class="nf">print</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 子类扩展超类: 尽量调用超类的方法</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">Manager</span><span class="p">(</span><span class="nv">Person</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="nf">giveRaise</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">percent</span><span class="p">,</span> <span class="s s-Atom">bonus</span> <span class="o">=</span> <span class="mf">.10</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">pay</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">pay*</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="s s-Atom">percent</span> <span class="o">+</span> <span class="s s-Atom">bonus</span><span class="p">))</span>     <span class="s s-Atom">#</span> <span class="s s-Atom">不好的方式</span> <span class="s s-Atom">复制粘贴超类代码</span></span>
<span class="code-line">            <span class="nv">Person</span><span class="p">.</span><span class="nf">giveRaise</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">percent</span> <span class="o">+</span> <span class="s s-Atom">bonus</span><span class="p">)</span>            <span class="s s-Atom">#</span> <span class="s s-Atom">好的方式</span> <span class="s s-Atom">尽量调用超类方法</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 类内省工具</span></span>
<span class="code-line">    <span class="s s-Atom">bob</span> <span class="o">=</span> <span class="nv">Person</span><span class="p">(</span><span class="s s-Atom">&#39;bob&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">bob</span><span class="p">.</span><span class="k">__</span><span class="s s-Atom">class__</span>                       <span class="s s-Atom">#</span> <span class="o">&lt;</span><span class="s s-Atom">class</span> <span class="s s-Atom">&#39;Person&#39;</span><span class="o">&gt;</span></span>
<span class="code-line">    <span class="s s-Atom">bob</span><span class="p">.</span><span class="k">__</span><span class="s s-Atom">class__</span><span class="p">.</span><span class="k">__</span><span class="s s-Atom">name__</span>              <span class="s s-Atom">#</span> <span class="s s-Atom">&#39;Person&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">bob</span><span class="p">.</span><span class="k">__</span><span class="s s-Atom">dict__</span>                        <span class="s s-Atom">#</span> <span class="p">{</span><span class="s s-Atom">&#39;pay&#39;:</span><span class="mi">0</span><span class="p">,</span> <span class="s s-Atom">&#39;name&#39;:&#39;bob&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;job&#39;:&#39;Manager&#39;</span><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 返回1中 数据属性spam是属于类 而不是对象</span></span>
<span class="code-line">    <span class="nv">I1</span> <span class="o">=</span> <span class="nv">C1</span><span class="p">(</span><span class="s s-Atom">&#39;bob&#39;</span><span class="p">);</span> <span class="nv">I2</span> <span class="o">=</span> <span class="nv">C2</span><span class="p">(</span><span class="s s-Atom">&#39;tom&#39;</span><span class="p">)</span>      <span class="s s-Atom">#</span> <span class="s s-Atom">此时I1和I2的spam都为42</span> <span class="s s-Atom">但是都是返回的C1的spam属性</span></span>
<span class="code-line">    <span class="nv">C1</span><span class="p">.</span><span class="s s-Atom">spam</span> <span class="o">=</span> <span class="mi">24</span>                        <span class="s s-Atom">#</span> <span class="s s-Atom">此时I1和I2的spam都为24</span></span>
<span class="code-line">    <span class="nv">I1</span><span class="p">.</span><span class="s s-Atom">spam</span> <span class="o">=</span> <span class="mi">3</span>                         <span class="s s-Atom">#</span> <span class="s s-Atom">此时I1新增自有属性spam</span> <span class="s s-Atom">值为2</span> <span class="nv">I2和C1的spam还都为24</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 类方法调用的两种方式</span></span>
<span class="code-line">    <span class="s s-Atom">instance</span><span class="p">.</span><span class="nf">method</span><span class="p">(</span><span class="s s-Atom">arg</span><span class="p">...)</span></span>
<span class="code-line">    <span class="s s-Atom">class</span><span class="p">.</span><span class="nf">method</span><span class="p">(</span><span class="s s-Atom">instance</span><span class="p">,</span> <span class="s s-Atom">arg</span><span class="p">...)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 抽象超类的实现方法</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="s s-Atom">某个函数中调用未定义的函数</span> <span class="s s-Atom">子类中定义该函数</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="nf">delegate</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="s s-Atom">self</span><span class="p">.</span><span class="nf">action</span><span class="p">()</span>               <span class="s s-Atom">#</span> <span class="s s-Atom">本类中不定义action函数</span> <span class="s s-Atom">所以使用delegate函数时就会出错</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="s s-Atom">定义action函数</span> <span class="s s-Atom">但是返回异常</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="nf">action</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="s s-Atom">raise</span> <span class="nv">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;action must be defined&quot;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="s s-Atom">上述的两种方法还都可以定义实例对象</span> <span class="s s-Atom">实际上可以利用@装饰器语法生成不能定义的抽象超类</span></span>
<span class="code-line">        <span class="s s-Atom">from</span> <span class="s s-Atom">abc</span> <span class="s s-Atom">import</span> <span class="nv">ABCMeta</span><span class="p">,</span> <span class="s s-Atom">abstractmethod</span></span>
<span class="code-line">        <span class="s s-Atom">class</span> <span class="nv">Super</span><span class="p">(</span><span class="s s-Atom">metaclass</span> <span class="o">=</span> <span class="nv">ABCMeta</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="s s-Atom">@abstractmethod</span></span>
<span class="code-line">            <span class="s s-Atom">def</span> <span class="nf">action</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span><span class="s s-Atom">:</span> <span class="s s-Atom">pass</span></span>
<span class="code-line">        <span class="s s-Atom">x</span> <span class="o">=</span> <span class="nv">Super</span><span class="p">()</span>                     <span class="s s-Atom">#</span> <span class="s s-Atom">返回</span> <span class="nv">TypeError</span><span class="s s-Atom">:</span> <span class="nv">Can</span><span class="s s-Atom">&#39;t instantiate abstract class Super with abstract methods action</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s s-Atom">#-- # OOP和继承: &quot;is-a&quot;的关系</span></span>
<span class="code-line"><span class="s s-Atom">    class A(B):</span></span>
<span class="code-line"><span class="s s-Atom">        pass</span></span>
<span class="code-line"><span class="s s-Atom">    a = A()</span></span>
<span class="code-line"><span class="s s-Atom">    isinstance(a, B)                    # 返回True, A是B的子类 a也是B的一种</span></span>
<span class="code-line"><span class="s s-Atom">    # OOP和组合: &quot;has-a&quot;的关系</span></span>
<span class="code-line"><span class="s s-Atom">    pass</span></span>
<span class="code-line"><span class="s s-Atom">    # OOP和委托: &quot;包装&quot;对象 在Python中委托通常是以&quot;__getattr__&quot;钩子方法实现的, 这个方法会拦截对不存在属性的读取</span></span>
<span class="code-line"><span class="s s-Atom">    # 包装类(或者称为代理类)可以使用__getattr__把任意读取转发给被包装的对象</span></span>
<span class="code-line"><span class="s s-Atom">    class wrapper:</span></span>
<span class="code-line"><span class="s s-Atom">        def __init__(self, object):</span></span>
<span class="code-line"><span class="s s-Atom">            self.wrapped = object</span></span>
<span class="code-line"><span class="s s-Atom">        def __getattr(self, attrname):</span></span>
<span class="code-line"><span class="s s-Atom">            print(&#39;</span><span class="nv">Trace</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;, attrname)</span></span>
<span class="code-line"><span class="s s-Atom">            return getattr(self.wrapped, attrname)</span></span>
<span class="code-line"><span class="s s-Atom">    # 注:这里使用getattr(X, N)内置函数以变量名字符串N从包装对象X中取出属性 类似于X.__dict__[N]</span></span>
<span class="code-line"><span class="s s-Atom">    x = wrapper([1, 2, 3])</span></span>
<span class="code-line"><span class="s s-Atom">    x.append(4)                         # 返回 &quot;Trace: append&quot; [1, 2, 3, 4]</span></span>
<span class="code-line"><span class="s s-Atom">    x = wrapper({&#39;a&#39;:1, &#39;b&#39;:2})</span></span>
<span class="code-line"><span class="s s-Atom">    list(x.keys())                      # 返回 &quot;Trace: keys&quot; [&#39;a&#39;, &#39;b&#39;]</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s s-Atom">#-- 类的伪私有属性:使用__attr</span></span>
<span class="code-line"><span class="s s-Atom">    class C1:</span></span>
<span class="code-line"><span class="s s-Atom">        def __init__(self, name):</span></span>
<span class="code-line"><span class="s s-Atom">            self.__name = name          # 此时类的__name属性为伪私有属性 原理 它会自动变成self._C1__name = name</span></span>
<span class="code-line"><span class="s s-Atom">        def __str__(self):</span></span>
<span class="code-line"><span class="s s-Atom">            return &#39;self</span><span class="p">.</span><span class="s s-Atom">name</span> <span class="o">=</span> <span class="c1">%s&#39; % self.__name</span></span>
<span class="code-line">    <span class="nv">I</span> <span class="o">=</span> <span class="nv">C1</span><span class="p">(</span><span class="s s-Atom">&#39;tom&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="nf">print</span><span class="p">(</span><span class="nv">I</span><span class="p">)</span>                            <span class="s s-Atom">#</span> <span class="s s-Atom">返回</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">name</span> <span class="o">=</span> <span class="s s-Atom">tom</span></span>
<span class="code-line">    <span class="nv">I</span><span class="p">.</span><span class="k">__</span><span class="s s-Atom">name</span> <span class="o">=</span> <span class="s s-Atom">&#39;jeey&#39;</span>                   <span class="s s-Atom">#</span> <span class="s s-Atom">这里无法访问</span> <span class="k">__</span><span class="s s-Atom">name为伪私有属性</span></span>
<span class="code-line">    <span class="nv">I</span><span class="p">.</span><span class="k">_</span><span class="nv">C1__name</span> <span class="o">=</span> <span class="s s-Atom">&#39;jeey&#39;</span>                <span class="s s-Atom">#</span> <span class="s s-Atom">这里可以修改成功</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">name</span> <span class="o">=</span> <span class="s s-Atom">jeey</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 类方法是对象:无绑定类方法对象 / 绑定实例方法对象</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">Spam</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="nf">doit</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">message</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">message</span><span class="p">)</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="nf">selfless</span><span class="p">(</span><span class="s s-Atom">message</span><span class="p">)</span></span>
<span class="code-line">            <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">message</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">obj</span> <span class="o">=</span> <span class="nv">Spam</span><span class="p">()</span></span>
<span class="code-line">    <span class="s s-Atom">x</span> <span class="o">=</span> <span class="s s-Atom">obj</span><span class="p">.</span><span class="s s-Atom">doit</span>                        <span class="s s-Atom">#</span> <span class="s s-Atom">类的绑定方法对象</span> <span class="s s-Atom">实例</span> <span class="o">+</span> <span class="s s-Atom">函数</span></span>
<span class="code-line">    <span class="nf">x</span><span class="p">(</span><span class="s s-Atom">&#39;hello world&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">x</span> <span class="o">=</span> <span class="nv">Spam</span><span class="p">.</span><span class="s s-Atom">doit</span>                       <span class="s s-Atom">#</span> <span class="s s-Atom">类的无绑定方法对象</span> <span class="s s-Atom">类名</span> <span class="o">+</span> <span class="s s-Atom">函数</span></span>
<span class="code-line">    <span class="nf">x</span><span class="p">(</span><span class="s s-Atom">obj</span><span class="p">,</span> <span class="s s-Atom">&#39;hello world&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">x</span> <span class="o">=</span> <span class="nv">Spam</span><span class="p">.</span><span class="s s-Atom">selfless</span>                   <span class="s s-Atom">#</span> <span class="s s-Atom">类的无绑定方法是函数</span> <span class="s s-Atom">在3</span><span class="mf">.0</span><span class="s s-Atom">之前无效</span></span>
<span class="code-line">    <span class="nf">x</span><span class="p">(</span><span class="s s-Atom">&#39;hello world&#39;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 获取对象信息: 属性和方法</span></span>
<span class="code-line">    <span class="s s-Atom">a</span> <span class="o">=</span> <span class="nv">MyObject</span><span class="p">()</span></span>
<span class="code-line">    <span class="nf">dir</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">)</span>                              <span class="s s-Atom">#</span> <span class="s s-Atom">使用dir函数</span></span>
<span class="code-line">    <span class="nf">hasattr</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">,</span> <span class="s s-Atom">&#39;x&#39;</span><span class="p">)</span>                     <span class="s s-Atom">#</span> <span class="s s-Atom">测试是否有x属性或方法</span> <span class="s s-Atom">即a</span><span class="p">.</span><span class="s s-Atom">x是否已经存在</span></span>
<span class="code-line">    <span class="nf">setattr</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">,</span> <span class="s s-Atom">&#39;y&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">)</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">设置属性或方法</span> <span class="s s-Atom">等同于a</span><span class="p">.</span><span class="s s-Atom">y</span> <span class="o">=</span> <span class="mi">19</span></span>
<span class="code-line">    <span class="nf">getattr</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">,</span> <span class="s s-Atom">&#39;z&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>                  <span class="s s-Atom">#</span> <span class="s s-Atom">获取属性或方法</span> <span class="s s-Atom">如果属性不存在</span> <span class="s s-Atom">则返回默认值0</span></span>
<span class="code-line">    <span class="s s-Atom">#这里有个小技巧，setattr可以设置一个不能访问到的属性，即只能用getattr获取</span></span>
<span class="code-line">    <span class="nf">setattr</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">,</span> <span class="s2">&quot;can&#39;t touch&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>      <span class="s s-Atom">#</span> <span class="s s-Atom">这里的属性名带有空格，不能直接访问</span></span>
<span class="code-line">    <span class="nf">getattr</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">,</span> <span class="s2">&quot;can&#39;t touch&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>        <span class="s s-Atom">#</span> <span class="s s-Atom">但是可以用getattr获取</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 为类动态绑定属性或方法: MethodType方法</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">一般创建了一个class的实例后</span><span class="p">,</span> <span class="s s-Atom">可以给该实例绑定任何属性和方法</span><span class="p">,</span> <span class="s s-Atom">这就是动态语言的灵活性</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">Student</span><span class="p">(</span><span class="s s-Atom">object</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">pass</span></span>
<span class="code-line">    <span class="s s-Atom">s</span> <span class="o">=</span> <span class="nv">Student</span><span class="p">()</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="s s-Atom">name</span> <span class="o">=</span> <span class="s s-Atom">&#39;Michael&#39;</span>                  <span class="s s-Atom">#</span> <span class="s s-Atom">动态给实例绑定一个属性</span></span>
<span class="code-line">    <span class="s s-Atom">def</span> <span class="nf">set_age</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">age</span><span class="p">)</span><span class="s s-Atom">:</span>             <span class="s s-Atom">#</span> <span class="s s-Atom">定义一个函数作为实例方法</span></span>
<span class="code-line">        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">age</span> <span class="o">=</span> <span class="s s-Atom">age</span></span>
<span class="code-line">    <span class="s s-Atom">from</span> <span class="s s-Atom">types</span> <span class="s s-Atom">import</span> <span class="nv">MethodType</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="s s-Atom">set_age</span> <span class="o">=</span> <span class="nv">MethodType</span><span class="p">(</span><span class="s s-Atom">set_age</span><span class="p">,</span> <span class="s s-Atom">s</span><span class="p">)</span>  <span class="s s-Atom">#</span> <span class="s s-Atom">给实例绑定一个方法</span> <span class="s s-Atom">类的其他实例不受此影响</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">set_age</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>                       <span class="s s-Atom">#</span> <span class="s s-Atom">调用实例方法</span></span>
<span class="code-line">    <span class="nv">Student</span><span class="p">.</span><span class="s s-Atom">set_age</span> <span class="o">=</span> <span class="nv">MethodType</span><span class="p">(</span><span class="s s-Atom">set_age</span><span class="p">,</span> <span class="nv">Student</span><span class="p">)</span>    <span class="s s-Atom">#</span> <span class="s s-Atom">为类绑定一个方法</span> <span class="s s-Atom">类的所有实例都拥有该方法</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;类的高级话题----类的高级话题----类的高级话题----类的高级话题----类的高级话题----类的高级话题----类的高级话题----类的高级话题----类的高级话题----类的高级话题&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 多重继承: &quot;混合类&quot;, 搜索方式&quot;从下到上 从左到右 广度优先&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">A</span><span class="p">(</span><span class="nv">B</span><span class="p">,</span> <span class="nv">C</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">pass</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 类的继承和子类的初始化</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="mf">1.</span><span class="s s-Atom">子类定义了__init__方法时，若未显示调用基类__init__方法，python不会帮你调用。</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="mf">2.</span><span class="s s-Atom">子类未定义__init__方法时，python会自动帮你调用首个基类的__init__方法，注意是首个。</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="mf">3.</span><span class="s s-Atom">子类显示调用基类的初始化函数：</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">FooParent</span><span class="p">(</span><span class="s s-Atom">object</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">init__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">a</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">parent</span> <span class="o">=</span> <span class="s s-Atom">&#39;I\&#39;m</span> <span class="s s-Atom">the</span> <span class="nv">Parent</span><span class="p">.</span><span class="s s-Atom">&#39;</span></span>
<span class="code-line"><span class="s s-Atom">            print(&#39;</span><span class="nv">Parent</span><span class="s s-Atom">:a=&#39; + str(a))</span></span>
<span class="code-line"><span class="s s-Atom">        def bar(self, message):</span></span>
<span class="code-line"><span class="s s-Atom">            print(message + &#39;</span> <span class="s s-Atom">from</span> <span class="nv">Parent</span><span class="s s-Atom">&#39;)</span></span>
<span class="code-line"><span class="s s-Atom">    class FooChild(FooParent):</span></span>
<span class="code-line"><span class="s s-Atom">        def __init__(self, a):</span></span>
<span class="code-line"><span class="s s-Atom">            FooParent.__init__(self, a)</span></span>
<span class="code-line"><span class="s s-Atom">            print(&#39;</span><span class="nv">Child</span><span class="s s-Atom">:a=&#39; + str(a))</span></span>
<span class="code-line"><span class="s s-Atom">        def bar(self, message):</span></span>
<span class="code-line"><span class="s s-Atom">            FooParent.bar(self, message)</span></span>
<span class="code-line"><span class="s s-Atom">            print(message + &#39;</span> <span class="s s-Atom">from</span> <span class="nv">Child</span><span class="s s-Atom">&#39;)</span></span>
<span class="code-line"><span class="s s-Atom">    fooChild = FooChild(10)</span></span>
<span class="code-line"><span class="s s-Atom">    fooChild.bar(&#39;</span><span class="nv">HelloWorld</span><span class="s s-Atom">&#39;)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s s-Atom">#-- #实例方法 / 静态方法 / 类方法</span></span>
<span class="code-line"><span class="s s-Atom">    class Methods:</span></span>
<span class="code-line"><span class="s s-Atom">        def imeth(self, x): print(self, x)      # 实例方法：传入的是实例和数据，操作的是实例的属性</span></span>
<span class="code-line"><span class="s s-Atom">        def smeth(x): print(x)                  # 静态方法：只传入数据 不传入实例，操作的是类的属性而不是实例的属性</span></span>
<span class="code-line"><span class="s s-Atom">        def cmeth(cls, x): print(cls, x)        # 类方法：传入的是类对象和数据</span></span>
<span class="code-line"><span class="s s-Atom">        smeth = staticmethod(smeth)             # 调用内置函数，也可以使用@staticmethod</span></span>
<span class="code-line"><span class="s s-Atom">        cmeth = classmethod(cmeth)              # 调用内置函数，也可以使用@classmethod</span></span>
<span class="code-line"><span class="s s-Atom">    obj = Methods()</span></span>
<span class="code-line"><span class="s s-Atom">    obj.imeth(1)                                # 实例方法调用 &lt;__main__.Methods object...&gt; 1</span></span>
<span class="code-line"><span class="s s-Atom">    Methods.imeth(obj, 2)                       # &lt;__main__.Methods object...&gt; 2</span></span>
<span class="code-line"><span class="s s-Atom">    Methods.smeth(3)                            # 静态方法调用 3</span></span>
<span class="code-line"><span class="s s-Atom">    obj.smeth(4)                                # 这里可以使用实例进行调用</span></span>
<span class="code-line"><span class="s s-Atom">    Methods.cmeth(5)                            # 类方法调用 &lt;class &#39;</span><span class="k">__</span><span class="s s-Atom">main__</span><span class="p">.</span><span class="nv">Methods</span><span class="s s-Atom">&#39;&gt; 5</span></span>
<span class="code-line"><span class="s s-Atom">    obj.cmeth(6)                                # &lt;class &#39;</span><span class="k">__</span><span class="s s-Atom">main__</span><span class="p">.</span><span class="nv">Methods</span><span class="s s-Atom">&#39;&gt; 6</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s s-Atom">#-- 函数装饰器:是它后边的函数的运行时的声明 由@符号以及后边紧跟的&quot;元函数&quot;(metafunction)组成</span></span>
<span class="code-line"><span class="s s-Atom">        @staticmethod</span></span>
<span class="code-line"><span class="s s-Atom">        def smeth(x): print(x)</span></span>
<span class="code-line"><span class="s s-Atom">    # 等同于:</span></span>
<span class="code-line"><span class="s s-Atom">        def smeth(x): print(x)</span></span>
<span class="code-line"><span class="s s-Atom">        smeth = staticmethod(smeth)</span></span>
<span class="code-line"><span class="s s-Atom">    # 同理</span></span>
<span class="code-line"><span class="s s-Atom">        @classmethod</span></span>
<span class="code-line"><span class="s s-Atom">        def cmeth(cls, x): print(x)</span></span>
<span class="code-line"><span class="s s-Atom">    # 等同于</span></span>
<span class="code-line"><span class="s s-Atom">        def cmeth(cls, x): print(x)</span></span>
<span class="code-line"><span class="s s-Atom">        cmeth = classmethod(cmeth)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s s-Atom">#-- 类修饰器:是它后边的类的运行时的声明 由@符号以及后边紧跟的&quot;元函数&quot;(metafunction)组成</span></span>
<span class="code-line"><span class="s s-Atom">        def decorator(aClass):.....</span></span>
<span class="code-line"><span class="s s-Atom">        @decorator</span></span>
<span class="code-line"><span class="s s-Atom">        class C:....</span></span>
<span class="code-line"><span class="s s-Atom">    # 等同于:</span></span>
<span class="code-line"><span class="s s-Atom">        class C:....</span></span>
<span class="code-line"><span class="s s-Atom">        C = decorator(C)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s s-Atom">#-- 限制class属性: __slots__属性</span></span>
<span class="code-line"><span class="s s-Atom">    class Student:</span></span>
<span class="code-line"><span class="s s-Atom">        __slots__ = (&#39;name&#39;, &#39;age&#39;)             # 限制Student及其实例只能拥有name和age属性</span></span>
<span class="code-line"><span class="s s-Atom">    # __slots__属性只对当前类起作用, 对其子类不起作用</span></span>
<span class="code-line"><span class="s s-Atom">    # __slots__属性能够节省内存</span></span>
<span class="code-line"><span class="s s-Atom">    # __slots__属性可以为列表list，或者元组tuple</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s s-Atom">#-- 类属性高级话题: @property</span></span>
<span class="code-line"><span class="s s-Atom">    # 假设定义了一个类:C，该类必须继承自object类，有一私有变量_x</span></span>
<span class="code-line"><span class="s s-Atom">    class C(object):</span></span>
<span class="code-line"><span class="s s-Atom">        def __init__(self):</span></span>
<span class="code-line"><span class="s s-Atom">            self.__x = None</span></span>
<span class="code-line"><span class="s s-Atom">    # 第一种使用属性的方法</span></span>
<span class="code-line"><span class="s s-Atom">        def getx(self):</span></span>
<span class="code-line"><span class="s s-Atom">            return self.__x</span></span>
<span class="code-line"><span class="s s-Atom">        def setx(self, value):</span></span>
<span class="code-line"><span class="s s-Atom">            self.__x = value</span></span>
<span class="code-line"><span class="s s-Atom">        def delx(self):</span></span>
<span class="code-line"><span class="s s-Atom">            del self.__x</span></span>
<span class="code-line"><span class="s s-Atom">        x = property(getx, setx, delx, &#39;&#39;)</span></span>
<span class="code-line"><span class="s s-Atom">    # property函数原型为property(fget=None,fset=None,fdel=None,doc=None)</span></span>
<span class="code-line"><span class="s s-Atom">    # 使用</span></span>
<span class="code-line"><span class="s s-Atom">    c = C()</span></span>
<span class="code-line"><span class="s s-Atom">    c.x = 100                         # 自动调用setx方法</span></span>
<span class="code-line"><span class="s s-Atom">    y = c.x                           # 自动调用getx方法</span></span>
<span class="code-line"><span class="s s-Atom">    del c.x                           # 自动调用delx方法</span></span>
<span class="code-line"><span class="s s-Atom">    # 第二种方法使用属性的方法</span></span>
<span class="code-line"><span class="s s-Atom">        @property</span></span>
<span class="code-line"><span class="s s-Atom">        def x(self):</span></span>
<span class="code-line"><span class="s s-Atom">            return self.__x</span></span>
<span class="code-line"><span class="s s-Atom">        @x.setter</span></span>
<span class="code-line"><span class="s s-Atom">        def x(self, value):</span></span>
<span class="code-line"><span class="s s-Atom">           self.__x = value</span></span>
<span class="code-line"><span class="s s-Atom">        @x.deleter</span></span>
<span class="code-line"><span class="s s-Atom">        def x(self):</span></span>
<span class="code-line"><span class="s s-Atom">           del self.__x</span></span>
<span class="code-line"><span class="s s-Atom">    # 使用</span></span>
<span class="code-line"><span class="s s-Atom">    c = C()</span></span>
<span class="code-line"><span class="s s-Atom">    c.x = 100                         # 自动调用setter方法</span></span>
<span class="code-line"><span class="s s-Atom">    y = c.x                           # 自动调用x方法</span></span>
<span class="code-line"><span class="s s-Atom">    del c.x                           # 自动调用deleter方法</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="s s-Atom">#-- 定制类: 重写类的方法</span></span>
<span class="code-line"><span class="s s-Atom">    # (1)__str__方法、__repr__方法: 定制类的输出字符串</span></span>
<span class="code-line"><span class="s s-Atom">    # (2)__iter__方法、next方法: 定制类的可迭代性</span></span>
<span class="code-line"><span class="s s-Atom">    class Fib(object):</span></span>
<span class="code-line"><span class="s s-Atom">        def __init__(self):</span></span>
<span class="code-line"><span class="s s-Atom">            self.a, self.b = 0, 1     # 初始化两个计数器a，b</span></span>
<span class="code-line"><span class="s s-Atom">        def __iter__(self):</span></span>
<span class="code-line"><span class="s s-Atom">            return self               # 实例本身就是迭代对象，故返回自己</span></span>
<span class="code-line"><span class="s s-Atom">        def next(self):</span></span>
<span class="code-line"><span class="s s-Atom">            self.a, self.b = self.b, self.a + self.b</span></span>
<span class="code-line"><span class="s s-Atom">            if self.a &gt; 100000:       # 退出循环的条件</span></span>
<span class="code-line"><span class="s s-Atom">                raise StopIteration()</span></span>
<span class="code-line"><span class="s s-Atom">            return self.a             # 返回下一个值</span></span>
<span class="code-line"><span class="s s-Atom">    for n in Fib():</span></span>
<span class="code-line"><span class="s s-Atom">        print(n)                      # 使用</span></span>
<span class="code-line"><span class="s s-Atom">    # (3)__getitem__方法、__setitem__方法: 定制类的下标操作[] 或者切片操作slice</span></span>
<span class="code-line"><span class="s s-Atom">    class Indexer(object):</span></span>
<span class="code-line"><span class="s s-Atom">        def __init__(self):</span></span>
<span class="code-line"><span class="s s-Atom">            self.data = {}</span></span>
<span class="code-line"><span class="s s-Atom">        def __getitem__(self, n):             # 定义getitem方法</span></span>
<span class="code-line"><span class="s s-Atom">            print(&#39;</span><span class="nn">getitem</span><span class="p">:</span><span class="s s-Atom">&#39;, n)                </span></span>
<span class="code-line"><span class="s s-Atom">            return self.data[n]</span></span>
<span class="code-line"><span class="s s-Atom">        def __setitem__(self, key, value):    # 定义setitem方法</span></span>
<span class="code-line"><span class="s s-Atom">            print(&#39;</span><span class="nn">setitem</span><span class="p">:</span><span class="s s-Atom">key</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">},</span> <span class="s s-Atom">value</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">}</span><span class="s s-Atom">&#39;.format(key, value))</span></span>
<span class="code-line"><span class="s s-Atom">            self.data[key] = value</span></span>
<span class="code-line"><span class="s s-Atom">    test = Indexer()</span></span>
<span class="code-line"><span class="s s-Atom">    test[0] = 1;   test[3] = &#39;</span><span class="mi">3</span><span class="s s-Atom">&#39;              # 调用setitem方法</span></span>
<span class="code-line"><span class="s s-Atom">    print(test[0])                            # 调用getitem方法</span></span>
<span class="code-line"><span class="s s-Atom">    # (4)__getattr__方法: 定制类的属性操作</span></span>
<span class="code-line"><span class="s s-Atom">    class Student(object):</span></span>
<span class="code-line"><span class="s s-Atom">        def __getattr__(self, attr):          # 定义当获取类的属性时的返回值</span></span>
<span class="code-line"><span class="s s-Atom">            if attr==&#39;age&#39;:</span></span>
<span class="code-line"><span class="s s-Atom">                return 25                     # 当获取age属性时返回25</span></span>
<span class="code-line"><span class="s s-Atom">        raise AttributeError(&#39;object</span> <span class="s s-Atom">has</span> <span class="s s-Atom">no</span> <span class="nn">attribute</span><span class="p">:</span> <span class="c1">%s&#39; % attr)</span></span>
<span class="code-line">        <span class="s s-Atom">#</span> <span class="s s-Atom">注意:</span> <span class="s s-Atom">只有当属性不存在时</span> <span class="s s-Atom">才会调用该方法</span> <span class="s s-Atom">且该方法默认返回None</span> <span class="s s-Atom">需要在函数最后引发异常</span></span>
<span class="code-line">    <span class="s s-Atom">s</span> <span class="o">=</span> <span class="nv">Student</span><span class="p">()</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">.</span><span class="s s-Atom">age</span>                                     <span class="s s-Atom">#</span> <span class="s s-Atom">s中age属性不存在</span> <span class="s s-Atom">故调用__getattr__方法</span> <span class="s s-Atom">返回25</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="k">__</span><span class="s s-Atom">call__方法:</span> <span class="s s-Atom">定制类的&#39;可调用&#39;性</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">Student</span><span class="p">(</span><span class="s s-Atom">object</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">call__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span><span class="s s-Atom">:</span>                   <span class="s s-Atom">#</span> <span class="s s-Atom">也可以带参数</span></span>
<span class="code-line">            <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;Calling......&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">s</span> <span class="o">=</span> <span class="nv">Student</span><span class="p">()</span></span>
<span class="code-line">    <span class="nf">s</span><span class="p">()</span>                                       <span class="s s-Atom">#</span> <span class="s s-Atom">s变成了可调用的</span> <span class="s s-Atom">也可以带参数</span></span>
<span class="code-line">    <span class="nf">callable</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span>                               <span class="s s-Atom">#</span> <span class="s s-Atom">测试s的可调用性</span> <span class="s s-Atom">返回True</span></span>
<span class="code-line">    <span class="s s-Atom">#</span>    <span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="k">__</span><span class="s s-Atom">len__方法：求类的长度</span></span>
<span class="code-line">    <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">len__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">return</span> <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">data</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 动态创建类type()</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">一般创建类</span> <span class="s s-Atom">需要在代码中提前定义</span></span>
<span class="code-line">        <span class="s s-Atom">class</span> <span class="nv">Hello</span><span class="p">(</span><span class="s s-Atom">object</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="s s-Atom">def</span> <span class="nf">hello</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">name=&#39;world&#39;</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">                <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;Hello, %s.&#39;</span> <span class="c1">% name)</span></span>
<span class="code-line">        <span class="s s-Atom">h</span> <span class="o">=</span> <span class="nv">Hello</span><span class="p">()</span></span>
<span class="code-line">        <span class="s s-Atom">h</span><span class="p">.</span><span class="nf">hello</span><span class="p">()</span>                             <span class="s s-Atom">#</span> <span class="nv">Hello</span><span class="p">,</span> <span class="s s-Atom">world</span></span>
<span class="code-line">        <span class="nf">type</span><span class="p">(</span><span class="nv">Hello</span><span class="p">)</span>                           <span class="s s-Atom">#</span> <span class="nv">Hello是一个type类型</span> <span class="s s-Atom">返回</span><span class="o">&lt;</span><span class="s s-Atom">class</span> <span class="s s-Atom">&#39;type&#39;</span><span class="o">&gt;</span></span>
<span class="code-line">        <span class="nf">type</span><span class="p">(</span><span class="s s-Atom">h</span><span class="p">)</span>                               <span class="s s-Atom">#</span> <span class="s s-Atom">h是一个Hello类型</span> <span class="s s-Atom">返回</span><span class="o">&lt;</span><span class="s s-Atom">class</span> <span class="s s-Atom">&#39;Hello&#39;</span><span class="o">&gt;</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">动态类型语言中</span> <span class="s s-Atom">类可以动态创建</span> <span class="s s-Atom">type函数可用于创建新类型</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="nf">fn</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">name=&#39;world&#39;</span><span class="p">)</span><span class="s s-Atom">:</span>           <span class="s s-Atom">#</span> <span class="s s-Atom">先定义函数</span></span>
<span class="code-line">            <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;Hello, %s.&#39;</span> <span class="c1">% name)</span></span>
<span class="code-line">        <span class="nv">Hello</span> <span class="o">=</span> <span class="nf">type</span><span class="p">(</span><span class="s s-Atom">&#39;Hello&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s s-Atom">object</span><span class="p">,),</span> <span class="nf">dict</span><span class="p">(</span><span class="s s-Atom">hello</span><span class="o">=</span><span class="s s-Atom">fn</span><span class="p">))</span> </span>
<span class="code-line">        <span class="s s-Atom">#</span> <span class="s s-Atom">创建Hello类</span> <span class="s s-Atom">type原型:</span> <span class="nf">type</span><span class="p">(</span><span class="s s-Atom">name</span><span class="p">,</span> <span class="s s-Atom">bases</span><span class="p">,</span> <span class="s s-Atom">dict</span><span class="p">)</span></span>
<span class="code-line">        <span class="s s-Atom">h</span> <span class="o">=</span> <span class="nv">Hello</span><span class="p">()</span>                           <span class="s s-Atom">#</span> <span class="s s-Atom">此时的h和上边的h一致</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;异常相关----异常相关----异常相关----异常相关----异常相关----异常相关----异常相关----异常相关----异常相关----异常相关----异常相关----异常相关----异常相关&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- #捕获异常: </span></span>
<span class="code-line">        <span class="nn">try</span><span class="p">:</span></span>
<span class="code-line">        <span class="nn">except</span><span class="p">:</span>                               <span class="s s-Atom">#</span> <span class="s s-Atom">捕获所有的异常</span> <span class="s s-Atom">等同于except</span> <span class="nv">Exception</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">except</span> <span class="nn">name</span><span class="p">:</span>                          <span class="s s-Atom">#</span> <span class="s s-Atom">捕获指定的异常</span></span>
<span class="code-line">        <span class="s s-Atom">except</span> <span class="s s-Atom">name</span><span class="p">,</span> <span class="nn">value</span><span class="p">:</span>                   <span class="s s-Atom">#</span> <span class="nf">捕获指定的异常和额外的数据</span><span class="p">(</span><span class="s s-Atom">实例</span><span class="p">)</span></span>
<span class="code-line">        <span class="nf">except</span> <span class="p">(</span><span class="s s-Atom">name1</span><span class="p">,</span> <span class="s s-Atom">name2</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="nf">except</span> <span class="p">(</span><span class="s s-Atom">name1</span><span class="p">,</span> <span class="s s-Atom">name2</span><span class="p">),</span> <span class="nn">value</span><span class="p">:</span></span>
<span class="code-line">        <span class="s s-Atom">except</span> <span class="s s-Atom">name4</span> <span class="s s-Atom">as</span> <span class="nv">X</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="nn">else</span><span class="p">:</span>                                 <span class="s s-Atom">#</span> <span class="s s-Atom">如果没有发生异常</span></span>
<span class="code-line">        <span class="nn">finally</span><span class="p">:</span>                              <span class="s s-Atom">#</span> <span class="s s-Atom">总会执行的部分</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">引发异常:</span> <span class="nf">raise子句</span><span class="p">(</span><span class="s s-Atom">raise</span> <span class="nv">IndexError</span><span class="p">)</span></span>
<span class="code-line">        <span class="s s-Atom">raise</span> <span class="o">&lt;</span><span class="s s-Atom">instance</span><span class="o">&gt;</span>                      <span class="s s-Atom">#</span> <span class="s s-Atom">raise</span> <span class="s s-Atom">instance</span> <span class="s s-Atom">of</span> <span class="s s-Atom">a</span> <span class="s s-Atom">class</span><span class="p">,</span> <span class="s s-Atom">raise</span> <span class="nv">IndexError</span><span class="p">()</span></span>
<span class="code-line">        <span class="s s-Atom">raise</span> <span class="o">&lt;</span><span class="s s-Atom">class</span><span class="o">&gt;</span>                         <span class="s s-Atom">#</span> <span class="s s-Atom">make</span> <span class="s s-Atom">and</span> <span class="s s-Atom">raise</span> <span class="s s-Atom">instance</span> <span class="s s-Atom">of</span> <span class="s s-Atom">a</span> <span class="s s-Atom">class</span><span class="p">,</span> <span class="s s-Atom">raise</span> <span class="nv">IndexError</span></span>
<span class="code-line">        <span class="s s-Atom">raise</span>                                 <span class="s s-Atom">#</span> <span class="s s-Atom">reraise</span> <span class="s s-Atom">the</span> <span class="s s-Atom">most</span> <span class="s s-Atom">recent</span> <span class="s s-Atom">exception</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Python3.x中的异常链: raise exception from otherException</span></span>
<span class="code-line">    <span class="s s-Atom">except</span> <span class="nv">Exception</span> <span class="s s-Atom">as</span> <span class="nv">X</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">raise</span> <span class="nv">IndexError</span><span class="p">(</span><span class="s s-Atom">&#39;Bad&#39;</span><span class="p">)</span> <span class="s s-Atom">from</span> <span class="nv">X</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- assert子句: assert &lt;test&gt;, &lt;data&gt;</span></span>
<span class="code-line">    <span class="s s-Atom">assert</span> <span class="s s-Atom">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s s-Atom">&#39;x must be negative&#39;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- with/as环境管理器:作为常见的try/finally用法模式的替代方案</span></span>
<span class="code-line">    <span class="s s-Atom">with</span> <span class="s s-Atom">expression</span> <span class="p">[</span><span class="s s-Atom">as</span> <span class="s s-Atom">variable</span><span class="p">],</span> <span class="s s-Atom">expression</span> <span class="p">[</span><span class="s s-Atom">as</span> <span class="s s-Atom">variable</span><span class="p">]</span><span class="s s-Atom">:</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">例子:</span></span>
<span class="code-line">        <span class="s s-Atom">with</span> <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;test.txt&#39;</span><span class="p">)</span> <span class="s s-Atom">as</span> <span class="nn">myfile</span><span class="p">:</span></span>
<span class="code-line">            <span class="s s-Atom">for</span> <span class="s s-Atom">line</span> <span class="s s-Atom">in</span> <span class="nn">myfile</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">line</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">等同于:</span></span>
<span class="code-line">        <span class="s s-Atom">myfile</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;test.txt&#39;</span><span class="p">)</span></span>
<span class="code-line">        <span class="nn">try</span><span class="p">:</span></span>
<span class="code-line">            <span class="s s-Atom">for</span> <span class="s s-Atom">line</span> <span class="s s-Atom">in</span> <span class="nn">myfile</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">line</span><span class="p">)</span></span>
<span class="code-line">        <span class="nn">finally</span><span class="p">:</span></span>
<span class="code-line">            <span class="s s-Atom">myfile</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 用户自定义异常: class Bad(Exception):.....</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">    Exception超类 / except基类即可捕获到其所有子类</span></span>
<span class="code-line"><span class="s2">    Exception超类有默认的打印消息和状态 当然也可以定制打印显示:</span></span>
<span class="code-line"><span class="s2">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">MyBad</span><span class="p">(</span><span class="nv">Exception</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">str__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="s s-Atom">return</span> <span class="s s-Atom">&#39;定制的打印消息&#39;</span></span>
<span class="code-line">    <span class="nn">try</span><span class="p">:</span></span>
<span class="code-line">        <span class="nv">MyBad</span><span class="p">()</span></span>
<span class="code-line">    <span class="s s-Atom">except</span> <span class="nv">MyBad</span> <span class="s s-Atom">as</span> <span class="nn">x</span><span class="p">:</span></span>
<span class="code-line">        <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">x</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 用户定制异常数据</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">FormatError</span><span class="p">(</span><span class="nv">Exception</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">init__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">line</span> <span class="p">,</span><span class="s s-Atom">file</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">line</span> <span class="o">=</span> <span class="s s-Atom">line</span></span>
<span class="code-line">            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">file</span> <span class="o">=</span> <span class="s s-Atom">file</span></span>
<span class="code-line">    <span class="nn">try</span><span class="p">:</span></span>
<span class="code-line">        <span class="s s-Atom">raise</span> <span class="nv">FormatError</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="s s-Atom">&#39;test.py&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">except</span> <span class="nv">FormatError</span> <span class="s s-Atom">as</span> <span class="nv">X</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;Error at &#39;</span><span class="p">,</span> <span class="nv">X</span><span class="p">.</span><span class="s s-Atom">file</span><span class="p">,</span> <span class="nv">X</span><span class="p">.</span><span class="s s-Atom">line</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="nf">用户定制异常行为</span><span class="p">(</span><span class="s s-Atom">方法</span><span class="p">)</span><span class="s s-Atom">:以记录日志为例</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">FormatError</span><span class="p">(</span><span class="nv">Exception</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">logfile</span> <span class="o">=</span> <span class="s s-Atom">&#39;formaterror.txt&#39;</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">init__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">line</span> <span class="p">,</span><span class="s s-Atom">file</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">line</span> <span class="o">=</span> <span class="s s-Atom">line</span></span>
<span class="code-line">            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">file</span> <span class="o">=</span> <span class="s s-Atom">file</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="nf">logger</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">            <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">logfile</span><span class="p">,</span> <span class="s s-Atom">&#39;a&#39;</span><span class="p">).</span><span class="nf">write</span><span class="p">(</span><span class="s s-Atom">&#39;Error at &#39;</span><span class="p">,</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">file</span><span class="p">,</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">line</span><span class="p">)</span></span>
<span class="code-line">    <span class="nn">try</span><span class="p">:</span></span>
<span class="code-line">        <span class="s s-Atom">raise</span> <span class="nv">FormatError</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="s s-Atom">&#39;test.py&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">except</span> <span class="nv">FormatError</span> <span class="s s-Atom">as</span> <span class="nv">X</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="nv">X</span><span class="p">.</span><span class="nf">logger</span><span class="p">()</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 关于sys.exc_info:允许一个异常处理器获取对最近引发的异常的访问</span></span>
<span class="code-line">    <span class="nn">try</span><span class="p">:</span></span>
<span class="code-line">        <span class="p">......</span></span>
<span class="code-line">    <span class="nn">except</span><span class="p">:</span></span>
<span class="code-line">        <span class="s s-Atom">#</span> <span class="s s-Atom">此时sys</span><span class="p">.</span><span class="nf">exc_info</span><span class="p">()</span><span class="nf">返回一个元组</span><span class="p">(</span><span class="s s-Atom">type</span><span class="p">,</span> <span class="s s-Atom">value</span><span class="p">,</span> <span class="s s-Atom">traceback</span><span class="p">)</span></span>
<span class="code-line">        <span class="s s-Atom">#</span> <span class="nn">type</span><span class="p">:</span><span class="s s-Atom">正在处理的异常的异常类型</span></span>
<span class="code-line">        <span class="s s-Atom">#</span> <span class="nn">value</span><span class="p">:</span><span class="s s-Atom">引发的异常的实例</span></span>
<span class="code-line">        <span class="s s-Atom">#</span> <span class="nn">traceback</span><span class="p">:</span><span class="s s-Atom">堆栈信息</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 异常层次</span></span>
<span class="code-line">    <span class="nv">BaseException</span></span>
<span class="code-line">    <span class="s s-Atom">+--</span> <span class="nv">SystemExit</span></span>
<span class="code-line">    <span class="s s-Atom">+--</span> <span class="nv">KeyboardInterrupt</span></span>
<span class="code-line">    <span class="s s-Atom">+--</span> <span class="nv">GeneratorExit</span></span>
<span class="code-line">    <span class="s s-Atom">+--</span> <span class="nv">Exception</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">StopIteration</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">ArithmeticError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">AssertionError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">AttributeError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">BufferError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">EOFError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">ImportError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">LookupError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">MemoryError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">NameError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">OSError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">ReferenceError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">RuntimeError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">SyntaxError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">SystemError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">TypeError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">ValueError</span></span>
<span class="code-line">        <span class="s s-Atom">+--</span> <span class="nv">Warning</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;Unicode和字节字符串---Unicode和字节字符串----Unicode和字节字符串----Unicode和字节字符串----Unicode和字节字符串----Unicode和字节字符串----Unicode和字节字符串&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Python的字符串类型</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;Python2.x&quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="mf">1.</span><span class="s s-Atom">str表示8位文本和二进制数据</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="mf">2.</span><span class="s s-Atom">unicode表示宽字符Unicode文本</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;Python3.x&quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="mf">1.</span><span class="s s-Atom">str表示Unicode文本（8位或者更宽）</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="mf">2.</span><span class="s s-Atom">bytes表示不可变的二进制数据</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="mf">3.</span><span class="s s-Atom">bytearray是一种可变的bytes类型</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 字符编码方法</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;ASCII&quot;&quot;&quot;</span>                   <span class="s s-Atom">#</span> <span class="s s-Atom">一个字节，只包含英文字符，0到127，共128个字符，利用函数可以进行字符和数字的相互转换</span></span>
<span class="code-line">    <span class="nf">ord</span><span class="p">(</span><span class="s s-Atom">&#39;a&#39;</span><span class="p">)</span>                      <span class="s s-Atom">#</span> <span class="s s-Atom">字符a的ASCII码为97，所以这里返回97</span></span>
<span class="code-line">    <span class="nf">chr</span><span class="p">(</span><span class="mi">97</span><span class="p">)</span>                       <span class="s s-Atom">#</span> <span class="s s-Atom">和上边的过程相反，返回字符&#39;a&#39;</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;Latin-1&quot;&quot;&quot;</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">一个字节，包含特殊字符，0到255，共256个字符，相当于对ASCII码的扩展</span></span>
<span class="code-line">    <span class="nf">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span>                      <span class="s s-Atom">#</span> <span class="s s-Atom">返回一个特殊字符：Ä</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;Unicode&quot;&quot;&quot;</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">宽字符，一个字符包含多个字节，一般用于亚洲的字符集，比如中文有好几万字</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;UTF-8&quot;&quot;&quot;</span>                   <span class="s s-Atom">#</span> <span class="s s-Atom">可变字节数，小于128的字符表示为单个字节，128到0X7FF之间的代码转换为两个字节，0X7FF以上的代码转换为3或4个字节</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">注意：可以看出来，ASCII码是Latin</span><span class="o">-</span><span class="mi">1</span><span class="s s-Atom">和UTF</span><span class="o">-</span><span class="mi">8</span><span class="s s-Atom">的一个子集</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">注意：utf</span><span class="o">-</span><span class="mi">8</span><span class="s s-Atom">是unicode的一种实现方式，unicode、gbk、gb2312是编码字符集</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 查看Python中的字符串编码名称，查看系统的编码</span></span>
<span class="code-line">    <span class="s s-Atom">import</span> <span class="s s-Atom">encodings</span></span>
<span class="code-line">    <span class="nf">help</span><span class="p">(</span><span class="s s-Atom">encoding</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">import</span> <span class="s s-Atom">sys</span></span>
<span class="code-line">    <span class="s s-Atom">sys</span><span class="p">.</span><span class="s s-Atom">platform</span>                  <span class="s s-Atom">#</span> <span class="s s-Atom">&#39;win64&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">sys</span><span class="p">.</span><span class="nf">getdefaultencoding</span><span class="p">()</span>      <span class="s s-Atom">#</span> <span class="s s-Atom">&#39;utf-8&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">sys</span><span class="p">.</span><span class="nf">getdefaultencoding</span><span class="p">()</span>      <span class="s s-Atom">#</span> <span class="s s-Atom">返回当前系统平台的编码类型</span></span>
<span class="code-line">    <span class="s s-Atom">sys</span><span class="p">.</span><span class="nf">getsizeof</span><span class="p">(</span><span class="s s-Atom">object</span><span class="p">)</span>         <span class="s s-Atom">#</span> <span class="s s-Atom">返回object占有的bytes的大小</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- 源文件字符集编码声明: 添加注释来指定想要的编码形式 从而改变默认值 注释必须出现在脚本的第一行或者第二行</span></span>
<span class="code-line">    <span class="s2">&quot;&quot;&quot;说明：其实这里只会检查#和coding:utf-8，其余的字符都是为了美观加上的&quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="k">_</span><span class="s s-Atom">*</span><span class="k">_</span> <span class="nn">coding</span><span class="p">:</span> <span class="s s-Atom">utf</span><span class="o">-</span><span class="mi">8</span> <span class="k">_</span><span class="s s-Atom">*</span><span class="k">_</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">coding</span> <span class="o">=</span> <span class="s s-Atom">utf</span><span class="o">-</span><span class="mi">8</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- #编码: 字符串 --&gt; 原始字节       #解码: 原始字节 --&gt; 字符串</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Python3.x中的字符串应用</span></span>
<span class="code-line">    <span class="s s-Atom">s</span> <span class="o">=</span> <span class="s s-Atom">&#39;...&#39;</span>                     <span class="s s-Atom">#</span> <span class="s s-Atom">构建一个str对象，不可变对象</span></span>
<span class="code-line">    <span class="s s-Atom">b</span> <span class="o">=</span> <span class="s s-Atom">b&#39;...&#39;</span>                    <span class="s s-Atom">#</span> <span class="s s-Atom">构建一个bytes对象，不可变对象</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s s-Atom">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                    <span class="s s-Atom">#</span> <span class="nf">返回</span><span class="p">(</span><span class="s s-Atom">&#39;.&#39;</span><span class="p">,</span> <span class="mi">113</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">s</span><span class="p">[</span><span class="mi">1</span><span class="s s-Atom">:</span><span class="p">],</span> <span class="s s-Atom">b</span><span class="p">[</span><span class="mi">1</span><span class="s s-Atom">:</span><span class="p">]</span>                  <span class="s s-Atom">#</span> <span class="nf">返回</span><span class="p">(</span><span class="s s-Atom">&#39;..&#39;</span><span class="p">,</span> <span class="s s-Atom">b&#39;..&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="nv">B</span> <span class="o">=</span> <span class="nv">B</span><span class="s2">&quot;&quot;&quot;</span></span>
<span class="code-line"><span class="s2">        xxxx</span></span>
<span class="code-line"><span class="s2">        yyyy</span></span>
<span class="code-line"><span class="s2">        &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="nv">B</span> <span class="o">=</span> <span class="s s-Atom">b&#39;\nxxxx\nyyyy\n&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">编码，将str字符串转化为其raw</span> <span class="s s-Atom">bytes形式：</span></span>
<span class="code-line">        <span class="s s-Atom">str</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="s s-Atom">encoding</span> <span class="o">=</span> <span class="s s-Atom">&#39;utf-8&#39;</span><span class="p">,</span> <span class="s s-Atom">errors</span> <span class="o">=</span> <span class="s s-Atom">&#39;strict&#39;</span><span class="p">)</span></span>
<span class="code-line">        <span class="nf">bytes</span><span class="p">(</span><span class="s s-Atom">str</span><span class="p">,</span> <span class="s s-Atom">encoding</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">编码例子：</span></span>
<span class="code-line">        <span class="nv">S</span> <span class="o">=</span> <span class="s s-Atom">&#39;egg&#39;</span></span>
<span class="code-line">        <span class="nv">S</span><span class="p">.</span><span class="nf">encode</span><span class="p">()</span>                    <span class="s s-Atom">#</span> <span class="s s-Atom">b&#39;egg&#39;</span></span>
<span class="code-line">        <span class="nf">bytes</span><span class="p">(</span><span class="nv">S</span><span class="p">,</span> <span class="s s-Atom">encoding</span> <span class="o">=</span> <span class="s s-Atom">&#39;ascii&#39;</span><span class="p">)</span>  <span class="s s-Atom">#</span> <span class="s s-Atom">b&#39;egg&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">解码，将raw</span> <span class="s s-Atom">bytes字符串转化为str形式：</span></span>
<span class="code-line">        <span class="s s-Atom">bytes</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="s s-Atom">encoding</span> <span class="o">=</span> <span class="s s-Atom">&#39;utf-8&#39;</span><span class="p">,</span> <span class="s s-Atom">errors</span> <span class="o">=</span> <span class="s s-Atom">&#39;strict&#39;</span><span class="p">)</span></span>
<span class="code-line">        <span class="nf">str</span><span class="p">(</span><span class="s s-Atom">bytes_or_buffer</span><span class="p">[,</span> <span class="s s-Atom">encoding</span><span class="p">[,</span> <span class="s s-Atom">errors</span><span class="p">]])</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">解码例子：</span></span>
<span class="code-line">        <span class="nv">B</span> <span class="o">=</span> <span class="s s-Atom">b&#39;spam&#39;</span></span>
<span class="code-line">        <span class="nv">B</span><span class="p">.</span><span class="nf">decode</span><span class="p">()</span>                <span class="s s-Atom">#</span> <span class="s s-Atom">&#39;spam&#39;</span></span>
<span class="code-line">        <span class="nf">str</span><span class="p">(</span><span class="nv">B</span><span class="p">)</span>                    <span class="s s-Atom">#</span> <span class="s2">&quot;b&#39;spam&#39;&quot;</span><span class="s s-Atom">，不带编码的str调用，结果为打印该bytes对象</span></span>
<span class="code-line">        <span class="nf">str</span><span class="p">(</span><span class="nv">B</span><span class="p">,</span> <span class="s s-Atom">encoding</span> <span class="o">=</span> <span class="s s-Atom">&#39;ascii&#39;</span><span class="p">)</span><span class="s s-Atom">#</span> <span class="s s-Atom">&#39;spam&#39;，带编码的str调用，结果为转化该bytes对象</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Python2.x的编码问题</span></span>
<span class="code-line">    <span class="s s-Atom">u</span> <span class="o">=</span> <span class="s s-Atom">u&#39;汉&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">print</span> <span class="nf">repr</span><span class="p">(</span><span class="s s-Atom">u</span><span class="p">)</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">u&#39;\xba\xba&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">s</span> <span class="o">=</span> <span class="s s-Atom">u</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="s s-Atom">&#39;UTF-8&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">print</span> <span class="nf">repr</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">&#39;\xc2\xba\xc2\xba&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">u2</span> <span class="o">=</span> <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="s s-Atom">&#39;UTF-8&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="s s-Atom">print</span> <span class="nf">repr</span><span class="p">(</span><span class="s s-Atom">u2</span><span class="p">)</span>                <span class="s s-Atom">#</span> <span class="s s-Atom">u&#39;\xba\xba&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">对unicode进行解码是错误的</span></span>
<span class="code-line">    <span class="s s-Atom">s2</span> <span class="o">=</span> <span class="s s-Atom">u</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="s s-Atom">&#39;UTF-8&#39;</span><span class="p">)</span>        <span class="s s-Atom">#</span> <span class="nv">UnicodeEncodeError</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;ascii&#39;</span> <span class="s s-Atom">codec</span> <span class="s s-Atom">can&#39;t encode characters in position 0-1: ordinal not in range(128)</span></span>
<span class="code-line"><span class="s s-Atom">    # 同样，对str进行编码也是错误的</span></span>
<span class="code-line"><span class="s s-Atom">    u2 = s.encode(&#39;</span><span class="nv">UTF</span><span class="o">-</span><span class="mi">8</span><span class="s s-Atom">&#39;)        # UnicodeDecodeError: &#39;ascii&#39; codec can&#39;t</span> <span class="s s-Atom">decode</span> <span class="s s-Atom">byte</span> <span class="mh">0xc2</span> <span class="s s-Atom">in</span> <span class="s s-Atom">position</span> <span class="mi">0</span><span class="s s-Atom">:</span> <span class="s s-Atom">ordinal</span> <span class="o">not</span> <span class="s s-Atom">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- bytes对象</span></span>
<span class="code-line">    <span class="nv">B</span> <span class="o">=</span> <span class="s s-Atom">b&#39;abc&#39;</span></span>
<span class="code-line">    <span class="nv">B</span> <span class="o">=</span> <span class="nf">bytes</span><span class="p">(</span><span class="s s-Atom">&#39;abc&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;ascii&#39;</span><span class="p">)</span></span>
<span class="code-line">    <span class="nv">B</span> <span class="o">=</span> <span class="nf">bytes</span><span class="p">([</span><span class="mi">97</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">99</span><span class="p">])</span></span>
<span class="code-line">    <span class="nv">B</span> <span class="o">=</span> <span class="s s-Atom">&#39;abc&#39;</span><span class="p">.</span><span class="nf">encode</span><span class="p">()</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">bytes对象的方法调用基本和str类型一致</span> <span class="s s-Atom">但:</span><span class="nv">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="s s-Atom">返回的是ASCII码值97</span><span class="p">,</span> <span class="s s-Atom">而不是b&#39;a&#39;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- #文本文件: 根据Unicode编码来解释文件内容，要么是平台的默认编码，要么是指定的编码类型</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">二进制文件：表示字节值的整数的一个序列</span> <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;bin.txt&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;rb&#39;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Unicode文件</span></span>
<span class="code-line">    <span class="s s-Atom">s</span> <span class="o">=</span> <span class="s s-Atom">&#39;A\xc4B\xe8C&#39;</span>             <span class="s s-Atom">#</span> <span class="s s-Atom">s</span> <span class="o">=</span> <span class="s s-Atom">&#39;A?BèC&#39;</span>  <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span></span>
<span class="code-line">    <span class="s s-Atom">#手动编码</span></span>
<span class="code-line">        <span class="s s-Atom">l</span> <span class="o">=</span> <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="s s-Atom">&#39;latin-1&#39;</span><span class="p">)</span>   <span class="s s-Atom">#</span> <span class="s s-Atom">l</span> <span class="o">=</span> <span class="s s-Atom">b&#39;A\xc4B\xe8C&#39;</span>  <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">l</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span></span>
<span class="code-line">        <span class="s s-Atom">u</span> <span class="o">=</span> <span class="s s-Atom">s</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="s s-Atom">&#39;utf-8&#39;</span><span class="p">)</span>     <span class="s s-Atom">#</span> <span class="s s-Atom">u</span> <span class="o">=</span> <span class="s s-Atom">b&#39;A\xc3\x84B\xc3\xa8C&#39;</span>  <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">u</span><span class="p">)</span> <span class="o">=</span> <span class="mi">7</span></span>
<span class="code-line">    <span class="s s-Atom">#文件输出编码</span></span>
<span class="code-line">        <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;latindata&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;w&#39;</span><span class="p">,</span> <span class="s s-Atom">encoding</span> <span class="o">=</span> <span class="s s-Atom">&#39;latin-1&#39;</span><span class="p">).</span><span class="nf">write</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span></span>
<span class="code-line">        <span class="s s-Atom">l</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;latindata&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;rb&#39;</span><span class="p">).</span><span class="nf">read</span><span class="p">()</span>                        <span class="s s-Atom">#</span> <span class="s s-Atom">l</span> <span class="o">=</span> <span class="s s-Atom">b&#39;A\xc4B\xe8C&#39;</span>  <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">l</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span></span>
<span class="code-line">        <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;uft8data&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;w&#39;</span><span class="p">,</span> <span class="s s-Atom">encoding</span> <span class="o">=</span> <span class="s s-Atom">&#39;utf-8&#39;</span><span class="p">).</span><span class="nf">write</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span></span>
<span class="code-line">        <span class="s s-Atom">u</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;uft8data&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;rb&#39;</span><span class="p">).</span><span class="nf">read</span><span class="p">()</span>                         <span class="s s-Atom">#</span> <span class="s s-Atom">u</span> <span class="o">=</span> <span class="s s-Atom">b&#39;A\xc3\x84B\xc3\xa8C&#39;</span>  <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">u</span><span class="p">)</span> <span class="o">=</span> <span class="mi">7</span></span>
<span class="code-line">    <span class="s s-Atom">#文件输入编码</span></span>
<span class="code-line">        <span class="s s-Atom">s</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;latindata&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;r&#39;</span><span class="p">,</span> <span class="s s-Atom">encoding</span> <span class="o">=</span> <span class="s s-Atom">&#39;latin-1&#39;</span><span class="p">).</span><span class="nf">read</span><span class="p">()</span>   <span class="s s-Atom">#</span> <span class="s s-Atom">s</span> <span class="o">=</span> <span class="s s-Atom">&#39;A?BèC&#39;</span>  <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span></span>
<span class="code-line">        <span class="s s-Atom">s</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;latindata&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;rb&#39;</span><span class="p">).</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="s s-Atom">&#39;latin-1&#39;</span><span class="p">)</span>      <span class="s s-Atom">#</span> <span class="s s-Atom">s</span> <span class="o">=</span> <span class="s s-Atom">&#39;A?BèC&#39;</span>  <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span></span>
<span class="code-line">        <span class="s s-Atom">s</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;utf8data&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;r&#39;</span><span class="p">,</span> <span class="s s-Atom">encoding</span> <span class="o">=</span> <span class="s s-Atom">&#39;utf-8&#39;</span><span class="p">).</span><span class="nf">read</span><span class="p">()</span>      <span class="s s-Atom">#</span> <span class="s s-Atom">s</span> <span class="o">=</span> <span class="s s-Atom">&#39;A?BèC&#39;</span>  <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span></span>
<span class="code-line">        <span class="s s-Atom">s</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s s-Atom">&#39;utf8data&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;rb&#39;</span><span class="p">).</span><span class="nf">read</span><span class="p">().</span><span class="nf">decode</span><span class="p">(</span><span class="s s-Atom">&#39;utf-8&#39;</span><span class="p">)</span>         <span class="s s-Atom">#</span> <span class="s s-Atom">s</span> <span class="o">=</span> <span class="s s-Atom">&#39;A?BèC&#39;</span>  <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="s2">&quot;&quot;&quot;其他----其他----其他----其他----其他----其他----其他----其他----其他----其他----其他----其他----其他----其他----其他----其他----其他----其他----其他&quot;&quot;&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Python实现任意深度的赋值 例如a[0] = &#39;value1&#39;; a[1][2] = &#39;value2&#39;; a[3][4][5] = &#39;value3&#39;</span></span>
<span class="code-line">    <span class="s s-Atom">class</span> <span class="nv">MyDict</span><span class="p">(</span><span class="s s-Atom">dict</span><span class="p">)</span><span class="s s-Atom">:</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">setitem__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">key</span><span class="p">,</span> <span class="s s-Atom">value</span><span class="p">)</span><span class="s s-Atom">:</span>                 <span class="s s-Atom">#</span> <span class="s s-Atom">该函数不做任何改动</span> <span class="s s-Atom">这里只是为了输出</span></span>
<span class="code-line">            <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;setitem:&#39;</span><span class="p">,</span> <span class="s s-Atom">key</span><span class="p">,</span> <span class="s s-Atom">value</span><span class="p">,</span> <span class="s s-Atom">self</span><span class="p">)</span></span>
<span class="code-line">            <span class="nf">super</span><span class="p">().</span><span class="k">__</span><span class="nf">setitem__</span><span class="p">(</span><span class="s s-Atom">key</span><span class="p">,</span> <span class="s s-Atom">value</span><span class="p">)</span></span>
<span class="code-line">        <span class="s s-Atom">def</span> <span class="k">__</span><span class="nf">getitem__</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">item</span><span class="p">)</span><span class="s s-Atom">:</span>                       <span class="s s-Atom">#</span> <span class="s s-Atom">主要技巧在该函数</span></span>
<span class="code-line">            <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;getitem:&#39;</span><span class="p">,</span> <span class="s s-Atom">item</span><span class="p">,</span> <span class="s s-Atom">self</span><span class="p">)</span>                  <span class="s s-Atom">#</span> <span class="s s-Atom">输出信息</span></span>
<span class="code-line">            <span class="s s-Atom">#</span> <span class="s s-Atom">基本思路:</span> <span class="s s-Atom">a</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="s s-Atom">赋值时</span> <span class="s s-Atom">需要先取出a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="s s-Atom">然后给a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="s s-Atom">的</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="s s-Atom">赋值</span></span>
<span class="code-line">            <span class="s s-Atom">if</span> <span class="s s-Atom">item</span> <span class="o">not</span> <span class="s s-Atom">in</span> <span class="nn">self</span><span class="p">:</span>                           <span class="s s-Atom">#</span> <span class="s s-Atom">如果a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="s s-Atom">不存在</span> <span class="s s-Atom">则需要新建一个dict</span> <span class="s s-Atom">并使得a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s s-Atom">dict</span></span>
<span class="code-line">                <span class="s s-Atom">temp</span> <span class="o">=</span> <span class="nv">MyDict</span><span class="p">()</span>                            <span class="s s-Atom">#</span> <span class="s s-Atom">新建的dict:</span> <span class="s s-Atom">temp</span></span>
<span class="code-line">                <span class="nf">super</span><span class="p">().</span><span class="k">__</span><span class="nf">setitem__</span><span class="p">(</span><span class="s s-Atom">item</span><span class="p">,</span> <span class="s s-Atom">temp</span><span class="p">)</span>            <span class="s s-Atom">#</span> <span class="s s-Atom">赋值a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s s-Atom">temp</span></span>
<span class="code-line">                <span class="s s-Atom">return</span> <span class="s s-Atom">temp</span>                                <span class="s s-Atom">#</span> <span class="s s-Atom">返回temp</span> <span class="s s-Atom">使得temp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s s-Atom">value有效</span></span>
<span class="code-line">            <span class="s s-Atom">return</span> <span class="nf">super</span><span class="p">().</span><span class="k">__</span><span class="nf">getitem__</span><span class="p">(</span><span class="s s-Atom">item</span><span class="p">)</span>               <span class="s s-Atom">#</span> <span class="s s-Atom">如果a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="s s-Atom">存在</span> <span class="s s-Atom">则直接返回a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></span>
<span class="code-line">    <span class="s s-Atom">#</span> <span class="s s-Atom">例子:</span></span>
<span class="code-line">        <span class="s s-Atom">test</span> <span class="o">=</span> <span class="nv">MyDict</span><span class="p">()</span></span>
<span class="code-line">        <span class="s s-Atom">test</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s s-Atom">&#39;test&#39;</span></span>
<span class="code-line">        <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">test</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></span>
<span class="code-line">        <span class="s s-Atom">test</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s s-Atom">&#39;test1&#39;</span></span>
<span class="code-line">        <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">test</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span></span>
<span class="code-line">        <span class="s s-Atom">test</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s s-Atom">&#39;test2&#39;</span></span>
<span class="code-line">        <span class="nf">print</span><span class="p">(</span><span class="s s-Atom">test</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">3</span><span class="p">])</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#-- Python中的多维数组</span></span>
<span class="code-line">    <span class="s s-Atom">lists</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>                                        <span class="s s-Atom">#</span> <span class="s s-Atom">扩展list，结果为</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span></span>
<span class="code-line">    <span class="s s-Atom">lists</span> <span class="o">=</span> <span class="p">[[]]</span> <span class="o">*</span> <span class="mi">3</span>                                       <span class="s s-Atom">#</span> <span class="s s-Atom">多维数组，结果为</span><span class="p">[[],</span> <span class="p">[],</span> <span class="p">[]]</span><span class="s s-Atom">，但有问题，往下看</span></span>
<span class="code-line">    <span class="s s-Atom">lists</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>                                     <span class="s s-Atom">#</span> <span class="s s-Atom">期望看到的结果</span><span class="p">[[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[]]</span><span class="s s-Atom">，实际结果</span><span class="p">[[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]</span><span class="s s-Atom">，原因：list</span><span class="o">*</span><span class="s s-Atom">n操作，是浅拷贝，如何避免？往下看</span></span>
<span class="code-line">    <span class="s s-Atom">lists</span> <span class="o">=</span> <span class="p">[[]</span> <span class="s s-Atom">for</span> <span class="s s-Atom">i</span> <span class="s s-Atom">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>                         <span class="s s-Atom">#</span> <span class="s s-Atom">多维数组，结果为</span><span class="p">[[],</span> <span class="p">[],</span> <span class="p">[]]</span></span>
<span class="code-line">    <span class="s s-Atom">lists</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>                                     <span class="s s-Atom">#</span> <span class="s s-Atom">结果为</span><span class="p">[[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[]]</span></span>
<span class="code-line">    <span class="s s-Atom">lists</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>                                     <span class="s s-Atom">#</span> <span class="s s-Atom">结果为</span><span class="p">[[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="p">[]]</span></span>
<span class="code-line">    <span class="s s-Atom">lists</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>                                     <span class="s s-Atom">#</span> <span class="s s-Atom">结果为</span><span class="p">[[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">]]</span></span>
<span class="code-line">    <span class="s s-Atom">lists</span> <span class="o">=</span> <span class="p">[[[]</span> <span class="s s-Atom">for</span> <span class="s s-Atom">j</span> <span class="s s-Atom">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span> <span class="s s-Atom">for</span> <span class="s s-Atom">i</span> <span class="s s-Atom">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>     <span class="s s-Atom">#</span> <span class="mi">3</span><span class="s s-Atom">行4列，且每一个元素为</span><span class="p">[]</span></span>
</pre></div>
                </div><!-- /.entry-content -->
                <br>
                <div><span>Categories:</span>Python</div>
                <br>
                <ul style="list-style-type: none;">
                        <li style="display: inline;margin-left: 10px; margin-right: auto;">
                            <a href="../../articles/urlencode-quote/">
                                ◄&nbsp;&nbsp;python中的urlencode与urldecode
                            </a>
                        </li>
                        <li style="display: inline;margin-left: 100px; margin-right: auto;">
                            <a href="../../articles/how-resize-image/">
                                怎么放大缩小图片的尺寸和图片尺寸转换&nbsp;&nbsp;►
                            </a>
                        </li>
                </ul>
                <hr/>
                <div class="comments">
                    <h3>Recommended for you</h3>
                        <ul>
                                <li><a href="../../articles/flask-filestorage-zero/">Flask中的FileStorage第二次调用的内容为空(<span class="caps">0KB</span>)</a></li>
                                <li><a href="../../articles/urlencode-quote/">python中的urlencode与urldecode</a></li>
                                <li><a href="../../articles/time-module/">datetime时间模块有用的函数整理笔记</a></li>
                        </ul>
                </div>
                <hr/>
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle"
                         style="display:block; text-align:center;"
                         data-ad-layout="in-article"
                         data-ad-format="fluid"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="1372702676"
                    ></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                    <div class="comments">
                        <h3>Comments</h3>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                            var disqus_identifier = "articles/1000-line-learn-python/";
                            (function () {
                                var dsq = document.createElement('script');
                                dsq.type = 'text/javascript';
                                dsq.async = true;
                                dsq.src = 'https://pingbook.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                            })();
                        </script>
                        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments
                            powered by Disqus</a>.
                        </noscript>
                    </div>

            </div><!-- /.eleven.columns -->

<div class="three columns">
    <nav class="widget sidebarbg">
        <h4>Navigation</h4>
        <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/categories">Category</a></li>
                <li><a href="/archives">Archive</a></li>
                <li><a href="/tags">Tags</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/change-log">Changes</a></li>
        </ul>
    </nav>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-format="fluid"
             data-ad-layout-key="-6t+ed+2i-1n-4w"
             data-ad-client="ca-pub-1893384651266286"
             data-ad-slot="5737546993"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        <div class="sidebarbg">
            <nav class="widget">
                <h4>Categories</h4>
                <ul class="blank">
                        <li><a href="../../category/tools/">Tools</a></li>
                        <li><a href="../../category/sql/">SQL</a></li>
                        <li><a href="../../category/softwaretesting/">SoftwareTesting</a></li>
                        <li><a href="../../category/shu-mei-pai/">树莓派</a></li>
                        <li><a href="../../category/qi-ta/">其他</a></li>
                        <li><a href="../../category/python/">Python</a></li>
                        <li><a href="../../category/mian-shi/">面试</a></li>
                        <li><a href="../../category/linux/">Linux</a></li>
                        <li><a href="../../category/javascript/">JavaScript</a></li>
                        <li><a href="../../category/java/">Java</a></li>
                        <li><a href="../../category/bo-ke-da-jian/">博客搭建</a></li>
                </ul>
            </nav>
        </div>


        <nav class="widget sidebarbg">
            <h4>Tags</h4>
            <ul class="blank">
                    <li class="tag-4"><a href="../../tag/algorithm/">Algorithm</a></li>
                    <li class="tag-4"><a href="../../tag/idea/">IDEA</a></li>
                    <li class="tag-4"><a href="../../tag/intellij-idea/">IntelliJ Idea</a></li>
                    <li class="tag-1"><a href="../../tag/java/">Java</a></li>
                    <li class="tag-4"><a href="../../tag/javascript/">JavaScript</a></li>
                    <li class="tag-2"><a href="../../tag/mysql/">MYSQL</a></li>
                    <li class="tag-4"><a href="../../tag/mybatis/">Mybatis</a></li>
                    <li class="tag-1"><a href="../../tag/oracle/">Oracle</a></li>
                    <li class="tag-1"><a href="../../tag/python/">Python</a></li>
                    <li class="tag-4"><a href="../../tag/review/">Review</a></li>
            </ul>
        </nav>

        <div class="social sidebarbg">

            <nav class="widget">
                <h4>Social</h4>
                <ul class="blank">
                        <li><a target="_blank" href="mailto:alterhu2020@gmail.com?subject=From PingBook question">gmail</a></li>
                        <li><a target="_blank" href="https://twitter.com/alterhu2020">twitter</a></li>
                        <li><a target="_blank" href="https://github.com/alterhu2020/alterhu2020.github.io">github</a></li>
                </ul>
            </nav>
        </div>
        <nav class="widget sidebarbg">
            <h4>Friends</h4>
            <ul>
                    <li><a target="_blank" href="http://www.cnblogs.com/alterhu/">我的博客园</a></li>
                    <li><a target="_blank" href="http://xiaohanyu.me/about/">[运维]Xiao Hanyu</a></li>
                    <li><a target="_blank" href="http://huangxuan.me/">[前端]黄玄的博客</a></li>
                    <li><a target="_blank" href="http://www.ruanyifeng.com/blog/">[前端]阮一峰</a></li>
                    <li><a target="_blank" href="https://kevin.deldycke.com/">[Python]Data Engineer</a></li>
            </ul>
        </nav>

</div>        </div><!-- /.row -->


    </section>

    </div><!-- /.row -->
</div><!-- /.container -->


<div class="container.nopad bg">

    <footer id="credits" class="row" style="margin-bottom: 0px;text-align: center;">
        <div class="seven columns left-center">

            <address id="about" class="vcard body">
                ©
                <script>document.write(new Date().getFullYear())</script>
                PingBook.top. Powered by <a href="http://getpelican.com/">Pelican</a>.
                <!--<br />-->
                <div>
                    <span id="busuanzi_container_site_pv">Site Views: <span id="busuanzi_value_site_pv"></span></span>,
                    <span id="busuanzi_container_site_uv">Total Vistors: <span
                            id="busuanzi_value_site_uv"></span></span>
                </div>
            </address>
        </div>


        <div class="seven columns">
            <div class="row">
                <ul class="socbtns">





                </ul>
            </div>
        </div>
    </footer>

</div>


<script type="text/javascript">
    var disqus_shortname = 'pingbook';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script src="../../theme/js/libs/jquery-1.9.1.min.js"></script>
<script src="../../theme/js/libs/gumby.min.js"></script>
<script>
    function validateForm(query) {
        return (query.length > 0);
    }
</script>
<script async src="../../theme/js/libs/busuanzi.pure.mini.js"></script>
<script src="../../theme/js/plugins.js"></script>
</body>
</html>