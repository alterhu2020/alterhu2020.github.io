<!DOCTYPE html>
<html lang="zh_cn">
<head>

        <title>[Linux] (持续更新中)一些常用的linux系统的操作命令</title>
        <meta charset="utf-8"/>
        <meta name="description" content="




关键字¶ free top 防火墙操作¶ 显示防火墙状态 $ sudo iptables -L 关闭防火墙 $ sudo …">
        <meta name="keywords"
              content="Linux,pelican,github,软件测试,测试框架,测试开发,白盒测试,Selenium,Selenium开发,Vuejs,树莓派,自动化测试,编程语言,大数据,人工智能,开源软件,创业,程序员找工作,移动互联网,生活时尚,情感交流,软件测试,技术博客">


            <link href="https://pingbook.top/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="PingBook Blog Full Atom Feed"/>


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="../../theme/gumby.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/style.css"/>
        <link rel="stylesheet" type="text/css" href="../../theme/pygment.css"/>


        <script src="../../theme/js/libs/modernizr-2.6.2.min.js"></script>

            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({
                    google_ad_client: "ca-pub-1893384651266286",
                    enable_page_level_ads: true
                });
            </script>

            <!-- Global site tag (gtag.js) - Google Analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122219517-1"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'UA-122219517-1');
            </script>


        <!---->

</head>

<body id="index" class="home">


<div class="container">
    <div class="row">
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle ads-responsive"
                 data-ad-client="ca-pub-1893384651266286"
                 data-ad-slot="1234561"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
    </div>
    <div class="row">

        <header id="banner" class="body">

            <h1><a href="../..">PingBook Blog <strong></strong></a></h1>
        </header><!-- /#banner -->

        <div id="navigation" class="navbar row">
            <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>

            <ul class="columns" style="width: 100%">

                    <li ><a href="/">Home</a></li>
                    <li ><a href="/categories">Category</a></li>
                    <li ><a href="/archives">Archive</a></li>
                    <li ><a href="/tags">Tags</a></li>
                    <li ><a href="/about">About</a></li>
                    <li ><a href="/change-log">Changes</a></li>
            <li >
                <div style="display: block;
    padding: 0 16px;
    white-space: nowrap;
    color: white;
    text-shadow: 0 1px 2px #191a1b, 0 1px 0 #191a1b;
    height: 60px;
    line-height: 58px;
    font-size: 16px;
    font-size: 1rem;">
                <form class="navbar-search" action="../../search.html"
                      onsubmit="return validateForm(this.elements['q'].value);">
                    <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input">
                </form>
                </div>
            </li>

            </ul>


        </div>

    <section id="content" class="body">

        <div class="row">

            <div class="eleven columns">
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle ads-responsive"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="1234561"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                <header>
                    <h2 class="entry-title">
                        <a href="../../articles/basic-command/" rel="bookmark"
                           title="Permalink to [Linux] (持续更新中)一些常用的linux系统的操作命令">[Linux]&nbsp;(持续更新中)一些常用的linux系统的操作命令</a></h2>
                    
                </header>
                <footer class="post-info">
                    <!--<abbr class="published" title="2018-08-11T09:30:31.280688+08:00">-->
                    <!--2018-08-11 09:30:31-->
                    <!--</abbr>-->
                    <!---->
                        <!--<address class="vcard author">By -->
                        <!---->
                            <!--<a class="url fn" href="../../author/walter-hu"> Walter Hu</a>-->
                            <!---->
                        <!--</address>-->
                        <!---->
                    <address class="vcard author" style="font-style:italic;margin-bottom:-10px;">
                        2018-08-11 09:30:31
                            &nbsp;&nbsp;By
                            <a class="url fn" href="../../author/walter-hu">Walter Hu</a>

                        <span id="busuanzi_container_page_pv">, <i class="icon-eye icon-large"></i><span
                                id="busuanzi_value_page_pv"></span></span>
                        &nbsp;&nbsp;<p>本文出自<a href="https://pingbook.top">PingBook Blog</a>,转载请务必保留<a
                            href="../../articles/basic-command/">文章链接</a></p>
                    </address>
                    <hr/>
                </footer><!-- /.post-info -->
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle ads-responsive"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="1234565"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                <div class="entry-content">
                    <h2 id="_1">关键字<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<ol>
<li><code>free</code></li>
<li><code>top</code></li>
</ol>
<h2 id="_2">防火墙操作<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<ol>
<li>显示防火墙状态</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo iptables -L</span>
</pre></div>


<ol start="2">
<li>关闭防火墙</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo iptables -F  <span class="c1">#flush  清空所有的规则</span></span>
</pre></div>


<ol start="3">
<li>添加到防火墙中</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span>$ sudo iptables -A FIREWALL -p tcp -m tcp –dport <span class="m">80</span> –syn -j ACCEPT</span>
<span class="code-line"><span class="c1"># -A append</span></span>
<span class="code-line"><span class="c1"># -p protocol</span></span>
<span class="code-line"><span class="c1"># -m match</span></span>
<span class="code-line"><span class="c1"># -d destination</span></span>
<span class="code-line"><span class="c1"># -j jump</span></span>
<span class="code-line"></span>
<span class="code-line">$ sudo iptables -A FIREWALL -p tcp -m tcp --dport <span class="m">22</span> --syn -j ACCEPT  <span class="c1"># 打开22端口</span></span>
<span class="code-line">$ sudo iptables-save &gt; /etc/firewall-rules</span>
</pre></div>


<h3 id="_3">性能相关的命令<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>与<code>df</code>不一样的是，du会直接到文件系统内查找所有的文件数据。</p>
<div class="highlight"><pre><span class="code-line"><span></span># df -lh  # 查看磁盘空间</span>
<span class="code-line"># du -ah --max-depth=1     这个是我想要的结果  a表示显示目录下所有的文件和文件夹（不含子目录），h表示以人类能看懂的方式，max-depth表示目录的深度。</span>
<span class="code-line"></span>
<span class="code-line">````</span>
<span class="code-line"></span>
<span class="code-line">### 统计文件个数</span>
<span class="code-line"></span>
<span class="code-line">统计当前文件夹下文件的个数，包括子文件夹里的  </span>
<span class="code-line">`ls -lR|grep &quot;^-&quot;|wc -l`  </span>
<span class="code-line">统计文件夹下目录的个数，包括子文件夹里的  </span>
<span class="code-line">`ls -lR|grep &quot;^d&quot;|wc -l`  </span>
<span class="code-line">统计当前文件夹下文件的个数  </span>
<span class="code-line">`ls -l |grep &quot;^-&quot;|wc -l`  </span>
<span class="code-line">统计当前文件夹下目录的个数  </span>
<span class="code-line">`ls -l |grep &quot;^d&quot;|wc -l`  </span>
<span class="code-line"></span>
<span class="code-line">附：</span>
<span class="code-line">统计输出信息的行数  </span>
<span class="code-line">`wc -l`  </span>
<span class="code-line">将长列表输出信息过滤一部分，只保留一般文件，如果只保留目录就是 ^d  </span>
<span class="code-line">`grep &quot;^-&quot;`</span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">### 切换语言环境为英文</span>
<span class="code-line">参考文章: https://blog.csdn.net/yygydjkthh/article/details/47694747</span>
</pre></div>


<p>$ sudo export <span class="caps">LANG</span>=en_US.<span class="caps">UTF</span>-8
$ dpkg-reconfigure locales   # 点击空格选择en_US_UTF-8,点击空格去掉zh_CN_UTF-8
$ locale&nbsp;-a</p>
<div class="highlight"><pre><span class="code-line"><span></span>### 磁盘管理,加载新的磁盘</span>
<span class="code-line">参加文档: https://www.fujieace.com/linux/no-partition-is-defined-yet.html</span>
<span class="code-line">阿里云的帮助文档,注意ext3格式,实际的系统格式是ext4:https://help.aliyun.com/document_detail/25426.html?spm=a2c4g.11186623.2.9.u398NC</span>
<span class="code-line">No partition is defined yet!</span>
<span class="code-line">Could not delete partition 1</span>
<span class="code-line"></span>
<span class="code-line">&gt; 删除磁盘 `fdisk d`的时候一定要注意清空文件 `/etc/fstab`里面的内容,否则容易出现很大的问题.</span>
</pre></div>


<h1 id="fdisk-l">fdisk -l<a class="headerlink" href="#fdisk-l" title="Permanent link">&para;</a></h1>
<h1 id="fdisk-devsdb">fdisk /dev/sdb<a class="headerlink" href="#fdisk-devsdb" title="Permanent link">&para;</a></h1>
<h1 id="mkfsext4-devsdb1">mkfs.ext4 /dev/sdb1<a class="headerlink" href="#mkfsext4-devsdb1" title="Permanent link">&para;</a></h1>
<h1 id="nano-etcfstab">nano /etc/fstab  这里加上对应的需要加载的磁盘的信息<a class="headerlink" href="#nano-etcfstab" title="Permanent link">&para;</a></h1>
<h1 id="mount-devsdb1">mount /dev/sdb1<a class="headerlink" href="#mount-devsdb1" title="Permanent link">&para;</a></h1>
<div class="highlight"><pre><span class="code-line"><span></span>### install ZH_CN.UTF-8语言支持</span>
</pre></div>


<p>查看当前配置语言环境
$ locale -a
安装语言包
$ sudo  apt-get install locales
配置选择语言,按空格选择对应的字符集
$ sudo dpkg-reconfigure locales
locale的设定：
LC_ALL和LANG优先级的关系：LC_ALL &gt; LC_* &gt; <span class="caps">LANG</span></p>
<p>修改文件(debian系列)：/etc/default/locale&nbsp;修改文件(redhat系列)：/etc/sysconfig/i18n</p>
<p>1、如果需要一个纯中文的系统的话，设定LC_ALL=zh_CN.<span class="caps">XXXX</span>，或者LANG=zh_CN.XXXX都可以。
2、如果只想要一个可以输入中文的环境，而保持菜单、标题，系统信息等等为英文界面，那么只需要设定 LC_CTYPE=zh_CN.<span class="caps">XXXX</span>，<span class="caps">LANG</span>=en_US.XXXX就可以了。
3、假如什么也不做的话，也就是LC_ALL，LC_*和LANG均不指定特定值的话，系统将采用POSIX作为lcoale，也就是C&nbsp;locale。</p>
<p>$ sudo nano&nbsp;/etc/default/locale</p>
<p>临时设定编码：[nick@ubuntu~]$ export LC_ALL=&rdquo;zh_CN.<span class="caps">GBK</span>&rdquo;
2、永久设定编码：修改文件/etc/profile（对所有用户有效）或者~/.bash_profile。在文件尾加入export LC_ALL=zh_CN.<span class="caps">GBK</span></p>
<p>$ sudo nano&nbsp;/etc/profile</p>
<p>命令行中英文切换,本地安装的是中文字符集
$ export LC_ALL=C<br>
$ unset&nbsp;LC_ALL</p>
<p><span class="dquo">&#8220;</span>`</p>
                </div><!-- /.entry-content -->
                <br>
                <div><span>分类:</span>Linux</div>
                <br>
                <ul style="list-style-type: none;">
                        <li style="display: inline;margin-left: 10px; margin-right: auto;">
                            <a href="../../articles/5-software-performance-testing/">
                                ◄&nbsp;&nbsp;[面试] 5.&nbsp;性能测试相关的涉及内容
                            </a>
                        </li>
                        <li style="display: inline;margin-left: 100px; margin-right: auto;">
                            <a href="../../articles/python-error/">
                                Linux安装包遇到的问题&nbsp;&nbsp;►
                            </a>
                        </li>
                </ul>
                <hr/>
                <div class="comments">
                    <h3>Relate Articles</h3>
                </div>
                <hr/>
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle ads-responsive"
                         data-ad-client="ca-pub-1893384651266286"
                         data-ad-slot="1234566"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                    <div class="comments">
                        <h3>Comments</h3>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                            var disqus_identifier = "articles/basic-command/";
                            (function () {
                                var dsq = document.createElement('script');
                                dsq.type = 'text/javascript';
                                dsq.async = true;
                                dsq.src = 'https://pingbook.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                            })();
                        </script>
                        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments
                            powered by Disqus</a>.
                        </noscript>
                    </div>

            </div><!-- /.eleven.columns -->

<div class="three columns">
    <nav class="widget sidebarbg">
        <h4>Navigation</h4>
        <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/categories">Category</a></li>
                <li><a href="/archives">Archive</a></li>
                <li><a href="/tags">Tags</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/change-log">Changes</a></li>
        </ul>
    </nav>
        <div class="sidebarbg">
            <nav class="widget">
                <h4>Categories</h4>
                <ul class="blank">
                        <li><a href="../../category/tools/">Tools</a></li>
                        <li><a href="../../category/sql/">SQL</a></li>
                        <li><a href="../../category/softwaretesting/">SoftwareTesting</a></li>
                        <li><a href="../../category/shu-mei-pai/">树莓派</a></li>
                        <li><a href="../../category/python/">Python</a></li>
                        <li><a href="../../category/mian-shi/">面试</a></li>
                        <li><a href="../../category/linux/">Linux</a></li>
                        <li><a href="../../category/javascript/">JavaScript</a></li>
                        <li><a href="../../category/java/">Java</a></li>
                        <li><a href="../../category/bo-ke-da-jian/">博客搭建</a></li>
                </ul>
            </nav>
        </div>


        <nav class="widget sidebarbg">
            <h4>Tags</h4>
            <ul class="blank">
                    <li class="tag-4"><a href="../../tag/algorithm/">Algorithm</a></li>
                    <li class="tag-4"><a href="../../tag/javascript/">JavaScript</a></li>
                    <li class="tag-4"><a href="../../tag/review/">Review</a></li>
                    <li class="tag-2"><a href="../../tag/vuejs/">Vuejs</a></li>
                    <li class="tag-4"><a href="../../tag/bigdata/">bigdata</a></li>
                    <li class="tag-2"><a href="../../tag/cordova/">cordova</a></li>
                    <li class="tag-4"><a href="../../tag/dbforge-mysql/">dbforge mysql</a></li>
                    <li class="tag-4"><a href="../../tag/electron/">electron</a></li>
                    <li class="tag-4"><a href="../../tag/electron-builder/">electron-builder</a></li>
                    <li class="tag-4"><a href="../../tag/hadoop/">hadoop</a></li>
                    <li class="tag-1"><a href="../../tag/java/">java</a></li>
                    <li class="tag-4"><a href="../../tag/license/">license</a></li>
                    <li class="tag-4"><a href="../../tag/linux/">linux</a></li>
                    <li class="tag-4"><a href="../../tag/list/">list</a></li>
                    <li class="tag-4"><a href="../../tag/machine-learning/">machine learning</a></li>
                    <li class="tag-4"><a href="../../tag/mysql/">mysql</a></li>
                    <li class="tag-4"><a href="../../tag/mysqlbei-fen/">mysql备份</a></li>
                    <li class="tag-2"><a href="../../tag/nat123/">nat123</a></li>
                    <li class="tag-4"><a href="../../tag/nginx/">nginx</a></li>
                    <li class="tag-2"><a href="../../tag/pelican/">pelican</a></li>
                    <li class="tag-4"><a href="../../tag/performance-testing/">performance testing</a></li>
                    <li class="tag-4"><a href="../../tag/python3/">python3</a></li>
                    <li class="tag-4"><a href="../../tag/tensorflow/">tensorflow</a></li>
                    <li class="tag-4"><a href="../../tag/uninstall-netframework/">uninstall .netframework</a></li>
                    <li class="tag-4"><a href="../../tag/vsftpd/">vsftpd</a></li>
                    <li class="tag-4"><a href="../../tag/fen-ceng/">分层</a></li>
                    <li class="tag-1"><a href="../../tag/shu-mei-pai/">树莓派</a></li>
                    <li class="tag-4"><a href="../../tag/shu-mei-pai-jing-xiang/">树莓派镜像</a></li>
                    <li class="tag-4"><a href="../../tag/mian-xiang-dui-xiang/">面向对象</a></li>
                    <li class="tag-1"><a href="../../tag/mian-shi/">面试</a></li>
            </ul>
        </nav>

        <div class="social sidebarbg">

            <nav class="widget">
                <h4>Social</h4>
                <ul class="blank">
                        <li><a target="_blank" href="mailto:alterhu2020@gmail.com?subject=From PingBook question">gmail</a></li>
                        <li><a target="_blank" href="https://twitter.com/alterhu2020">twitter</a></li>
                        <li><a target="_blank" href="https://github.com/alterhu2020/alterhu2020.github.io">github</a></li>
                </ul>
            </nav>
        </div>
        <nav class="widget sidebarbg">
            <h4>Friends</h4>
            <ul>
                    <li><a target="_blank" href="http://www.cnblogs.com/alterhu/">我的博客园</a></li>
                    <li><a target="_blank" href="http://xiaohanyu.me/about/">[运维]Xiao Hanyu</a></li>
                    <li><a target="_blank" href="http://huangxuan.me/">[前端]黄玄的博客</a></li>
                    <li><a target="_blank" href="http://www.ruanyifeng.com/blog/">[前端]阮一峰</a></li>
                    <li><a target="_blank" href="https://kevin.deldycke.com/">[Python]Data Engineer</a></li>
            </ul>
        </nav>

</div>        </div><!-- /.row -->


    </section>

    </div><!-- /.row -->
</div><!-- /.container -->


<div class="container.nopad bg">


    <footer id="credits" class="row" style="margin-bottom: 0px">
        <div class="seven columns left-center">

            <address id="about" class="vcard body">
                ©
                <script>document.write(new Date().getFullYear())</script>
                PingBook.Inc. Powered by <a href="http://getpelican.com/">Pelican</a>.
                <!--<br />-->
                <div>
                    <span id="busuanzi_container_site_pv">Site Views: <span id="busuanzi_value_site_pv"></span></span>,
                    <span id="busuanzi_container_site_uv">Total Vistors: <span
                            id="busuanzi_value_site_uv"></span></span>
                </div>
            </address>
        </div>


        <div class="seven columns">
            <div class="row">
                <ul class="socbtns">





                </ul>
            </div>
        </div>
    </footer>

</div>


<script type="text/javascript">
    var disqus_shortname = 'pingbook';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script src="../../theme/js/libs/jquery-1.9.1.min.js"></script>
<script src="../../theme/js/libs/gumby.min.js"></script>
<script>
    function validateForm(query) {
        return (query.length > 0);
    }
</script>
<script async src="../../theme/js/libs/busuanzi.pure.mini.js"></script>
<script src="../../theme/js/plugins.js"></script>
</body>
</html>