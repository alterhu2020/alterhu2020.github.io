(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{346:function(t,n,e){"use strict";e.r(n);var a=e(9),r=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("参考："),e("a",{attrs:{href:"https://serverfault.com/questions/214242/can-i-hide-all-server-os-info/279389#279389",target:"_blank",rel:"noopener noreferrer"}},[t._v("修改nginx的Server名称,修改两个文件:ngx_http_header_filter_module.c和nginx.h"),e("OutboundLink")],1)]),t._v(" "),e("ClientOnly",[e("in-article-adsense",{attrs:{"ins-style":"display:block; text-align:center;","data-ad-slot":"7727965566"}})],1),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#nginx安装步骤"}},[t._v("Nginx安装步骤")])]),e("li",[e("a",{attrs:{href:"#配置静态域名：res-pingbook-top"}},[t._v("配置静态域名：res.pingbook.top")])]),e("li",[e("a",{attrs:{href:"#配置501-404默认页面"}},[t._v("配置501,404默认页面")])]),e("li",[e("a",{attrs:{href:"#配置内网映射"}},[t._v("配置内网映射")]),e("ul",[e("li",[e("a",{attrs:{href:"#frps-服务端配置脚本-frps-ini"}},[t._v("frps 服务端配置脚本 frps.ini")])])])]),e("li",[e("a",{attrs:{href:"#文档备份"}},[t._v("文档备份")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"nginx安装步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx安装步骤"}},[t._v("#")]),t._v(" Nginx安装步骤")]),t._v(" "),e("p",[t._v("有关各个安装类库的版本要求参见："),e("a",{attrs:{href:"https://nginx.org/en/docs/configure.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://nginx.org/en/docs/configure.html"),e("OutboundLink")],1)]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ cd /opt\n$ sudo mkdir nginx-modules\n$ cd nginx-modules\n\n// zlib安装\n$ wget http://zlib.net/zlib-1.2.11.tar.gz\n$ tar xvf zlib-1.2.11.tar.gz\n\n// ngx-brotli安装\n$ apt install git\n$ git clone https://github.com/google/ngx_brotli\n$ cd ngx_brotli && git submodule update --init --recursive --progress\n\n// pcre安装\n$ cd ..\n$ wget https://ftp.pcre.org/pub/pcre/pcre-8.43.tar.gz\n$ tar xvf pcre-8.43.tar.gz\n\n// OpenSSL安装\n$ wget https://www.openssl.org/source/openssl-1.1.1f.tar.gz\n$ tar xvf openssl-1.1.1f.tar.gz\n$ sudo apt install build-essential -y\n\n// nginx安装\n配置可参考： [Compile from source](https://github.com/jukbot/setup-nginx-webserver/blob/master/README.md)\n$ wget http://nginx.org/download/nginx-1.18.0.tar.gz\n$ tar zxvf nginx-1.18.0.tar.gz\n$ cd nginx-1.18.0\n$ sudo nano src/http/ngx_http_header_filter_module.c\n$ sudo nano src/core/nginx.h\n$ sudo nano src/http/ngx_http_special_response.c\n$ sudo mkdir /var/lib/nginx\n\n// 运行安装\n$ ./configure --prefix=/usr/local/nginx \\\n            --sbin-path=/usr/sbin/nginx \\\n            --modules-path=/usr/lib/nginx/modules \\\n            --conf-path=/etc/nginx/nginx.conf \\\n            --error-log-path=/var/log/nginx/error.log \\\n            --http-log-path=/var/log/nginx/access.log \\\n            --pid-path=/run/nginx.pid \\\n            --lock-path=/var/lock/nginx.lock \\\n            --user=www-data \\\n            --group=www-data \\\n            --http-client-body-temp-path=/var/lib/nginx/body \\\n            --http-fastcgi-temp-path=/var/lib/nginx/fastcgi \\\n            --http-proxy-temp-path=/var/lib/nginx/proxy \\\n            --http-scgi-temp-path=/var/lib/nginx/scgi \\\n            --http-uwsgi-temp-path=/var/lib/nginx/uwsgi \\\n            --with-openssl=../nginx-modules/openssl-1.1.1f \\\n            --with-openssl-opt=enable-ec_nistp_64_gcc_128 \\\n            --with-openssl-opt=no-nextprotoneg \\\n            --with-openssl-opt=no-weak-ssl-ciphers \\\n            --with-openssl-opt=no-ssl3 \\\n            --with-pcre=../nginx-modules/pcre-8.43 \\\n            --with-pcre-jit \\\n            --with-zlib=../nginx-modules/zlib-1.2.11 \\\n            --with-compat \\\n            --with-file-aio \\\n            --with-threads \\\n            --with-http_addition_module \\\n            --with-http_auth_request_module \\\n            --with-http_dav_module \\\n            --with-http_flv_module \\\n            --with-http_mp4_module \\\n            --with-http_gunzip_module \\\n            --with-http_gzip_static_module \\\n            --with-http_random_index_module \\\n            --with-http_realip_module \\\n            --with-http_slice_module \\\n            --with-http_ssl_module \\\n            --with-http_sub_module \\\n            --with-http_stub_status_module \\\n            --with-http_v2_module \\\n            --with-http_secure_link_module \\\n            --with-mail \\\n            --with-mail_ssl_module \\\n            --with-stream \\\n            --with-stream_realip_module \\\n            --with-stream_ssl_module \\\n            --with-stream_ssl_preread_module \\\n            --with-debug \\\n            --with-cc-opt='-g -O2 -fPIE -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2' \\\n            --with-ld-opt='-Wl,-Bsymbolic-functions -fPIE -pie -Wl,-z,relro -Wl,-z,now' \\\n            --add-module=../nginx-modules/ngx_brotli\n\n$ sudo make & sudo make install  #这个操作需要花费十分钟左右 \n")])])]),e("ClientOnly",[e("in-article-adsense",{attrs:{"ins-style":"display:block; text-align:center;","data-ad-slot":"7727965566"}})],1),t._v("\n## 安装nginx.service服务\n"),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nano")]),t._v(" /lib/systemd/system/nginx.service \n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Unit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Description")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("A high performance web server and a reverse proxy server\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Documentation")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("man:nginx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("After")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("network.target\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Service"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Type")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("forking\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PIDFile")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/run/nginx.pid\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStartPre")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/sbin/nginx -t -q -g "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'daemon on; master_process on;'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStartPost")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/bin/sleep "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/sbin/nginx -g "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'daemon on; master_process on;'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecReload")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/sbin/nginx -g "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'daemon on; master_process on;'")]),t._v(" -s reload\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStop")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("-/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TimeoutStopSec")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("KillMode")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mixed\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WantedBy")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("multi-user.target\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" nginx\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl restart nginx\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl status nginx\n\n// 删除默认的nginx网站目录\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /usr/local/nginx/*\n")])])]),e("p",[t._v("遇到异常的报错信息:")]),t._v(" "),e("blockquote",[e("p",[t._v("nginx.service: Failed to read PID from file "),e("code",[t._v("/run/nginx.pid")]),t._v(": Invalid argument")])]),t._v(" "),e("p",[t._v("That warning with the nginx.pid file is a know bug (at least for Ubutnu if not for other distros as well). More details here: https://bugs.launchpad.net/ubuntu/+source/nginx/+bug/1581864")]),t._v(" "),e("p",[t._v("Workaround (on a ssh console, as root, use the commands bellow):")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /etc/systemd/system/nginx.service.d\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[Service]'),e("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v("ExecStartPost=/bin/sleep 0.1"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /etc/systemd/system/nginx.service.d/override.conf\nsystemctl daemon-reload\nsystemctl restart nginx \n")])])]),e("h1",{attrs:{id:"nginx配置助手"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置助手"}},[t._v("#")]),t._v(" nginx配置助手")]),t._v(" "),e("ol",[e("li",[t._v("安装cerbot配置SSL")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo apt-get install certbot -y\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("配置nginx和SSL")])]),t._v(" "),e("p",[t._v("参考配置文件,每次只需要修改对应的域名(Domain)和目录(Path):\n"),e("a",{attrs:{href:"https://www.digitalocean.com/community/tools/nginx#?0.domain=pingbook.top&0.path=%2Fwww%2Fweb%2Fwww.pingbook.top&0.document_root=&0.redirect=false&0.email=alterhu2020@gmail.com&0.php=false&0.proxy&0.index=index.html&0.access_log_domain&0.error_log_domain&directory_letsencrypt=%2Fwww%2F_letsencrypt%2F&brotli&log_not_found&symlink=false",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginxconfig助手"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("以后每次配置子域名，只需要配置好对应的conf文件然后执行如下命令:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ certbot certonly --webroot -d res.pingbook.top --email alterhu2020@gmail.com -w /www/_letsencrypt -n --agree-tos --force-renewal\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("Symlink vhost配置文件")]),t._v(" "),e("p",[t._v("注意: 在"),e("code",[t._v("Symlink vhost")]),t._v(" 中不要勾选enable。\n完成以上的配置后不行看任意修改文件")])]),t._v(" "),e("h2",{attrs:{id:"配置静态域名：res-pingbook-top"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置静态域名：res-pingbook-top"}},[t._v("#")]),t._v(" 配置静态域名：res.pingbook.top")]),t._v(" "),e("p",[t._v("对于静态资源展示，提供了几种方式配置：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("简易配置Github风格：（推荐）"),e("a",{attrs:{href:"https://www.91yunbbs.com/discussion/441/autoindex-html-%E4%B8%80%E8%A1%8C%E9%85%8D%E7%BD%AE%E7%BE%8E%E5%8C%96-nginx-%E7%9B%AE%E5%BD%95%E6%88%90-github-%E9%A3%8E%E6%A0%BC",target:"_blank",rel:"noopener noreferrer"}},[t._v("autoindex.html - 一行配置美化 nginx 目录成 github 风格。"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[t._v("复杂配置，比较好看 "),e("a",{attrs:{href:"https://www.cnblogs.com/linkenpark/p/9184491.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ngx-fancyindex"),e("OutboundLink")],1)])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# 代理配置\nlocation / {\n  proxy_pass http://127.0.0.1:8080;\n  include nginxconfig.io/proxy.conf;\n}\n# 静态资源配置\nlocation / {\n  autoindex on; #开启目录浏览\n  autoindex_format html; #以html风格将目录展示在浏览器中\n  autoindex_exact_size off; #切换为 off 后，以可读的方式显示文件大小，单位为 KB、MB 或者 GB\n  autoindex_localtime on; #以服务器的文件时间作为显示的时间\n  charset utf-8,gbk; #展示中文文件名\n  # 美化显示\n  add_after_body /autoindex.html;\n  # try_files $uri $uri/ index.html;\n}\n\n")])])]),e("p",[t._v("其中的"),e("code",[t._v("autoindex.html")]),t._v("内容如下:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\x3c!-- autoindex.html 19.08, see https://phuslu.github.io --\x3e\n<script>\n!function(){\n\tvar website_title = ''\n\tvar datetime_format = '%d-%b-%Y %H:%M'\n\tvar show_readme_md = true\n\tvar max_name_length = 50\n\n\tvar dom = {\n\t\telement: null,\n\t\tget: function (o) {\n\t\t\tvar obj = Object.create(this)\n\t\t\tobj.element = (typeof o == \"object\") ? o : document.createElement(o)\n\t\t\treturn obj\n\t\t},\n\t\tadd: function (o) {\n\t\t\tvar obj = dom.get(o)\n\t\t\tthis.element.appendChild(obj.element)\n\t\t\treturn obj\n\t\t},\n\t\ttext: function (t) {\n\t\t\tthis.element.appendChild(document.createTextNode(t))\n\t\t\treturn this\n\t\t},\n\t\thtml: function (s) {\n\t\t\tthis.element.innerHTML = s\n\t\t\treturn this\n\t\t},\n\t\tattr: function (k, v) {\n\t\t\tthis.element.setAttribute(k, v)\n\t\t\treturn this\n\t\t}\n\t}\n\n\thead = dom.get(document.head)\n\thead.add('meta').attr('charset', 'utf-8')\n\thead.add('meta').attr('name', 'viewport').attr('content', 'width=device-width,initial-scale=1')\n\n\tif (!document.title) {\n\t\tdocument.write([\"<div class=\\\"container\\\">\",\n\t\t\"<h3>nginx.conf</h3>\",\n\t\t\"<textarea rows=8 cols=50>\",\n\t\t\"# download autoindex.html to /wwwroot/\",\n\t\t\"location ~ ^(.*)/$ {\",\n\t\t\"    charset utf-8;\",\n\t\t\"    autoindex on;\",\n\t\t\"    autoindex_localtime on;\",\n\t\t\"    autoindex_exact_size off;\",\n\t\t\"    add_after_body /autoindex.html;\",\n\t\t\"}\",\n\t\t\"</textarea>\",\n\t\t\"</div>\"].join(\"\\n\"))\n\t\treturn\n\t}\n\n\tvar bodylines = document.body.innerHTML.split('\\n')\n\tdocument.body.innerHTML = ''\n\n\tvar titlehtml = document.title.replace(/\\/$/, '').split('/').slice(1).reduce(function(acc, v, i, a) {\n\t\treturn acc + '<a href=\"/' + a.slice(0, i+1).join('/') + '/\">' + v + '</a>/'\n\t}, 'Index of /')\n\tif (website_title) {\n\t\tdocument.title = website_title + ' - ' + document.title\n\t}\n\n\tdiv = dom.get('div').attr('class', 'container')\n\tdiv.add('table').add('tbody').add('tr').add('th').html(titlehtml)\n\ttbody = div.add('table').attr('class', 'table-hover').add('tbody')\n\n\tnames = ['Name', 'Date', 'Size']\n\tthead = tbody.add('tr')\n\tfor (i = 0; i < names.length; i++)\n\t\tthead.add('td').add('a').attr('href', 'javascript:sortby('+i+')').attr('class', 'octicon arrow-up').text(names[i]);\n\n\tvar insert = function(filename, datetime, size) {\n\t\tif (/\\/$/.test(filename)) {\n\t\t\tcss = 'file-directory'\n\t\t\tsize = ''\n\t\t} else if (/\\.(zip|7z|bz2|gz|tar|tgz|tbz2|xz|cab)$/.test(filename)) {\n\t\t\tcss = 'file-zip'\n\t\t} else if (/\\.(py|js|php|pl|rb|sh|bash|lua|sql|go|rs|java|c|h|cpp|cxx|hpp)$/.test(filename)) {\n\t\t\tcss = 'file-code'\n\t\t} else if (/\\.(jpg|png|bmp|gif|ico|webp)$/.test(filename)) {\n\t\t\tcss = 'file-media'\n\t\t} else if (/\\.(flv|mp4|mkv|avi|mkv|vp9)$/.test(filename)) {\n\t\t\tcss = 'device-camera-video'\n\t\t} else {\n\t\t\tcss = 'file'\n\t\t}\n\n\t\tdisplayname = decodeURIComponent(filename.replace(/\\/$/, ''))\n\t\tif (displayname.length > max_name_length)\n\t\t\tdisplayname = displayname.substring(0, max_name_length-3) + '..>';\n\n\t\tif (!isNaN(Date.parse(datetime))) {\n\t\t\td = new Date(datetime)\n\t\t\tpad = function (s) {return s < 10 ? '0' + s : s}\n\t\t\tmon = function (m) {return ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'][m]}\n\t\t\tdatetime = datetime_format\n\t\t\t\t\t.replace('%Y', d.getFullYear())\n\t\t\t\t\t.replace('%m', pad(d.getMonth()+1))\n\t\t\t\t\t.replace('%d', pad(d.getDate()))\n\t\t\t\t\t.replace('%H', pad(d.getHours()))\n\t\t\t\t\t.replace('%M', pad(d.getMinutes()))\n\t\t\t\t\t.replace('%S', pad(d.getSeconds()))\n\t\t\t\t\t.replace('%b', mon(d.getMonth()))\n\t\t}\n\n\t\ttr = tbody.add('tr')\n\t\ttr.add('td').add('a').attr('class', 'octicon ' + css).attr('href', filename).text(displayname)\n\t\ttr.add('td').text(datetime)\n\t\ttr.add('td').text(size)\n\t}\n\n\tvar readme = ''\n\tinsert('../', '', '-')\n\tfor (var i in bodylines) {\n\t\tif (m = /\\s*<a href=\"(.+?)\">(.+?)<\\/a>\\s+(\\S+)\\s+(\\S+)\\s+(\\S+)\\s*/.exec(bodylines[i])) {\n\t\t\tfilename = m[1]\n\t\t\tdatetime = m[3] + ' ' + m[4]\n\t\t\tsize = m[5]\n\t\t\tinsert(filename, datetime, size)\n\t\t\tif (filename.toLowerCase() == 'readme.md') {\n\t\t\t\treadme = filename\n\t\t\t}\n\t\t}\n\t}\n\n\tdocument.body.appendChild(div.element)\n\n\tif (show_readme_md && readme !== '') {\n\t\ttbody = div.add('table').add('tbody');\n\t\ttbody.add('tr').add('th').attr('class', 'octicon octicon-book').text(readme)\n\t\ttbody.add('tr').add('td').add('div').attr('id', 'readme').attr('class', 'markdown-body')\n\t\tvar xhr = new XMLHttpRequest()\n\t\txhr.open('GET', location.pathname.replace(/[^/]+$/, '')+readme, true)\n\t\txhr.onload = function() {\n\t\t\tif (xhr.status >= 200 && xhr.status < 400) {\n\t\t\t\twait = function (name, callback) {\n\t\t\t\t\tvar interval = 10; // ms\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tif (window[name]) {\n\t\t\t\t\t\t\tcallback(window[name])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.setTimeout(arguments.callee, interval)\n\t\t\t\t\t\t}\n\t\t\t\t\t}, interval)\n\t\t\t\t}\n\t\t\t\twait('marked', function() {\n\t\t\t\t\tdocument.getElementById(\"readme\").innerHTML = marked(xhr.responseText)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\txhr.send()\n\n\t\tdiv.add('script').attr('src', 'https://cdn.staticfile.org/marked/0.7.0/marked.min.js')\n\t\tdiv.add('link').attr('rel', 'stylesheet').attr('href', 'https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css')\n\t}\n}()\n\nfunction sortby(index) {\n\trows = document.getElementsByClassName('table-hover')[0].rows\n\tlink = rows[0].getElementsByTagName('a')[index]\n\tarrow = link.className == 'octicon arrow-down' ? 1 : -1\n\tlink.className = 'octicon arrow-' + (arrow == 1 ? 'up' : 'down');\n\t[].slice.call(rows).slice(2).map(function (e, i) {\n\t\ttype = e.getElementsByTagName('a')[0].className == 'octicon file-directory' ? 0 : 1\n\t\ttext = e.getElementsByTagName('td')[index].innerText\n\t\tif (index === 0) {\n\t\t\tvalue = text\n\t\t} else if (index === 1) {\n\t\t\tvalue = new Date(text).getTime()\n\t\t} else if (index === 2) {\n\t\t\tm = {'G':1024*1024*1024, 'M':1024*1024, 'K':1024}\n\t\t\tvalue = parseInt(text || 0) * (m[text[text.search(/[KMG]B?$/)]] || 1)\n\t\t}\n\t\treturn {type: type, value: value, index: i, html: e.innerHTML}\n\t}).sort(function (a, b) {\n\t\tif (a.type != b.type)\n\t\t\treturn a.type - b.type\n\t\tif (a.value != b.value)\n\t\t\treturn a.value < b.value ? -arrow : arrow\n\t\treturn a.index < b.index ? -arrow : arrow\n\t}).forEach(function (e, i) {\n\t\trows[2+i].innerHTML = e.html\n\t})\n}\n<\/script>\n\n<style>\nbody {\n\tmargin: 0;\n\tfont-family: \"ubuntu\", \"Tahoma\", \"Microsoft YaHei\", Arial, Serif;\n}\n.container {\n\tpadding-right: 15px;\n\tpadding-left: 15px;\n\tmargin-right: auto;\n\tmargin-left: auto;\n}\n@media (min-width: 768px) {\n\t.container {\n\t\tmax-width: 750px;\n\t}\n}\n@media (min-width: 992px) {\n\t.container {\n\t\tmax-width: 970px;\n\t}\n}\n@media (min-width: 1200px) {\n\t.container {\n\t\tmax-width: 1170px;\n\t}\n}\ntable {\n\twidth: 100%;\n\tmax-width: 100%;\n\tmargin-bottom: 20px;\n\tborder: 1px solid #ddd;\n\tpadding: 0;\n\tborder-collapse: collapse;\n}\ntable th {\n\tfont-size: 14px;\n}\ntable tr {\n\tborder: 1px solid #ddd;\n\tpadding: 5px;\n}\ntable tr:nth-child(odd) {\n\tbackground: #f9f9f9\n}\ntable th, table td {\n\tborder: 1px solid #ddd;\n\tfont-size: 14px;\n\tline-height: 20px;\n\tpadding: 3px;\n\ttext-align: left;\n}\na {\n\tcolor: #337ab7;\n\ttext-decoration: none;\n}\na:hover, a:focus {\n\tcolor: #2a6496;\n\ttext-decoration: underline;\n}\ntable.table-hover > tbody > tr:hover > td,\ntable.table-hover > tbody > tr:hover > th {\n\tbackground-color: #f5f5f5;\n}\n.markdown-body {\n\tfloat: left;\n\tfont-family: \"ubuntu\", \"Tahoma\", \"Microsoft YaHei\", Arial, Serif;\n}\n/* octicons */\n.octicon {\n\tbackground-position: center left;\n\tbackground-repeat: no-repeat;\n\tpadding-left: 16px;\n}\n.file {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='16' viewBox='0 0 12 16'%3E%3Cpath d='M6 5L2 5 2 4 6 4 6 5 6 5ZM2 8L9 8 9 7 2 7 2 8 2 8ZM2 10L9 10 9 9 2 9 2 10 2 10ZM2 12L9 12 9 11 2 11 2 12 2 12ZM12 4.5L12 14C12 14.6 11.6 15 11 15L1 15C0.5 15 0 14.6 0 14L0 2C0 1.5 0.5 1 1 1L8.5 1 12 4.5 12 4.5ZM11 5L8 2 1 2 1 14 11 14 11 5 11 5Z' fill='%237D94AE'/%3E%3C/svg%3E\");\n}\n.file-directory {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='16' viewBox='0 0 14 16'%3E%3Cpath d='M13 4L7 4 7 3C7 2.3 6.7 2 6 2L1 2C0.5 2 0 2.5 0 3L0 13C0 13.6 0.5 14 1 14L13 14C13.6 14 14 13.6 14 13L14 5C14 4.5 13.6 4 13 4L13 4ZM6 4L1 4 1 3 6 3 6 4 6 4Z' fill='%237D94AE'/%3E%3C/svg%3E\");\n}\n.file-zip {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='16' viewBox='0 0 12 16'%3E%3Cpath d='M8.5 1L1 1C0.4 1 0 1.4 0 2L0 14C0 14.6 0.4 15 1 15L11 15C11.6 15 12 14.6 12 14L12 4.5 8.5 1ZM11 14L1 14 1 2 4 2 4 3 5 3 5 2 8 2 11 5 11 14 11 14ZM5 4L5 3 6 3 6 4 5 4 5 4ZM4 4L5 4 5 5 4 5 4 4 4 4ZM5 6L5 5 6 5 6 6 5 6 5 6ZM4 6L5 6 5 7 4 7 4 6 4 6ZM5 8L5 7 6 7 6 8 5 8 5 8ZM4 9.3C3.4 9.6 3 10.3 3 11L3 12 7 12 7 11C7 9.9 6.1 9 5 9L5 8 4 8 4 9.3 4 9.3ZM6 10L6 11 4 11 4 10 6 10 6 10Z' fill='%237D94AE'/%3E%3C/svg%3E\");\n}\n.file-code {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='16' viewBox='0 0 12 16'%3E%3Cpath d='M8.5,1 L1,1 C0.45,1 0,1.45 0,2 L0,14 C0,14.55 0.45,15 1,15 L11,15 C11.55,15 12,14.55 12,14 L12,4.5 L8.5,1 L8.5,1 Z M11,14 L1,14 L1,2 L8,2 L11,5 L11,14 L11,14 Z M5,6.98 L3.5,8.5 L5,10 L4.5,11 L2,8.5 L4.5,6 L5,6.98 L5,6.98 Z M7.5,6 L10,8.5 L7.5,11 L7,10.02 L8.5,8.5 L7,7 L7.5,6 L7.5,6 Z' fill='%237D94AE' /%3E%3C/svg%3E\");\n}\n.file-media {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='16' viewBox='0 0 12 16'%3E%3Cpath d='M6 5L8 5 8 7 6 7 6 5 6 5ZM12 4.5L12 14C12 14.6 11.6 15 11 15L1 15C0.5 15 0 14.6 0 14L0 2C0 1.5 0.5 1 1 1L8.5 1 12 4.5 12 4.5ZM11 5L8 2 1 2 1 13 4 8 6 12 8 10 11 13 11 5 11 5Z' fill='%237D94AE'/%3E%3C/svg%3E\");\n}\n.device-camera-video {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath d='M15.2,2.09 L10,5.72 L10,3 C10,2.45 9.55,2 9,2 L1,2 C0.45,2 0,2.45 0,3 L0,12 C0,12.55 0.45,13 1,13 L9,13 C9.55,13 10,12.55 10,12 L10,9.28 L15.2,12.91 C15.53,13.14 16,12.91 16,12.5 L16,2.5 C16,2.09 15.53,1.86 15.2,2.09 L15.2,2.09 Z' fill='%237D94AE' /%3E%3C/svg%3E\");\n}\n.octicon-book {\n\tpadding-left: 20px;\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath d='M3,5 L7,5 L7,6 L3,6 L3,5 L3,5 Z M3,8 L7,8 L7,7 L3,7 L3,8 L3,8 Z M3,10 L7,10 L7,9 L3,9 L3,10 L3,10 Z M14,5 L10,5 L10,6 L14,6 L14,5 L14,5 Z M14,7 L10,7 L10,8 L14,8 L14,7 L14,7 Z M14,9 L10,9 L10,10 L14,10 L14,9 L14,9 Z M16,3 L16,12 C16,12.55 15.55,13 15,13 L9.5,13 L8.5,14 L7.5,13 L2,13 C1.45,13 1,12.55 1,12 L1,3 C1,2.45 1.45,2 2,2 L7.5,2 L8.5,3 L9.5,2 L15,2 C15.55,2 16,2.45 16,3 L16,3 Z M8,3.5 L7.5,3 L2,3 L2,12 L8,12 L8,3.5 L8,3.5 Z M15,3 L9.5,3 L9,3.5 L9,12 L15,12 L15,3 L15,3 Z' /%3E%3C/svg%3E\");\n}\n.arrow-down {\n\tfont-weight: bold;\n\ttext-decoration: none !important;\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='16' viewBox='0 0 10 16'%3E%3Cpolygon id='Shape' points='7 7 7 3 3 3 3 7 0 7 5 13 10 7'%3E%3C/polygon%3E%3C/svg%3E\");\n}\n.arrow-up {\n\tfont-weight: bold;\n\ttext-decoration: none !important;\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='16' viewBox='0 0 10 16'%3E%3Cpolygon id='Shape' points='5 3 0 9 3 9 3 13 7 13 7 9 10 9'%3E%3C/polygon%3E%3C/svg%3E\");\n}\n</style>\n\x3c!-- autoindex.html 19.08, see https://phuslu.github.io --\x3e\n<script>\n!function(){\n\tvar website_title = ''\n\tvar datetime_format = '%d-%b-%Y %H:%M'\n\tvar show_readme_md = true\n\tvar max_name_length = 50\n\n\tvar dom = {\n\t\telement: null,\n\t\tget: function (o) {\n\t\t\tvar obj = Object.create(this)\n\t\t\tobj.element = (typeof o == \"object\") ? o : document.createElement(o)\n\t\t\treturn obj\n\t\t},\n\t\tadd: function (o) {\n\t\t\tvar obj = dom.get(o)\n\t\t\tthis.element.appendChild(obj.element)\n\t\t\treturn obj\n\t\t},\n\t\ttext: function (t) {\n\t\t\tthis.element.appendChild(document.createTextNode(t))\n\t\t\treturn this\n\t\t},\n\t\thtml: function (s) {\n\t\t\tthis.element.innerHTML = s\n\t\t\treturn this\n\t\t},\n\t\tattr: function (k, v) {\n\t\t\tthis.element.setAttribute(k, v)\n\t\t\treturn this\n\t\t}\n\t}\n\n\thead = dom.get(document.head)\n\thead.add('meta').attr('charset', 'utf-8')\n\thead.add('meta').attr('name', 'viewport').attr('content', 'width=device-width,initial-scale=1')\n\n\tif (!document.title) {\n\t\tdocument.write([\"<div class=\\\"container\\\">\",\n\t\t\"<h3>nginx.conf</h3>\",\n\t\t\"<textarea rows=8 cols=50>\",\n\t\t\"# download autoindex.html to /wwwroot/\",\n\t\t\"location ~ ^(.*)/$ {\",\n\t\t\"    charset utf-8;\",\n\t\t\"    autoindex on;\",\n\t\t\"    autoindex_localtime on;\",\n\t\t\"    autoindex_exact_size off;\",\n\t\t\"    add_after_body /autoindex.html;\",\n\t\t\"}\",\n\t\t\"</textarea>\",\n\t\t\"</div>\"].join(\"\\n\"))\n\t\treturn\n\t}\n\n\tvar bodylines = document.body.innerHTML.split('\\n')\n\tdocument.body.innerHTML = ''\n\n\tvar titlehtml = document.title.replace(/\\/$/, '').split('/').slice(1).reduce(function(acc, v, i, a) {\n\t\treturn acc + '<a href=\"/' + a.slice(0, i+1).join('/') + '/\">' + v + '</a>/'\n\t}, 'Index of /')\n\tif (website_title) {\n\t\tdocument.title = website_title + ' - ' + document.title\n\t}\n\n\tdiv = dom.get('div').attr('class', 'container')\n\tdiv.add('table').add('tbody').add('tr').add('th').html(titlehtml)\n\ttbody = div.add('table').attr('class', 'table-hover').add('tbody')\n\n\tnames = ['Name', 'Date', 'Size']\n\tthead = tbody.add('tr')\n\tfor (i = 0; i < names.length; i++)\n\t\tthead.add('td').add('a').attr('href', 'javascript:sortby('+i+')').attr('class', 'octicon arrow-up').text(names[i]);\n\n\tvar insert = function(filename, datetime, size) {\n\t\tif (/\\/$/.test(filename)) {\n\t\t\tcss = 'file-directory'\n\t\t\tsize = ''\n\t\t} else if (/\\.(zip|7z|bz2|gz|tar|tgz|tbz2|xz|cab)$/.test(filename)) {\n\t\t\tcss = 'file-zip'\n\t\t} else if (/\\.(py|js|php|pl|rb|sh|bash|lua|sql|go|rs|java|c|h|cpp|cxx|hpp)$/.test(filename)) {\n\t\t\tcss = 'file-code'\n\t\t} else if (/\\.(jpg|png|bmp|gif|ico|webp)$/.test(filename)) {\n\t\t\tcss = 'file-media'\n\t\t} else if (/\\.(flv|mp4|mkv|avi|mkv|vp9)$/.test(filename)) {\n\t\t\tcss = 'device-camera-video'\n\t\t} else {\n\t\t\tcss = 'file'\n\t\t}\n\n\t\tdisplayname = decodeURIComponent(filename.replace(/\\/$/, ''))\n\t\tif (displayname.length > max_name_length)\n\t\t\tdisplayname = displayname.substring(0, max_name_length-3) + '..>';\n\n\t\tif (!isNaN(Date.parse(datetime))) {\n\t\t\td = new Date(datetime)\n\t\t\tpad = function (s) {return s < 10 ? '0' + s : s}\n\t\t\tmon = function (m) {return ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'][m]}\n\t\t\tdatetime = datetime_format\n\t\t\t\t\t.replace('%Y', d.getFullYear())\n\t\t\t\t\t.replace('%m', pad(d.getMonth()+1))\n\t\t\t\t\t.replace('%d', pad(d.getDate()))\n\t\t\t\t\t.replace('%H', pad(d.getHours()))\n\t\t\t\t\t.replace('%M', pad(d.getMinutes()))\n\t\t\t\t\t.replace('%S', pad(d.getSeconds()))\n\t\t\t\t\t.replace('%b', mon(d.getMonth()))\n\t\t}\n\n\t\ttr = tbody.add('tr')\n\t\ttr.add('td').add('a').attr('class', 'octicon ' + css).attr('href', filename).text(displayname)\n\t\ttr.add('td').text(datetime)\n\t\ttr.add('td').text(size)\n\t}\n\n\tvar readme = ''\n\tinsert('../', '', '-')\n\tfor (var i in bodylines) {\n\t\tif (m = /\\s*<a href=\"(.+?)\">(.+?)<\\/a>\\s+(\\S+)\\s+(\\S+)\\s+(\\S+)\\s*/.exec(bodylines[i])) {\n\t\t\tfilename = m[1]\n\t\t\tdatetime = m[3] + ' ' + m[4]\n\t\t\tsize = m[5]\n\t\t\tinsert(filename, datetime, size)\n\t\t\tif (filename.toLowerCase() == 'readme.md') {\n\t\t\t\treadme = filename\n\t\t\t}\n\t\t}\n\t}\n\n\tdocument.body.appendChild(div.element)\n\n\tif (show_readme_md && readme !== '') {\n\t\ttbody = div.add('table').add('tbody');\n\t\ttbody.add('tr').add('th').attr('class', 'octicon octicon-book').text(readme)\n\t\ttbody.add('tr').add('td').add('div').attr('id', 'readme').attr('class', 'markdown-body')\n\t\tvar xhr = new XMLHttpRequest()\n\t\txhr.open('GET', location.pathname.replace(/[^/]+$/, '')+readme, true)\n\t\txhr.onload = function() {\n\t\t\tif (xhr.status >= 200 && xhr.status < 400) {\n\t\t\t\twait = function (name, callback) {\n\t\t\t\t\tvar interval = 10; // ms\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tif (window[name]) {\n\t\t\t\t\t\t\tcallback(window[name])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.setTimeout(arguments.callee, interval)\n\t\t\t\t\t\t}\n\t\t\t\t\t}, interval)\n\t\t\t\t}\n\t\t\t\twait('marked', function() {\n\t\t\t\t\tdocument.getElementById(\"readme\").innerHTML = marked(xhr.responseText)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\txhr.send()\n\n\t\tdiv.add('script').attr('src', 'https://cdn.staticfile.org/marked/0.7.0/marked.min.js')\n\t\tdiv.add('link').attr('rel', 'stylesheet').attr('href', 'https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css')\n\t}\n}()\n\nfunction sortby(index) {\n\trows = document.getElementsByClassName('table-hover')[0].rows\n\tlink = rows[0].getElementsByTagName('a')[index]\n\tarrow = link.className == 'octicon arrow-down' ? 1 : -1\n\tlink.className = 'octicon arrow-' + (arrow == 1 ? 'up' : 'down');\n\t[].slice.call(rows).slice(2).map(function (e, i) {\n\t\ttype = e.getElementsByTagName('a')[0].className == 'octicon file-directory' ? 0 : 1\n\t\ttext = e.getElementsByTagName('td')[index].innerText\n\t\tif (index === 0) {\n\t\t\tvalue = text\n\t\t} else if (index === 1) {\n\t\t\tvalue = new Date(text).getTime()\n\t\t} else if (index === 2) {\n\t\t\tm = {'G':1024*1024*1024, 'M':1024*1024, 'K':1024}\n\t\t\tvalue = parseInt(text || 0) * (m[text[text.search(/[KMG]B?$/)]] || 1)\n\t\t}\n\t\treturn {type: type, value: value, index: i, html: e.innerHTML}\n\t}).sort(function (a, b) {\n\t\tif (a.type != b.type)\n\t\t\treturn a.type - b.type\n\t\tif (a.value != b.value)\n\t\t\treturn a.value < b.value ? -arrow : arrow\n\t\treturn a.index < b.index ? -arrow : arrow\n\t}).forEach(function (e, i) {\n\t\trows[2+i].innerHTML = e.html\n\t})\n}\n<\/script>\n\n<style>\nbody {\n\tmargin: 0;\n\tfont-family: \"ubuntu\", \"Tahoma\", \"Microsoft YaHei\", Arial, Serif;\n}\n.container {\n\tpadding-right: 15px;\n\tpadding-left: 15px;\n\tmargin-right: auto;\n\tmargin-left: auto;\n}\n@media (min-width: 768px) {\n\t.container {\n\t\tmax-width: 750px;\n\t}\n}\n@media (min-width: 992px) {\n\t.container {\n\t\tmax-width: 970px;\n\t}\n}\n@media (min-width: 1200px) {\n\t.container {\n\t\tmax-width: 1170px;\n\t}\n}\ntable {\n\twidth: 100%;\n\tmax-width: 100%;\n\tmargin-bottom: 20px;\n\tborder: 1px solid #ddd;\n\tpadding: 0;\n\tborder-collapse: collapse;\n}\ntable th {\n\tfont-size: 14px;\n}\ntable tr {\n\tborder: 1px solid #ddd;\n\tpadding: 5px;\n}\ntable tr:nth-child(odd) {\n\tbackground: #f9f9f9\n}\ntable th, table td {\n\tborder: 1px solid #ddd;\n\tfont-size: 14px;\n\tline-height: 20px;\n\tpadding: 3px;\n\ttext-align: left;\n}\na {\n\tcolor: #337ab7;\n\ttext-decoration: none;\n}\na:hover, a:focus {\n\tcolor: #2a6496;\n\ttext-decoration: underline;\n}\ntable.table-hover > tbody > tr:hover > td,\ntable.table-hover > tbody > tr:hover > th {\n\tbackground-color: #f5f5f5;\n}\n.markdown-body {\n\tfloat: left;\n\tfont-family: \"ubuntu\", \"Tahoma\", \"Microsoft YaHei\", Arial, Serif;\n}\n/* octicons */\n.octicon {\n\tbackground-position: center left;\n\tbackground-repeat: no-repeat;\n\tpadding-left: 16px;\n}\n.file {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='16' viewBox='0 0 12 16'%3E%3Cpath d='M6 5L2 5 2 4 6 4 6 5 6 5ZM2 8L9 8 9 7 2 7 2 8 2 8ZM2 10L9 10 9 9 2 9 2 10 2 10ZM2 12L9 12 9 11 2 11 2 12 2 12ZM12 4.5L12 14C12 14.6 11.6 15 11 15L1 15C0.5 15 0 14.6 0 14L0 2C0 1.5 0.5 1 1 1L8.5 1 12 4.5 12 4.5ZM11 5L8 2 1 2 1 14 11 14 11 5 11 5Z' fill='%237D94AE'/%3E%3C/svg%3E\");\n}\n.file-directory {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='16' viewBox='0 0 14 16'%3E%3Cpath d='M13 4L7 4 7 3C7 2.3 6.7 2 6 2L1 2C0.5 2 0 2.5 0 3L0 13C0 13.6 0.5 14 1 14L13 14C13.6 14 14 13.6 14 13L14 5C14 4.5 13.6 4 13 4L13 4ZM6 4L1 4 1 3 6 3 6 4 6 4Z' fill='%237D94AE'/%3E%3C/svg%3E\");\n}\n.file-zip {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='16' viewBox='0 0 12 16'%3E%3Cpath d='M8.5 1L1 1C0.4 1 0 1.4 0 2L0 14C0 14.6 0.4 15 1 15L11 15C11.6 15 12 14.6 12 14L12 4.5 8.5 1ZM11 14L1 14 1 2 4 2 4 3 5 3 5 2 8 2 11 5 11 14 11 14ZM5 4L5 3 6 3 6 4 5 4 5 4ZM4 4L5 4 5 5 4 5 4 4 4 4ZM5 6L5 5 6 5 6 6 5 6 5 6ZM4 6L5 6 5 7 4 7 4 6 4 6ZM5 8L5 7 6 7 6 8 5 8 5 8ZM4 9.3C3.4 9.6 3 10.3 3 11L3 12 7 12 7 11C7 9.9 6.1 9 5 9L5 8 4 8 4 9.3 4 9.3ZM6 10L6 11 4 11 4 10 6 10 6 10Z' fill='%237D94AE'/%3E%3C/svg%3E\");\n}\n.file-code {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='16' viewBox='0 0 12 16'%3E%3Cpath d='M8.5,1 L1,1 C0.45,1 0,1.45 0,2 L0,14 C0,14.55 0.45,15 1,15 L11,15 C11.55,15 12,14.55 12,14 L12,4.5 L8.5,1 L8.5,1 Z M11,14 L1,14 L1,2 L8,2 L11,5 L11,14 L11,14 Z M5,6.98 L3.5,8.5 L5,10 L4.5,11 L2,8.5 L4.5,6 L5,6.98 L5,6.98 Z M7.5,6 L10,8.5 L7.5,11 L7,10.02 L8.5,8.5 L7,7 L7.5,6 L7.5,6 Z' fill='%237D94AE' /%3E%3C/svg%3E\");\n}\n.file-media {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='16' viewBox='0 0 12 16'%3E%3Cpath d='M6 5L8 5 8 7 6 7 6 5 6 5ZM12 4.5L12 14C12 14.6 11.6 15 11 15L1 15C0.5 15 0 14.6 0 14L0 2C0 1.5 0.5 1 1 1L8.5 1 12 4.5 12 4.5ZM11 5L8 2 1 2 1 13 4 8 6 12 8 10 11 13 11 5 11 5Z' fill='%237D94AE'/%3E%3C/svg%3E\");\n}\n.device-camera-video {\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath d='M15.2,2.09 L10,5.72 L10,3 C10,2.45 9.55,2 9,2 L1,2 C0.45,2 0,2.45 0,3 L0,12 C0,12.55 0.45,13 1,13 L9,13 C9.55,13 10,12.55 10,12 L10,9.28 L15.2,12.91 C15.53,13.14 16,12.91 16,12.5 L16,2.5 C16,2.09 15.53,1.86 15.2,2.09 L15.2,2.09 Z' fill='%237D94AE' /%3E%3C/svg%3E\");\n}\n.octicon-book {\n\tpadding-left: 20px;\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath d='M3,5 L7,5 L7,6 L3,6 L3,5 L3,5 Z M3,8 L7,8 L7,7 L3,7 L3,8 L3,8 Z M3,10 L7,10 L7,9 L3,9 L3,10 L3,10 Z M14,5 L10,5 L10,6 L14,6 L14,5 L14,5 Z M14,7 L10,7 L10,8 L14,8 L14,7 L14,7 Z M14,9 L10,9 L10,10 L14,10 L14,9 L14,9 Z M16,3 L16,12 C16,12.55 15.55,13 15,13 L9.5,13 L8.5,14 L7.5,13 L2,13 C1.45,13 1,12.55 1,12 L1,3 C1,2.45 1.45,2 2,2 L7.5,2 L8.5,3 L9.5,2 L15,2 C15.55,2 16,2.45 16,3 L16,3 Z M8,3.5 L7.5,3 L2,3 L2,12 L8,12 L8,3.5 L8,3.5 Z M15,3 L9.5,3 L9,3.5 L9,12 L15,12 L15,3 L15,3 Z' /%3E%3C/svg%3E\");\n}\n.arrow-down {\n\tfont-weight: bold;\n\ttext-decoration: none !important;\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='16' viewBox='0 0 10 16'%3E%3Cpolygon id='Shape' points='7 7 7 3 3 3 3 7 0 7 5 13 10 7'%3E%3C/polygon%3E%3C/svg%3E\");\n}\n.arrow-up {\n\tfont-weight: bold;\n\ttext-decoration: none !important;\n\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='16' viewBox='0 0 10 16'%3E%3Cpolygon id='Shape' points='5 3 0 9 3 9 3 13 7 13 7 9 10 9'%3E%3C/polygon%3E%3C/svg%3E\");\n}\n</style>\n\n")])])]),e("h2",{attrs:{id:"配置501-404默认页面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置501-404默认页面"}},[t._v("#")]),t._v(" 配置501,404默认页面")]),t._v(" "),e("p",[t._v("修改文件: "),e("code",[t._v("/etc/nginx/nginx.conf")]),t._v(",参考链接: "),e("a",{attrs:{href:"https://blog.adriaan.io/one-nginx-error-page-to-rule-them-all.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("One NGINX error page to rule them all"),e("OutboundLink")],1)]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\nhttp {\n     # error pages\n\tmap $status $status_text {\n\t\t400 'Bad Request';\n\t\t401 'Unauthorized';\n\t\t402 'Payment Required';\n\t\t403 'Forbidden';\n\t\t404 'Not Found';\n\t\t405 'Method Not Allowed';\n\t\t406 'Not Acceptable';\n\t\t407 'Proxy Authentication Required';\n\t\t408 'Request Timeout';\n\t\t409 'Conflict';\n\t\t410 'Gone';\n\t\t411 'Length Required';\n\t\t412 'Precondition Failed';\n\t\t413 'Payload Too Large';\n\t\t414 'URI Too Long';\n\t\t415 'Unsupported Media Type';\n\t\t416 'Range Not Satisfiable';\n\t\t417 'Expectation Failed';\n\t\t418 'I\\'m a teapot';\n\t\t421 'Misdirected Request';\n\t\t422 'Unprocessable Entity';\n\t\t423 'Locked';\n\t\t424 'Failed Dependency';\n\t\t426 'Upgrade Required';\n\t\t428 'Precondition Required';\n\t\t429 'Too Many Requests';\n\t\t431 'Request Header Fields Too Large';\n\t\t451 'Unavailable For Legal Reasons';\n\t\t500 'Internal Server Error';\n\t\t501 'Not Implemented';\n\t\t502 'Bad Gateway';\n\t\t503 'Service Unavailable';\n\t\t504 'Gateway Timeout';\n\t\t505 'HTTP Version Not Supported';\n\t\t506 'Variant Also Negotiates';\n\t\t507 'Insufficient Storage';\n\t\t508 'Loop Detected';\n\t\t510 'Not Extended';\n\t\t511 'Network Authentication Required';\n\t\tdefault 'Oppos, Something is wrong';\n    }\n}\n\n")])])]),e("p",[t._v("in the "),e("code",[t._v("/etc/nginx/nginxconfig.io/general.conf")]),t._v(" file, put code as following also create file: "),e("code",[t._v("error.html")]),t._v(" in directory: "),e("code",[t._v("/www/_error")]),t._v(":")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("error_page 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 421 422 423 424 426 428 429 431 451 500 501 502 503 504 505 506 507 508 510 511 /error.html;\n\nlocation = /error.html {\n  ssi on;\n  internal;\n  root /www/_error;\n}\n\n")])])]),e("h2",{attrs:{id:"配置内网映射"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置内网映射"}},[t._v("#")]),t._v(" 配置内网映射")]),t._v(" "),e("h3",{attrs:{id:"frps-服务端配置脚本-frps-ini"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#frps-服务端配置脚本-frps-ini"}},[t._v("#")]),t._v(" frps 服务端配置脚本 "),e("code",[t._v("frps.ini")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[common]\nbind_port = 7000\n\n# 配置frps面板\ndashboard_port = 7500\ndashboard_user = alterhu2020\ndashboard_pwd = guchan1026\n \n")])])]),e("h2",{attrs:{id:"文档备份"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文档备份"}},[t._v("#")]),t._v(" 文档备份")]),t._v(" "),e("p",[t._v("备份文档脚本：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(" sudo tar -zcvf backup-20200420.tar.gz /etc/profile /www/ /etc/nginx/ /etc/letsencrypt/ /etc/mysql/mysql.conf.d/mysqld.cnf /etc/redis/redis.conf\n\n")])])])],1)}),[],!1,null,null,null);n.default=r.exports}}]);