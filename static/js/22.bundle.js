webpackJsonp([22,44],{'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-721cfe9d","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/ProjectFundReport.vue':function(t,e){},'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-c0efaa10","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/PanoContractProjectAdd.vue':function(t,e){},"./src/components/ProjectFundReport.vue":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("./node_modules/vux/src/components/scroller/index.vue"),i=o("./src/utils/StringUtils.js"),s=(r.a,Object,Array,{name:"ProjectFundReport",components:{Scroller:r.a},data:function(){return{currentDetail:this.detail,currentWorkflows:this.workflows}},props:{detail:{type:Object,default:function(){return{partya:"",partyb:"",contractname:"",contractnumber:"",department:"",applydate:"",price:"",reason:"",note:""}}},workflows:{type:Array,default:function(){return[{title:"",key:"",name:"",signature:"",status:"",reason:""},{title:"",key:"",name:"",signature:"",status:"",reason:""},{title:"",key:"",name:"",signature:"",status:"",reason:""}]}}},watch:{detail:function(t){t&&(this.currentDetail=t)},workflows:function(t){t&&(this.currentWorkflows=t)}},computed:{uppercaseprice:function(){return Object(i.b)(this.currentDetail.price)}},methods:{}}),l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"report"}},[t.currentDetail.partyb?o("p",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","font-size":"10.5pt","line-height":"200%",margin:"0pt 0pt 10pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}},[t._v(t._s(t.currentDetail.partyb))])]):t._e(),t._v(" "),t._m(0),t._v(" "),o("div",{staticStyle:{"text-align":"center"}},[o("table",{staticStyle:{"border-collapse":"collapse",margin:"0 auto"},attrs:{cellspacing:"0",cellpadding:"0"}},[o("tr",{staticStyle:{height:"29.95pt"}},[t._m(1),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"1.5pt","padding-left":"0.75pt","padding-right":"0.38pt","vertical-align":"bottom"},attrs:{colspan:"3"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt"}},[t._v(t._s(t.currentDetail.contractname))])])]),t._v(" "),t._m(2),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"1.5pt","vertical-align":"bottom"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt"}},[t._v(t._s(t.currentDetail.contractnumber))])])])]),t._v(" "),o("tr",{staticStyle:{height:"29.95pt"}},[t._m(3),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"1pt","padding-left":"0.75pt","padding-right":"0.38pt","padding-top":"0.25pt","vertical-align":"bottom"},attrs:{colspan:"3"}},[o("p",{staticStyle:{margin:"0pt 0pt 0pt 7.5pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"12pt"}},[t._v(t._s(t.currentDetail.department))])])]),t._v(" "),t._m(4),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"1pt","vertical-align":"bottom"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"12pt"}},[t._v(t._s(t.currentDetail.applydate))])])])]),t._v(" "),o("tr",{staticStyle:{height:"29.45pt"}},[t._m(5),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"1pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","padding-left":"0.75pt","padding-top":"0.38pt","vertical-align":"middle"},attrs:{colspan:"6"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify","text-indent":"63pt",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"9pt"}},[t._v("大写：\n                          ")]),o("span",{staticStyle:{"font-family":"宋体","font-size":"9pt"}}),o("span",{staticStyle:{"font-family":"宋体","font-size":"9pt"}},[t._v(t._s(t.uppercaseprice)+"\n                          ")]),o("span",{staticStyle:{"font-family":"宋体","font-size":"9pt"}}),o("span",{staticStyle:{"font-family":"宋体","font-size":"9pt"}},[t._v("\n                              ￥："+t._s(t.currentDetail.price))]),o("span",{staticStyle:{"font-family":"宋体","font-size":"9pt","font-style":"normal","text-decoration":"none"}})])])]),t._v(" "),o("tr",{staticStyle:{height:"183.7pt"}},[t._m(6),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"double","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"1pt","padding-left":"0.38pt","padding-top":"0.25pt","vertical-align":"bottom"},attrs:{colspan:"7"}},[t._m(7),t._v(" "),t._m(8),t._v(" "),o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt"}},[t._v(t._s(t.currentDetail.reason))])]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13)])]),t._v(" "),t._l(t.currentWorkflows,function(e,r){return r>=1&&r<t.currentWorkflows.length-1?o("tr",{key:r,staticStyle:{height:"28.25pt"}},[1===r?o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"double","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"double","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","vertical-align":"middle"},attrs:{rowspan:t.currentWorkflows.length-2}},[t._m(14,!0)]):t._e(),t._v(" "),o("td",{staticStyle:{"border-left-color":"#000000","border-left-style":"double","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","padding-right":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[t._v(t._s(e.title?e.title:"签字部门"))])])]),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","padding-left":"0.75pt","vertical-align":"bottom"},attrs:{colspan:"5"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}},[t._v(t._s(e.reason?e.reason:""))]),o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}}),o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}}),o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}},[t._v("签名：")]),e&&e.signature?o("img",{staticStyle:{"-aw-left-pos":"0pt","-aw-rel-hpos":"column","-aw-rel-vpos":"paragraph","-aw-top-pos":"0pt","-aw-wrap-type":"inline"},attrs:{src:e.signature,width:"120",height:"25",alt:"没有签名"}}):t._e(),o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}})])])]):t._e()}),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),o("tr",{staticStyle:{height:"26.4pt"}},[t._m(19),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","vertical-align":"middle"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt","font-weight":"bold"}},[t._v(t._s(t.currentWorkflows[t.currentWorkflows.length-1]?t.currentWorkflows[t.currentWorkflows.length-1].reason:""))]),t._v(" "),t.currentWorkflows[t.currentWorkflows.length-1]&&t.currentWorkflows[t.currentWorkflows.length-1].signature?o("img",{staticStyle:{"-aw-left-pos":"0pt","-aw-rel-hpos":"column","-aw-rel-vpos":"paragraph","-aw-top-pos":"0pt","-aw-wrap-type":"inline"},attrs:{src:t.currentWorkflows[t.currentWorkflows.length-1].signature,width:"200",height:"34",alt:"没有签名"}}):t._e()])]),t._v(" "),t._m(20),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","vertical-align":"middle"},attrs:{colspan:"2"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt"}},[t._v(t._s(t.currentWorkflows[t.currentWorkflows.length-1]?t.currentWorkflows[t.currentWorkflows.length-1].reason:""))]),t._v(" "),t.currentWorkflows[t.currentWorkflows.length-1]&&t.currentWorkflows[t.currentWorkflows.length-1].signature?o("img",{staticStyle:{"-aw-left-pos":"0pt","-aw-rel-hpos":"column","-aw-rel-vpos":"paragraph","-aw-top-pos":"0pt","-aw-wrap-type":"inline"},attrs:{src:t.currentWorkflows[t.currentWorkflows.length-1].signature,width:"200",height:"34",alt:"没有签名"}}):t._e()])])]),t._v(" "),o("tr",{staticStyle:{height:"41.7pt"}},[t._m(21),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"double","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","vertical-align":"middle"},attrs:{colspan:"7"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}},[t._v(t._s(t.currentDetail.note))])])])]),t._v(" "),t._m(22)],2)]),t._v(" "),t._m(23)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticStyle:{margin:"0pt",orphans:"0","page-break-after":"avoid","page-break-inside":"avoid","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"16pt","font-weight":"bold"}},[this._v("工程（劳务）请款报告")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"1.5pt","padding-right":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("工程/合同名称")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"1.5pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("合同编号")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"1pt","padding-right":"0.38pt","padding-top":"0.25pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("申请单位")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"1pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("申请日期")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"1pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","padding-right":"0.38pt","padding-top":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("请款金额")]),e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"double","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","padding-right":"0.38pt","padding-top":"0.75pt","vertical-align":"middle"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("情况理由")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticStyle:{margin:"0pt",orphans:"0","page-break-after":"avoid","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"15pt","font-weight":"bold"}},[this._v(" ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticStyle:{margin:"0pt",orphans:"0","page-break-after":"avoid","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"15pt","font-weight":"bold"}},[this._v(" ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt"}},[this._v(" ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt"}},[this._v(" ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticStyle:{margin:"0pt",orphans:"0","page-break-after":"avoid","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"15pt","font-weight":"bold"}},[this._v(" ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticStyle:{margin:"0pt",orphans:"0","page-break-after":"avoid","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"15pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-family":"宋体","font-size":"15pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-family":"宋体","font-size":"15pt","font-weight":"bold"}},[this._v("申请单位")]),e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"15pt","font-weight":"bold"}},[this._v(": (")]),e("span",{staticStyle:{"font-family":"宋体","font-size":"15pt","font-weight":"bold"}},[this._v("盖章")]),e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"15pt","font-weight":"bold"}},[this._v(")")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}},[this._v("（明确合同履行情况、工程进度完成情况及符合合同哪项付款条件）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("项目工程部意见")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",{staticStyle:{height:"30.05pt"}},[o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"double","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"double","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","vertical-align":"middle"},attrs:{rowspan:"3"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[t._v("合同预算室")])])]),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"double","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","padding-right":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[t._v("申请金额及")]),o("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt","font-weight":"bold"}},[t._v("%")])])]),t._v(" "),o("td",{staticStyle:{"border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","padding-left":"0.75pt","padding-right":"0.38pt","vertical-align":"middle"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"12pt","font-weight":"bold"}},[t._v(" ")])])]),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","padding-left":"0.75pt","padding-right":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[t._v("经办人")])])]),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","padding-left":"0.75pt","vertical-align":"middle"},attrs:{colspan:"2"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticStyle:{height:"30.05pt"}},[e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"double","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","padding-right":"0.38pt","padding-top":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"12pt","font-weight":"bold"}},[this._v("合同金额")])])]),this._v(" "),e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","padding-left":"0.75pt","padding-right":"0.38pt","padding-top":"0.38pt","vertical-align":"middle"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"12pt","font-weight":"bold"}},[this._v(" ")])])]),this._v(" "),e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"double","border-bottom-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","padding-left":"0.75pt","padding-right":"0.38pt","padding-top":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2",rowspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("部门主管")])])]),this._v(" "),e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","padding-left":"0.75pt","padding-top":"0.75pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticStyle:{height:"30.05pt"}},[e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"double","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"double","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","padding-right":"0.38pt","padding-top":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("已付金额及")]),e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt","font-weight":"bold"}},[this._v("%")])])]),this._v(" "),e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"double","border-bottom-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","padding-left":"0.75pt","padding-right":"0.38pt","padding-top":"0.38pt","vertical-align":"middle"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"12pt","font-weight":"bold"}},[this._v(" ")])])]),this._v(" "),e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"double","border-bottom-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","padding-left":"0.75pt","padding-top":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt"}},[this._v(" ")])])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",{staticStyle:{height:"35.3pt"}},[o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"double","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","vertical-align":"middle"},attrs:{rowspan:"2"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[t._v("公司领导")])])]),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"double","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","padding-right":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[t._v("工程总监")])])]),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","vertical-align":"middle"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt","font-weight":"bold"}},[t._v(" ")])])]),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","vertical-align":"middle"},attrs:{colspan:"2"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[o("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[t._v("财务总监")])])]),t._v(" "),o("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"0.75pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","vertical-align":"middle"},attrs:{colspan:"2"}},[o("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[o("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt"}},[t._v(" ")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"double","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","padding-right":"0.38pt","padding-top":"0.38pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("总经理")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"0.75pt","border-right-color":"#000000","border-right-style":"solid","border-right-width":"0.75pt","border-top-color":"#000000","border-top-style":"solid","border-top-width":"0.75pt","vertical-align":"middle"},attrs:{colspan:"2"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("总经理")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"border-bottom-color":"#000000","border-bottom-style":"solid","border-bottom-width":"1.5pt","border-left-color":"#000000","border-left-style":"solid","border-left-width":"1.5pt","border-right-color":"#000000","border-right-style":"double","border-right-width":"1.5pt","border-top-color":"#000000","border-top-style":"double","border-top-width":"1.5pt","vertical-align":"middle"}},[e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"center",widows:"0"}},[e("span",{staticStyle:{"font-family":"宋体","font-size":"10.5pt","font-weight":"bold"}},[this._v("备注")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticStyle:{height:"0pt"}},[e("td",{staticStyle:{width:"27.9pt",border:"none"}}),this._v(" "),e("td",{staticStyle:{width:"62.8pt",border:"none"}}),this._v(" "),e("td",{staticStyle:{width:"43.8pt",border:"none"}}),this._v(" "),e("td",{staticStyle:{width:"154.25pt",border:"none"}}),this._v(" "),e("td",{staticStyle:{width:"46.2pt",border:"none"}}),this._v(" "),e("td",{staticStyle:{width:"25.8pt",border:"none"}}),this._v(" "),e("td",{staticStyle:{width:"27pt",border:"none"}}),this._v(" "),e("td",{staticStyle:{width:"106.4pt",border:"none"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{margin:"0pt",orphans:"0","text-align":"justify",widows:"0"}},[e("span",{staticStyle:{"font-family":"'Times New Roman'","font-size":"10.5pt"}},[this._v(" ")])])}]};var a=o("./node_modules/vue-loader/lib/component-normalizer.js")(s,l,!1,function(t){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-721cfe9d","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/ProjectFundReport.vue')},"data-v-721cfe9d",null);e.default=a.exports},"./src/pages/PanoContractProjectAdd.vue":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("./node_modules/babel-runtime/core-js/object/assign.js"),i=o.n(r),s=o("./node_modules/vux/src/components/swipeout/swipeout.vue"),l=o("./node_modules/vux/src/components/swipeout/swipeout-item.vue"),a=o("./node_modules/vux/src/components/swipeout/swipeout-button.vue"),n=o("./node_modules/vux/src/components/load-more/index.vue"),d=o("./node_modules/vux/src/components/flexbox/flexbox.vue"),c=o("./node_modules/vux/src/components/flexbox/flexbox-item.vue"),p=o("./node_modules/vux/src/components/spinner/index.vue"),h=o("./node_modules/vux/src/components/datetime/index.vue"),b=o("./node_modules/vux/src/components/x-textarea/index.vue"),f=o("./node_modules/vux/src/components/search/index.vue"),u=o("./node_modules/vux/src/components/checklist/index.vue"),m=o("./node_modules/vux/src/components/group-title/index.vue"),w=o("./node_modules/vux/src/components/badge/index.vue"),g=o("./node_modules/vux/src/components/flow/flow.vue"),v=o("./node_modules/vux/src/components/flow/flow-state.vue"),y=o("./node_modules/vux/src/components/flow/flow-line.vue"),_=o("./node_modules/vux/src/components/msg/index.vue"),x=o("./node_modules/vux/src/components/x-img/index.vue"),S=o("./src/utils/DateUtils.js"),k=o("./src/api/index.js"),D=o("./node_modules/vue-feather-icons/dist/vue-feather-icons.es.js"),j=o("./src/utils/StoreUtils.js"),$=o("./src/webconfig.js"),z=o("./src/utils/StringUtils.js"),W=o("./src/utils/ElectronUtils.js"),M=o("./src/components/ProjectFundReport.vue"),R=o("./src/utils/PlatformUtils.js"),B=o("./src/utils/PrintUtils.js"),C=(M.default,s.a,l.a,a.a,n.a,d.a,c.a,p.a,h.a,b.a,D.d,f.a,u.a,m.a,w.a,g.a,v.a,y.a,_.a,x.a,{name:"PanoContractMaterialAdd",components:{ProjectFundReport:M.default,Swipeout:s.a,SwipeoutItem:l.a,SwipeoutButton:a.a,LoadMore:n.a,Flexbox:d.a,FlexboxItem:c.a,Spinner:p.a,Datetime:h.a,XTextarea:b.a,PlusIcon:D.d,Search:f.a,Checklist:u.a,GroupTitle:m.a,Badge:w.a,Flow:g.a,FlowState:v.a,FlowLine:y.a,Msg:_.a,XImg:x.a},data:function(){return{fundtype:4,customerdata:null,contracts:[],showAddBtn:!0,shouldHover:!0,showMaterialProgressDlg:!1,progressWorkflows:[],showDraftDlg:!1,drafts:[],isDraft:!1,addMaterialDlgTitle:"新建工程请款单",showAddMaterialRequestDlg:!1,showAddMaterialSubmit:!0,report:{partya:"",partyb:"",contractname:"",contractnumber:"",department:"",applydate:"",price:"",reason:"",note:""},selectWorkflowName:"请选择",showWorkflowDlg:!1,searchWorkflowResults:[],searcWorkflowhModel:"",storeWorkflows:[],workflows:[],workflowsModel:[],disabledSaveDraftBtn:!1,contractid:null,previewReportDlg:!1,showTodoBtn:!0,previewDetail:{},previewWorkflows:[],defaultPreviewWorkflows:[{title:"",key:"",name:"",signature:"",status:"",reason:""},{title:"",key:"",name:"",signature:"",status:"",reason:""},{title:"",key:"",name:"",signature:"",status:"",reason:""}],showSubscrible:!1,subscribleBtns:[],disabledTodoBtn:!1}},computed:{caclprice:function(){return this.report.price}},watch:{caclprice:function(t){t&&(this.report.reason="截止到"+this.report.applydate+",按照合同之规定，应付款额 元，申请款额"+t+"元。")}},methods:{backSubscrible:function(){Object(R.b)()?Object(W.b)():Object(W.a)()},subscribleGongzhonghao:function(){Object(R.b)()?window.location.href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzU4MzU3MzMxOQ==&scene=126&subscene=0#wechat_redirect":this.$vux.toast.show({time:3e3,text:"暂不支持桌面版操作！"})},printReport:function(){Object(B.a)(this,"report",this.$route.fullPath)},updateContract:function(t){this.showAddMaterialRequestDlg=!0,this.showAddBtn=!1,this.isDraft=!1,this.contractid=t.ContractId,this.addMaterialDlgTitle="工程请款单修改",this.report={partya:t.PartyA,partyb:t.PartyB,contractname:t.ContractName,contractnumber:t.ContractNumber,department:t.Department,applydate:t.ApplyDate,price:t.Price,reason:t.Reason,note:t.Note},this.workflowsModel=[t.WorkflowId.toString()],this.fetchWorkflows()},deleteContract:function(t,e){var o=this;this.contractid=t.ContractId,this.$vux.confirm.show({hideOnBlur:!0,title:"确认删除工程请款单提示",content:"确认继续删除请款单操作?",onCancel:function(){},onConfirm:function(){o.$vux.loading.show({text:"正在删除中..."});var t="/mcontract/del/"+o.contractid;k.b.delete(t).then(function(t){o.$vux.loading.hide(),1e3===t.data.code?(o.$vux.toast.show({text:"删除工程请款单成功!",time:3e3}),o.contracts.splice(e,1)):o.$vux.toast.show({type:"warn",text:"删除工程请款单失败，请重试!",time:3e3})}).catch(function(t){o.$vux.loading.hide(),o.showAddMaterialSubmit=!0,alert("无法获取对应的信息"+t)})}})},showContractDetail:function(t){this.showMaterialProgressDlg=!0,this.showAddBtn=!1,this.contractid=t.ContractId,this.fetchContractDetailByContractId(this.contractid)},showDraftDlgHandle:function(){this.showDraftDlg=!0,this.showAddBtn=!1,this.fetchDrafts()},deleteDraft:function(t,e){var o=this,r=t.DraftId;this.$vux.confirm.show({hideOnBlur:!0,title:"确认删除草稿工程请款单提示",content:"确认继续删除草稿请款单操作?",onCancel:function(){},onConfirm:function(){o.$vux.loading.show({text:"正在删除中..."}),k.b.delete("/mcontract/drafts/del/"+r).then(function(t){o.$vux.loading.hide(),1e3===t.data.code?(o.$vux.toast.show({text:"删除草稿工程请款单成功!",time:3e3}),o.drafts.splice(e,1)):o.$vux.toast.show({type:"warn",text:"删除草稿工程请款单失败，请重试!",time:3e3})}).catch(function(t){o.$vux.loading.hide(),alert("无法获取对应的信息"+t)})}})},showDraftDetail:function(t){this.showAddMaterialRequestDlg=!0,this.showAddBtn=!1,this.isDraft=!0,this.contractid=t.ContractId,this.addMaterialDlgTitle="修改草稿工程请款单",this.report={partya:t.PartyA,partyb:t.PartyB,contractname:t.ContractName,contractnumber:t.ContractNumber,department:t.Department,applydate:t.ApplyDate,price:t.Price,reason:t.Reason,note:t.Note},this.workflowsModel=[t.WorkflowId.toString()],console.log(),this.fetchWorkflows()},addMaterialDlgHandle:function(){this.showAddMaterialRequestDlg=!0,this.showAddBtn=!1,this.isDraft=!1,this.contractid=null,this.addMaterialDlgTitle="新建工程请款单",this.report={partya:"",partyb:"",contractname:"",contractnumber:"",department:"",applydate:Object(S.b)("YYYY-MM-DD"),price:"",reason:"截止到"+Object(S.b)("YYYY-MM-DD")+",按照合同之规定，应付款额 元，申请款额0.00元。",note:""},this.fetchWorkflows()},handleAddMaterialRequest:function(){var t=this;if(1===this.workflowsModel.length)if(""!==this.report.contractname)if(""!==this.report.contractnumber)if(""!==this.report.department)if(""!==this.report.applydate)if(""!==this.report.price){this.showAddMaterialSubmit=!1,this.$vux.loading.show({text:"正在保存信息..."});var e={type:this.fundtype,draft:this.isDraft,contractid:this.contractid,userid:this.customerdata.userid,workflowid:this.workflowsModel[0],report:this.report};k.b.post("/mcontract/add",e).then(function(e){t.$vux.loading.hide();var o=e.data.code;1e3===o?Object(W.b)():1008===e.data.code?(t.showSubscrible=!0,t.$vux.toast.show({time:5e3,text:"工程请款单提交成功!"})):1009===o?(t.showAddMaterialSubmit=!0,t.$vux.toast.show({type:"warn",time:5e3,text:"已经存在该请款单不能重复提交!"})):t.showAddMaterialSubmit=!0}).catch(function(e){t.$vux.loading.hide(),t.showAddMaterialSubmit=!0,alert("无法获取对应的信息"+e)})}else this.$vux.toast.show({type:"warn",time:3e3,text:"请款单的金额不能为空!"});else this.$vux.toast.show({type:"warn",time:3e3,text:"申请日期不能为空!"});else this.$vux.toast.show({type:"warn",time:3e3,text:"申请单位不能为空!"});else this.$vux.toast.show({type:"warn",time:3e3,text:"合同编号不能为空!"});else this.$vux.toast.show({type:"warn",time:3e3,text:"工程/合同名称不能为空!"});else this.$vux.toast.show({type:"warn",time:3e3,text:"签字流不能为空!"})},previewReport:function(){var t=this;this.previewReportDlg=!0;var e={partya:this.report.partya,partyb:this.report.partyb,contractname:this.report.contractname,contractnumber:this.report.contractnumber,department:this.report.department,applydate:this.report.applydate,price:this.report.price,reason:this.report.reason,note:this.report.note};this.previewDetail=i()({},this.previewDetail,e),this.previewWorkflows=[],this.defaultPreviewWorkflows.forEach(function(e){t.previewWorkflows.push(e)})},saveDraftReport:function(){var t=this;if(1===this.workflowsModel.length){this.disabledSaveDraftBtn=!0,this.$vux.loading.show({text:"正在保存信息..."});var e={type:this.fundtype,userid:this.customerdata.userid,workflowid:this.workflowsModel[0],report:this.report};k.b.post("/mcontract/drafts/add",e).then(function(e){t.disabledSaveDraftBtn=!1,t.$vux.loading.hide();var o=e.data.code;1e3===o?(t.showAddMaterialRequestDlg=!1,t.showDraftDlgHandle()):1008===o&&t.$vux.toast.show({type:"warn",time:5e3,text:"已经存在该请款单不能重复提交!"})}).catch(function(e){t.$vux.loading.hide(),t.disabledSaveDraftBtn=!1,alert("无法获取对应的信息"+e)})}else this.$vux.toast.show({type:"warn",time:3e3,text:"签字流不能为空!"})},hideReportDate:function(){this.report.applydate=""},showWorkflowDlgHandle:function(){this.showWorkflowDlg=!0},searchWorkflowFocus:function(){this.searchWorkflowResults=[]},inputWorkflowSearchChange:function(t){var e=this;this.searchWorkflowResults=[],this.workflows.forEach(function(o){Object(z.c)(o.value,t)&&e.searchWorkflowResults.push({title:o.value,other:o.key})})},clickWorkflowSearchResult:function(t){var e=this.workflows.filter(function(e){return e.value===t.title});this.workflows=[e[0].key]},cancelWorkflowSearch:function(){this.workflows=this.storeWorkflows},workflowChecklistChange:function(t,e){this.selectWorkflowName=0<t.length?e[0]:"请选择"},fetchWorkflows:function(){var t=this;this.storeWorkflows=[],k.b.get("/workflow/"+this.customerdata.companyid).then(function(e){1e3===e.data.code&&(e.data.data.forEach(function(e){var o=e.WorkflowId.toString(),r=e.Name;null!==t.contractid||t.isDraft||e.UserId!==t.customerdata.userid||(t.workflowsModel.push(o),r+="(默认签字流)"),t.storeWorkflows.push({key:o,value:r})}),t.workflows=t.storeWorkflows)}).catch(function(t){alert("获取签字流列表出错! "+t)})},fetchContracts:function(){var t=this;this.$vux.loading.show({text:"正在加载中..."}),k.b.get("/mcontract/"+this.fundtype+"/"+this.customerdata.userid).then(function(e){t.$vux.loading.hide(),1e3===e.data.code&&(t.contracts=e.data.data)}).catch(function(e){t.$vux.loading.hide(),alert("获取合同列表报错： "+e)})},fetchDrafts:function(){var t=this;this.$vux.loading.show({text:"正在加载中..."}),k.b.get("/mcontract/drafts/"+this.fundtype+"/"+this.customerdata.userid).then(function(e){t.$vux.loading.hide(),1e3===e.data.code&&(t.drafts=e.data.data)}).catch(function(e){t.$vux.loading.hide(),alert("获取合同草稿报错： "+e)})},fetchContractDetailByContractId:function(t){var e=this;this.$vux.loading.show({text:"正在加载中..."}),k.b.get("/mcontract/audit/"+t).then(function(t){if(e.$vux.loading.hide(),1e3===t.data.code){var o=t.data.data;e.previewWorkflows=[],e.previewDetail=i()({},e.previewDetail,o.detail),o.workflows.forEach(function(t){e.previewWorkflows.push(t)}),e.showTodoBtn=!e.previewWorkflows.every(function(t){return!0===t.isdone})}}).catch(function(t){e.$vux.loading.hide(),alert("获取合同草稿报错： "+t)})},todoContract:function(){var t=this;this.$vux.loading.show({text:"提交数据中..."}),this.disabledTodoBtn=!0,k.b.put("/mcontract/todo/"+this.fundtype+"/"+this.contractid).then(function(e){if(t.$vux.loading.hide(),t.disabledTodoBtn=!1,1e3===e.data.code){var o=e.data.data.name;t.$vux.toast.show({time:4e3,text:"催办请款单审批人"+(o||"")+"成功!"})}else if(1008===e.data.code){t.showSubscrible=!0;var r=e.data.data.name;t.$vux.toast.show({time:4e3,text:"催办请款单审批人"+(r||"")+"成功!"})}else t.$vux.toast.show({time:4e3,type:"warn",text:"催办请款单审批人失败，请稍后重试!"})}).catch(function(e){t.$vux.loading.hide(),t.disabledTodoBtn=!1,alert("获取合同草稿报错： "+e)})}},mounted:function(){this.$store.dispatch("UpdateShowHeader",!1),this.$store.dispatch("UpdateShowTabbar",!1);var t=j.a.get($.a.StoreUserInfoKey);t&&(this.customerdata=t.customerdata),this.fetchContracts()}}),A={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("x-header",{staticStyle:{width:"100%"},attrs:{slot:"header","left-options":{showBack:!0,backText:"返回",preventGoBack:!0},title:"工程请款单"},on:{"on-click-back":function(e){t.$router.push({name:"pcontract"})}},slot:"header"},[o("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"right"},on:{click:t.showDraftDlgHandle},slot:"right"},[t._v("\n        我的草稿\n     ")])]),t._v(" "),o("group-title",[t._v("我的工程请款审批单列表")]),t._v(" "),o("div",[t.contracts.length>0?o("swipeout",t._l(t.contracts,function(e,r){return o("swipeout-item",{key:r,attrs:{threshold:.5,"underlay-color":"#ccc"}},[1006!==e.StatusId&&1002!==e.StatusId?o("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[o("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(o){t.deleteContract(e,r)}}},[t._v("删除")])],1):t._e(),t._v(" "),1002===e.StatusId?o("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[o("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(o){t.updateContract(e,r)}}},[t._v("修改")])],1):t._e(),t._v(" "),o("div",{staticClass:"project-content vux-1px-tb",attrs:{slot:"content"},slot:"content"},[o("cell",{attrs:{"is-link":""},nativeOn:{click:function(o){t.showContractDetail(e)}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("span",{staticStyle:{"vertical-align":"middle"}},[1002===e.StatusId?o("badge",{staticStyle:{"background-color":"#b21523"},attrs:{text:"拒办作废"}}):1004==e.StatusId?o("badge",{staticStyle:{"background-color":"#dfb320"},attrs:{text:e.Status}}):o("badge",{staticStyle:{"background-color":"#0bb20c"},attrs:{text:e.Status}}),t._v("\n                 【"+t._s(e.UserId===t.customerdata.userid?"我提交的":"我审批的")+"】合同名称: "+t._s(e.ContractName)+",合同编号: "+t._s(e.ContractNumber))],1)]),t._v(" "),o("span",{attrs:{slot:"inline-desc"},slot:"inline-desc"},[t._v("\n              申请部门: "+t._s(e.Department)+", 申请款额: "+t._s(e.Price)+"元, 申请日期: "+t._s(e.ApplyDate)+", 申请人: "+t._s(e.ApplyName)+"\n            ")])])],1)])})):o("div",[o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("load-more",{attrs:{"show-loading":!1,tip:"没有任何工程请款单,点击新建工程请款单!","background-color":"#fbf9fe"}}),t._v(" "),o("flexbox",[o("flexbox-item",{attrs:{span:4}}),t._v(" "),o("flexbox-item",{attrs:{span:8}},[o("x-button",{attrs:{type:"primary","action-type":"button",mini:""},nativeOn:{click:function(e){return t.addMaterialDlgHandle(e)}}},[t._v("新建工程请款单\n          ")])],1),t._v(" "),o("flexbox-item",{attrs:{span:1}})],1)],1)],1),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddBtn,expression:"showAddBtn"}],staticClass:"fixbtn",class:[{hover:t.shouldHover}],on:{mouseenter:function(e){t.shouldHover=!0},mouseleave:function(e){t.shouldHover=!1},click:t.addMaterialDlgHandle}},[t._t("default",[o("plus-icon",{staticStyle:{color:"white"}})])],2),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%",position:"bottom","show-mask":""},model:{value:t.showMaterialProgressDlg,callback:function(e){t.showMaterialProgressDlg=e},expression:"showMaterialProgressDlg"}},[o("x-header",{attrs:{title:"请款单状态明细","left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(e){t.showMaterialProgressDlg=!1,t.showAddBtn=!0}}},[t.showAddMaterialSubmit?o("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"right"},on:{click:function(e){t.previewReportDlg=!0}},slot:"right"},[t._v("\n           预览\n        ")]):o("spinner",{attrs:{slot:"right",type:"android",size:"28px"},slot:"right"})],1),t._v(" "),o("div",[o("flexbox",[o("flexbox-item",{attrs:{span:9}},[o("group-title",{staticStyle:{"font-size":"14px !important"}},[t._v(" 当前请款单签字状态明细")])],1),t._v(" "),1006!==t.previewDetail.status&&1002!==t.previewDetail.status?o("flexbox-item",[o("x-button",{directives:[{name:"show",rawName:"v-show",value:t.showTodoBtn,expression:"showTodoBtn"}],attrs:{type:"primary",gradients:["#6F1BFE","#9479DF"],mini:"",disabled:t.disabledTodoBtn},nativeOn:{click:function(e){return t.todoContract(e)}}},[t._v("催办")])],1):t._e()],1),t._v(" "),t.previewWorkflows.length>0?o("flow",{staticStyle:{height:"400px","margin-left":"-210px"},attrs:{orientation:"vertical"}},[t._l(t.previewWorkflows,function(e,r){return[o("flow-state",{key:r+"state",attrs:{state:r+1,"is-done":""}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(e.title+"("+e.name+")"))])]),t._v(" "),o("flow-line",{key:r+"line",attrs:{"is-done":e.isdone,tip:e.status,"tip-direction":"right"}})]}),t._v(" "),o("flow-state",{key:t.previewWorkflows.length+"done",attrs:{state:"","is-done":""}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("请款审批完成")])])],2):t._e()],1)],1)],1),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%",position:"bottom","show-mask":""},model:{value:t.showDraftDlg,callback:function(e){t.showDraftDlg=e},expression:"showDraftDlg"}},[o("x-header",{attrs:{title:"我的草稿工程请款单","left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(e){t.showDraftDlg=!1,t.showAddBtn=!0}}}),t._v(" "),o("div",[o("group-title",[t._v("我的草稿工程请款单列表")]),t._v(" "),t.drafts.length>0?o("swipeout",t._l(t.drafts,function(e,r){return o("swipeout-item",{key:r,attrs:{threshold:.5,"underlay-color":"#ccc"}},[o("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[o("swipeout-button",{attrs:{type:"warn"},nativeOn:{click:function(o){t.deleteDraft(e,r)}}},[t._v("删除")])],1),t._v(" "),o("div",{staticClass:"project-content vux-1px-tb",attrs:{slot:"content"},slot:"content"},[o("cell",{attrs:{"is-link":""},nativeOn:{click:function(o){t.showDraftDetail(e)}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("span",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                 合同名称: "+t._s(e.ContractName)+",合同编号: "+t._s(e.ContractNumber))])]),t._v(" "),o("span",{attrs:{slot:"inline-desc"},slot:"inline-desc"},[t._v("\n              申请部门: "+t._s(e.Department)+", 申请日期: "+t._s(e.ApplyDate)+", 申请人: "+t._s(e.ApplyName)+"\n            ")])])],1)])})):o("div",[o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("load-more",{attrs:{"show-loading":!1,tip:"没有任何草稿工程请款单,点击新建工程请款单!","background-color":"#fbf9fe"}}),t._v(" "),o("flexbox",[o("flexbox-item",{attrs:{span:4}}),t._v(" "),o("flexbox-item",{attrs:{span:8}},[o("x-button",{attrs:{type:"primary","action-type":"button",mini:""},nativeOn:{click:function(e){return t.addMaterialDlgHandle(e)}}},[t._v("新建工程请款单\n              ")])],1),t._v(" "),o("flexbox-item",{attrs:{span:1}})],1)],1)],1)],1)],1),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%",position:"bottom","show-mask":""},model:{value:t.showAddMaterialRequestDlg,callback:function(e){t.showAddMaterialRequestDlg=e},expression:"showAddMaterialRequestDlg"}},[o("x-header",{attrs:{title:t.addMaterialDlgTitle,"left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(e){t.showAddMaterialRequestDlg=!1,t.showAddBtn=!0}}},[t.showAddMaterialSubmit?o("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"right"},on:{click:t.handleAddMaterialRequest},slot:"right"},[t._v("\n           提交审批\n        ")]):o("spinner",{attrs:{slot:"right",type:"android",size:"28px"},slot:"right"})],1),t._v(" "),o("div",[o("group",{attrs:{title:t.isDraft||null===t.contractid?"请选择请款单签字流":"设置的请款单签字流"}},[t.isDraft||null===t.contractid?o("cell",{attrs:{title:"选择一个签字流","inline-desc":"签字流表示当前的审批单的签字流程",value:t.selectWorkflowName,"is-link":""},nativeOn:{click:function(e){t.showWorkflowDlg=!0}}}):o("cell",{attrs:{title:"请款单签字流名称(不可修改)",value:t.selectWorkflowName}})],1),t._v(" "),o("group",{attrs:{title:"工程请款单信息"}},[o("x-input",{attrs:{title:"工程/合同名称",placeholder:"请输入合同名称"},model:{value:t.report.contractname,callback:function(e){t.$set(t.report,"contractname",e)},expression:"report.contractname"}}),t._v(" "),o("x-input",{attrs:{title:"合同编号",placeholder:"请输入合同编号"},model:{value:t.report.contractnumber,callback:function(e){t.$set(t.report,"contractnumber",e)},expression:"report.contractnumber"}}),t._v(" "),o("x-input",{attrs:{title:"申请单位",placeholder:"请输入申请单位"},model:{value:t.report.department,callback:function(e){t.$set(t.report,"department",e)},expression:"report.department"}}),t._v(" "),o("datetime",{attrs:{format:"YYYY-MM-DD",title:"申请日期",placeholder:"请输入申请日期","min-year":2018},on:{"on-cancel":t.hideReportDate},model:{value:t.report.applydate,callback:function(e){t.$set(t.report,"applydate",e)},expression:"report.applydate"}}),t._v(" "),o("x-input",{attrs:{title:"请款金额",placeholder:"请输入请款金额"},model:{value:t.report.price,callback:function(e){t.$set(t.report,"price",e)},expression:"report.price"}})],1),t._v(" "),o("group",{attrs:{title:"请款的情况和理由"}},[o("x-textarea",{attrs:{placeholder:"请输入请款的情况和理由","show-counter":"",rows:6,max:500},model:{value:t.report.reason,callback:function(e){t.$set(t.report,"reason",e)},expression:"report.reason"}})],1),t._v(" "),o("group",{attrs:{title:"备注"}},[o("x-textarea",{attrs:{placeholder:"请输入额外的备注信息","show-counter":"",rows:3,max:500},model:{value:t.report.note,callback:function(e){t.$set(t.report,"note",e)},expression:"report.note"}})],1),t._v(" "),o("group",[o("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.previewReport(e)}}},[t._v("预览")]),t._v(" "),t.isDraft?t._e():o("x-button",{attrs:{type:"primary",disabled:t.disabledSaveDraftBtn},nativeOn:{click:function(e){return t.saveDraftReport(e)}}},[t._v("保存为草稿")])],1)],1)],1)],1),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%",position:"bottom","show-mask":""},model:{value:t.showWorkflowDlg,callback:function(e){t.showWorkflowDlg=e},expression:"showWorkflowDlg"}},[o("x-header",{attrs:{title:"当前公司签字流列表","left-options":{showBack:!0,preventGoBack:!0}},on:{"on-click-back":function(e){t.showWorkflowDlg=!1}}}),t._v(" "),o("div",[t.workflows.length>0?o("div",[o("search",{ref:"search",attrs:{placeholder:"输入要过滤的签字流名称",position:"absolute","auto-scroll-to-top":"",top:"46px",results:t.searchWorkflowResults},on:{"on-focus":t.searchWorkflowFocus,"on-change":t.inputWorkflowSearchChange,"on-result-click":t.clickWorkflowSearchResult,"on-cancel":t.cancelWorkflowSearch},model:{value:t.searcWorkflowhModel,callback:function(e){t.searcWorkflowhModel=e},expression:"searcWorkflowhModel"}}),t._v(" "),o("checklist",{attrs:{title:"选择一个签字流(已经选择"+t.workflowsModel.length+"个)",required:"",options:t.workflows,max:1},on:{"on-change":t.workflowChecklistChange},model:{value:t.workflowsModel,callback:function(e){t.workflowsModel=e},expression:"workflowsModel"}}),t._v(" "),o("br"),t._v(" "),o("span",[t._v("没有找到你要的签字流? 试试 "),o("x-button",{staticStyle:{width:"128px"},attrs:{mini:"",type:"primary"},nativeOn:{click:function(e){t.$router.push({name:"pcontractworkflow"})}}},[t._v("新建签字流")])],1)],1):o("div",[o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("load-more",{attrs:{"show-loading":!1,tip:"没有签字流数据！"}}),t._v(" "),o("flexbox",[o("flexbox-item"),t._v(" "),o("flexbox-item",[o("x-button",{attrs:{type:"primary","action-type":"button",mini:""},nativeOn:{click:function(e){t.$router.push({name:"pcontractworkflow"})}}},[t._v("新建签字流\n              ")])],1),t._v(" "),o("flexbox-item")],1)],1)])],1)],1),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%",position:"bottom","show-mask":""},model:{value:t.previewReportDlg,callback:function(e){t.previewReportDlg=e},expression:"previewReportDlg"}},[o("x-header",{attrs:{"left-options":{showBack:!0,backText:"返回",preventGoBack:!0},title:"工程请款报告预览"},on:{"on-click-back":function(e){t.previewReportDlg=!1}}},[o("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"right"},on:{click:t.printReport},slot:"right"},[t._v("\n        打印\n     ")])]),t._v(" "),o("project-fund-report",{attrs:{detail:t.previewDetail,workflows:t.previewWorkflows}})],1)],1),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"100%"},model:{value:t.showSubscrible,callback:function(e){t.showSubscrible=e},expression:"showSubscrible"}},[o("x-header",{attrs:{"left-options":{showBack:!0,preventGoBack:!0},title:"关注公众号提示"},on:{"on-click-back":t.backSubscrible}}),t._v(" "),o("msg",{attrs:{title:"操作成功",description:"",buttons:t.subscribleBtns,icon:"success"}},[o("div",{attrs:{slot:"description"},slot:"description"},[o("span",[t._v("您可以关注公众号"),o("b",[t._v("“美丽乡村游”")]),t._v("实时获取审批单最新状态!")]),t._v(" "),o("x-img",{attrs:{src:"./static/img/qrcode.jpg","default-src":"/pano/static/img/qrcode.jpg"}})],1)])],1)],1)],1)},staticRenderFns:[]};var N=o("./node_modules/vue-loader/lib/component-normalizer.js")(C,A,!1,function(t){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-c0efaa10","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/PanoContractProjectAdd.vue')},"data-v-c0efaa10",null);e.default=N.exports}});