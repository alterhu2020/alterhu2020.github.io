webpackJsonp([2],{'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-13407bbe","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/PanoUpload.vue':function(e,t){},'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-1773f218","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/WeixinUploader.vue':function(e,t){},'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-279ecb04","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/cell-box/index.vue':function(e,t){},'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-79b35668","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/inline-loading/index.vue':function(e,t){},'./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-a128dd32","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/range/index.vue':function(e,t){},"./node_modules/jsonp/index.js":function(e,t,o){var n=o("./node_modules/jsonp/node_modules/debug/src/browser.js")("jsonp");e.exports=function(e,t,o){"function"==typeof t&&(o=t,t={});t||(t={});var a,r,l=t.prefix||"__jp",d=t.name||l+s++,u=t.param||"callback",c=null!=t.timeout?t.timeout:6e4,p=encodeURIComponent,m=document.getElementsByTagName("script")[0]||document.head;c&&(r=setTimeout(function(){h(),o&&o(new Error("Timeout"))},c));function h(){a.parentNode&&a.parentNode.removeChild(a),window[d]=i,r&&clearTimeout(r)}return window[d]=function(e){n("jsonp got",e),h(),o&&o(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+u+"="+p(d)).replace("?&","?"),n('jsonp req "%s"',e),(a=document.createElement("script")).src=e,m.parentNode.insertBefore(a,m),function(){window[d]&&h()}};var s=0;function i(){}},"./node_modules/jsonp/node_modules/debug/src/browser.js":function(e,t,o){(function(n){function s(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=Object({NODE_ENV:"production",BUILD_DATETIME:"2019-03-27 23:10:26"}).DEBUG),e}(t=e.exports=o("./node_modules/jsonp/node_modules/debug/src/debug.js")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var o=this.useColors;if(e[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+e[0]+(o?"%c ":" ")+"+"+t.humanize(this.diff),!o)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var s=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++s)}),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=s,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,o("./node_modules/process/browser.js"))},"./node_modules/jsonp/node_modules/debug/src/debug.js":function(e,t,o){var n;function s(e){function o(){if(o.enabled){var e=o,s=+new Date,i=s-(n||s);e.diff=i,e.prev=n,e.curr=s,n=s;for(var a=new Array(arguments.length),r=0;r<a.length;r++)a[r]=arguments[r];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(o,n){if("%%"===o)return o;l++;var s=t.formatters[n];if("function"==typeof s){var i=a[l];o=s.call(e,i),a.splice(l,1),l--}return o}),t.formatArgs.call(e,a),(o.log||t.log||console.log.bind(console)).apply(e,a)}}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=function(e){var o,n=0;for(o in e)n=(n<<5)-n+e.charCodeAt(o),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(o),o}(t=e.exports=s.debug=s.default=s).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var o=("string"==typeof e?e:"").split(/[\s,]+/),n=o.length,s=0;s<n;s++)o[s]&&("-"===(e=o[s].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var o,n;for(o=0,n=t.skips.length;o<n;o++)if(t.skips[o].test(e))return!1;for(o=0,n=t.names.length;o<n;o++)if(t.names[o].test(e))return!0;return!1},t.humanize=o("./node_modules/ms/index.js"),t.names=[],t.skips=[],t.formatters={}},"./node_modules/ms/index.js":function(e,t){var o=1e3,n=60*o,s=60*n,i=24*s,a=365.25*i;function r(e,t,o){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+o:Math.ceil(e/t)+" "+o+"s"}e.exports=function(e,t){t=t||{};var l,d=typeof e;if("string"===d&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*a;case"days":case"day":case"d":return r*i;case"hours":case"hour":case"hrs":case"hr":case"h":return r*s;case"minutes":case"minute":case"mins":case"min":case"m":return r*n;case"seconds":case"second":case"secs":case"sec":case"s":return r*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===d&&!1===isNaN(e))return t.long?r(l=e,i,"day")||r(l,s,"hour")||r(l,n,"minute")||r(l,o,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=s)return Math.round(e/s)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=o)return Math.round(e/o)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"./node_modules/vux/src/components/cell-box/index.vue":function(e,t,o){"use strict";var n=o("./node_modules/vux/src/libs/router.js"),s=(Boolean,String,Object,Boolean,Boolean,String,{name:"cell-box",props:{isLink:Boolean,link:[String,Object],borderIntent:{type:Boolean,default:!0},noFlex:Boolean,alignItems:String},computed:{style:function(){if(this.alignItems)return{"align-items":this.alignItems}},className:function(){return{"vux-tap-active":this.isLink||!!this.link,"weui-cell_access":this.isLink||!!this.link,"vux-cell-no-border-intent":!this.borderIntent}}},methods:{onClick:function(){this.link&&Object(n.b)(this.link,this.$router)}}}),i={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-cell-box weui-cell",class:this.className,style:this.style,on:{click:this.onClick}},[this._t("default")],2)},staticRenderFns:[]};var a=o("./node_modules/vue-loader/lib/component-normalizer.js")(s,i,!1,function(e){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-279ecb04","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/cell-box/index.vue')},null,null);t.a=a.exports},"./node_modules/vux/src/components/range/index.vue":function(e,t,o){"use strict";var n=o("./node_modules/vux/src/components/range/utils.js"),s=n.findClosest,i=n.getWidth,a=n.percentage,r=o("./node_modules/vux/src/components/range/lib/classes.js"),l=o("./node_modules/vux/src/components/range/lib/mouse.js"),d=o("./node_modules/vux/src/components/range/lib/events.js");function u(e,t){this.element=e,this.options=t||{},this.slider=this.create("span","range-bar"),this.hasAppend=!1,null!==this.element&&"text"===this.element.type&&this.init(),this.options.step&&this.step(this.slider.offsetWidth||this.options.initialBarWidth,i(this.handle)),this.setStart(this.options.start)}u.prototype.setStart=function(e){var t=null===e?this.options.min:e,o=a.from(t-this.options.min,this.options.max-this.options.min)||0,n=a.of(o,this.slider.offsetWidth-this.handle.offsetWidth),i=this.options.step?s(n,this.steps):n;this.setPosition(i),this.setValue(this.handle.style.left,this.slider.offsetWidth-this.handle.offsetWidth)},u.prototype.setStep=function(){this.step(i(this.slider)||this.options.initialBarWidth,i(this.handle))},u.prototype.setPosition=function(e){this.handle.style.left=e+"px",this.slider.querySelector(".range-quantity").style.width=e+"px"},u.prototype.onmousedown=function(e){this.options.onTouchstart(e),e.touches&&(e=e.touches[0]),this.startX=e.clientX,this.handleOffsetX=this.handle.offsetLeft,this.restrictHandleX=this.slider.offsetWidth-this.handle.offsetWidth,this.unselectable(this.slider,!0)},u.prototype.changeEvent=function(){if("function"!=typeof Event&&document.fireEvent)this.element.fireEvent("onchange");else{var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),this.element.dispatchEvent(e)}},u.prototype.onmousemove=function(e){e.preventDefault(),e.touches&&(e=e.touches[0]);var t=this.handleOffsetX+e.clientX-this.startX,o=this.steps?s(t,this.steps):t;0>=t?this.setPosition(0):t>=this.restrictHandleX?this.setPosition(this.restrictHandleX):this.setPosition(o),this.setValue(this.handle.style.left,this.slider.offsetWidth-this.handle.offsetWidth)},u.prototype.unselectable=function(e,t){r(this.slider).has("unselectable")||!0!==t?r(this.slider).remove("unselectable"):r(this.slider).add("unselectable")},u.prototype.onmouseup=function(e){this.options.onTouchend(e),this.unselectable(this.slider,!1)},u.prototype.disable=function(e){(this.options.disable||e)&&(this.mouse.unbind(),this.touch.unbind()),this.options.disable&&(this.options.disableOpacity&&(this.slider.style.opacity=this.options.disableOpacity),r(this.slider).add("range-bar-disabled"))},u.prototype.init=function(){this.hide(),this.append(),this.bindEvents(),this.checkValues(this.options.start),this.setRange(this.options.min,this.options.max),this.disable()},u.prototype.reInit=function(e){this.options.start=e.value,this.options.min=e.min,this.options.max=e.max,this.options.step=e.step,this.disable(!0),this.init()},u.prototype.checkStep=function(e){return 0>e&&(e=Math.abs(e)),this.options.step=e,this.options.step},u.prototype.setValue=function(e,t){var o=Math.round,n=a.from(parseFloat(e),t);if("0px"===e||0===t)s=this.options.min;else{var s=a.of(n,this.options.max-this.options.min)+this.options.min;(s=this.options.decimal?o(100*s)/100:o(s))>this.options.max&&(s=this.options.max)}var i;i=this.element.value!==s,this.element.value=s,this.options.callback(s),i&&this.changeEvent()},u.prototype.checkValues=function(e){e<this.options.min&&(this.options.start=this.options.min),e>this.options.max&&(this.options.start=this.options.max),this.options.min>=this.options.max&&(this.options.min=this.options.max)},u.prototype.step=function(e,t){for(var o=e-t,n=a.from(this.checkStep(this.options.step),this.options.max-this.options.min),s=a.of(n,o),i=[],r=0;r<=o;r+=s)i.push(r);this.steps=i;for(var l=10;0<=l;l--)this.steps[i.length-l]=o-s*l;return this.steps},u.prototype.create=function(e,t){var o=document.createElement(e);return o.className=t,o},u.prototype.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},u.prototype.setRange=function(e,t){"number"!=typeof e||"number"!=typeof t||this.options.hideRange||(this.slider.querySelector(".range-min").innerHTML=this.options.minHTML||e,this.slider.querySelector(".range-max").innerHTML=this.options.maxHTML||t)},u.prototype.generate=function(){var e={handle:{type:"span",selector:"range-handle"},min:{type:"span",selector:"range-min"},max:{type:"span",selector:"range-max"},quantity:{type:"span",selector:"range-quantity"}};for(var t in e)if(e.hasOwnProperty(t)){var o=this.create(e[t].type,e[t].selector);this.slider.appendChild(o)}return this.slider},u.prototype.append=function(){if(!this.hasAppend){var e=this.generate();this.insertAfter(this.element,e)}this.hasAppend=!0},u.prototype.hide=function(){this.element.style.display="none"},u.prototype.bindEvents=function(){this.handle=this.slider.querySelector(".range-handle"),this.touch=d(this.handle,this),this.touch.bind("touchstart","onmousedown"),this.touch.bind("touchmove","onmousemove"),this.touch.bind("touchend","onmouseup"),this.mouse=l(this.handle,this),this.mouse.bind()};var c={callback:function(){},decimal:!1,disable:!1,disableOpacity:null,hideRange:!1,min:0,max:100,start:null,step:null,vertical:!1},p=function(e,t){for(var o in t=t||{},c)null==t[o]&&(t[o]=c[o]);return new u(e,t)},m=(Boolean,Number,Number,String,String,Number,Number,Boolean,Number,Number,Number,{name:"range",props:{decimal:Boolean,value:{default:0,type:Number},min:{type:Number,default:0},minHTML:String,maxHTML:String,max:{type:Number,default:100},step:{type:Number,default:1},disabled:Boolean,disabledOpacity:Number,rangeBarHeight:{type:Number,default:1},rangeHandleHeight:{type:Number,default:30}},created:function(){this.currentValue=this.value},mounted:function(){var e=this,t=this;this.$nextTick(function(){var o={callback:function(e){t.currentValue=e},decimal:e.decimal,start:e.currentValue,min:e.min,max:e.max,minHTML:e.minHTML,maxHTML:e.maxHTML,disable:e.disabled,disabledOpacity:e.disabledOpacity,initialBarWidth:window.getComputedStyle(e.$el.parentNode).width.replace("px","")-80,onTouchstart:function(e){t.$emit("on-touchstart",e)},onTouchend:function(e){t.$emit("on-touchend",e)}};0!==e.step&&(o.step=e.step),e.range=new p(e.$el.querySelector(".vux-range-input"),o);var n=(e.rangeHandleHeight-e.rangeBarHeight)/2;e.$el.querySelector(".range-handle").style.top="-"+n+"px",e.$el.querySelector(".range-bar").style.height=e.rangeBarHeight+"px",e.handleOrientationchange=function(){e.update()},window.addEventListener("orientationchange",e.handleOrientationchange,!1)})},methods:{update:function(){console.log("update",this.currentValue);var e=this.currentValue;e<this.min&&(e=this.min),e>this.max&&(e=this.max),this.range.reInit({min:this.min,max:this.max,step:this.step,value:e}),this.currentValue=e,this.range.setStart(this.currentValue),this.range.setStep()}},data:function(){return{currentValue:0}},watch:{currentValue:function(e){this.range&&this.range.setStart(e),this.$emit("input",e),this.$emit("on-change",e)},value:function(e){this.currentValue=e},min:function(){this.update()},step:function(){this.update()},max:function(){this.update()}},beforeDestroy:function(){window.removeEventListener("orientationchange",this.handleOrientationchange,!1)}}),h={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vux-range-input-box",staticStyle:{position:"relative","margin-right":"30px","margin-left":"50px"}},[o("input",{directives:[{name:"model",rawName:"v-model.number",value:e.currentValue,expression:"currentValue",modifiers:{number:!0}}],staticClass:"vux-range-input",domProps:{value:e.currentValue},on:{input:function(t){t.target.composing||(e.currentValue=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])},staticRenderFns:[]};var f=o("./node_modules/vue-loader/lib/component-normalizer.js")(m,h,!1,function(e){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-a128dd32","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/range/index.vue')},null,null);t.a=f.exports},"./node_modules/vux/src/components/range/lib/classes.js":function(e,t,o){var n=o("./node_modules/vux/src/components/range/utils.js").indexof,s=/\s+/,i=Object.prototype.toString;function a(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~n(t,e)||t.push(e),this.el.className=t.join(" "),this},a.prototype.remove=function(e){if("[object RegExp]"===i.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),o=n(t,e);return~o&&t.splice(o,1),this.el.className=t.join(" "),this},a.prototype.removeMatching=function(e){for(var t=this.array(),o=0;o<t.length;o++)e.test(t[o])&&this.remove(t[o]);return this},a.prototype.toggle=function(e,t){return this.list?(void 0===t?this.list.toggle(e):t!==this.list.toggle(e,t)&&this.list.toggle(e),this):(void 0===t?this.has(e)?this.remove(e):this.add(e):t?this.add(e):this.remove(e),this)},a.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(s);return""===e[0]&&e.shift(),e},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~n(this.array(),e)}},"./node_modules/vux/src/components/range/lib/closest.js":function(e,t,o){var n=o("./node_modules/vux/src/components/range/lib/matches-selector.js");e.exports=function(e,t,o){for(o=o||document.documentElement;e&&e!==o;){if(n(e,t))return e;e=e.parentNode}return n(e,t)?e:null}},"./node_modules/vux/src/components/range/lib/delegate.js":function(e,t,o){var n=o("./node_modules/vux/src/components/range/lib/closest.js"),s=o("./node_modules/vux/src/components/range/lib/event.js");t.bind=function(e,t,o,i,a){return s.bind(e,o,function(o){var s=o.target||o.srcElement;o.delegateTarget=n(s,t,!0,e),o.delegateTarget&&i.call(e,o)},a)},t.unbind=function(e,t,o,n){s.unbind(e,t,o,n)}},"./node_modules/vux/src/components/range/lib/emitter.js":function(e,t){function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function o(){this.off(e,o),t.apply(this,arguments)}return o.fn=t,this.on(e,o),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},!arguments.length)return this._callbacks={},this;var o=this._callbacks["$"+e];if(!o)return this;if(1===arguments.length)return delete this._callbacks["$"+e],this;for(var n,s=0;s<o.length;s++)if((n=o[s])===t||n.fn===t){o.splice(s,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),o=this._callbacks["$"+e];if(o)for(var n=0,s=(o=o.slice(0)).length;n<s;++n)o[n].apply(this,t);return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"./node_modules/vux/src/components/range/lib/event.js":function(e,t){t.bind=function(e,t,o,n){var s=window.addEventListener?"addEventListener":"attachEvent",i="addEventListener"==s?"":"on";return e[s](i+t,o,n||!1),o},t.unbind=function(e,t,o,n){var s="addEventListener"==(window.addEventListener?"addEventListener":"attachEvent")?"":"on";return e[window.removeEventListener?"removeEventListener":"detachEvent"](s+t,o,n||!1),o}},"./node_modules/vux/src/components/range/lib/events.js":function(e,t,o){var n=o("./node_modules/vux/src/components/range/lib/event.js"),s=o("./node_modules/vux/src/components/range/lib/delegate.js");function i(e,t){if(!(this instanceof i))return new i(e,t);if(!e)throw new Error("element required");if(!t)throw new Error("object required");this.el=e,this.obj=t,this._events={}}e.exports=i,i.prototype.sub=function(e,t,o){this._events[e]=this._events[e]||{},this._events[e][t]=o},i.prototype.bind=function(e,t){var o=function(e){var t=e.split(/ +/);return{name:t.shift(),selector:t.join(" ")}}(e),i=this.el,a=this.obj,r=o.name;t=t||"on"+r;var l=[].slice.call(arguments,2),d=function(){var e=[].slice.call(arguments).concat(l);a[t].apply(a,e)};return o.selector?d=s.bind(i,o.selector,r,d):n.bind(i,r,d),this.sub(r,t,d),d},i.prototype.unbind=function(e,t){if(0===arguments.length)return this.unbindAll();if(1===arguments.length)return this.unbindAllOf(e);var o=this._events[e];if(o){var s=o[t];s&&n.unbind(this.el,e,s)}},i.prototype.unbindAll=function(){for(var e in this._events)this.unbindAllOf(e)},i.prototype.unbindAllOf=function(e){var t=this._events[e];if(t)for(var o in t)this.unbind(e,o)}},"./node_modules/vux/src/components/range/lib/matches-selector.js":function(e,t,o){var n=o("./node_modules/vux/src/components/range/lib/query.js"),s={};"undefined"!=typeof window&&(s=window.Element.prototype);var i=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector;e.exports=function(e,t){if(!e||1!==e.nodeType)return!1;if(i)return i.call(e,t);for(var o=n.all(t,e.parentNode),s=0;s<o.length;++s)if(o[s]===e)return!0;return!1}},"./node_modules/vux/src/components/range/lib/mouse.js":function(e,t,o){var n=o("./node_modules/vux/src/components/range/lib/emitter.js"),s=o("./node_modules/vux/src/components/range/lib/event.js");function i(e,t){this.obj=t||{},this.el=e}e.exports=function(e,t){return new i(e,t)},n(i.prototype),i.prototype.bind=function(){function e(i){o.onmouseup&&o.onmouseup(i),s.unbind(document,"mousemove",t),s.unbind(document,"mouseup",e),n.emit("up",i)}function t(e){o.onmousemove&&o.onmousemove(e),n.emit("move",e)}var o=this.obj,n=this;return n.down=function(i){o.onmousedown&&o.onmousedown(i),s.bind(document,"mouseup",e),s.bind(document,"mousemove",t),n.emit("down",i)},s.bind(this.el,"mousedown",n.down),this},i.prototype.unbind=function(){s.unbind(this.el,"mousedown",this.down),this.down=null}},"./node_modules/vux/src/components/range/lib/query.js":function(e,t){(t=e.exports=function(e,t){return function(e,t){return t.querySelector(e)}(e,t=t||document)}).all=function(e,t){return(t=t||document).querySelectorAll(e)},t.engine=function(e){if(!e.one)throw new Error(".one callback required");if(!e.all)throw new Error(".all callback required");return t.all=e.all,t}},"./node_modules/vux/src/components/range/utils.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"indexof",function(){return n}),o.d(t,"findClosest",function(){return s}),o.d(t,"getWidth",function(){return i}),o.d(t,"percentage",function(){return a});var n=function(e,t){if(e.indexOf)return e.indexOf(t);for(var o=0;o<e.length;++o)if(e[o]===t)return o;return-1},s=function(e,t){for(var o=Math.abs,n=null,s=t[0],i=0;i<t.length;i++)n=o(e-s),o(e-t[i])<n&&(s=t[i]);return s};function i(e){var t=window.getComputedStyle(e,null).width;return"100%"===t||"auto"===t?0:parseInt(t,10)}var a={isNumber:function(e){return"number"==typeof e},of:function(e,t){if(a.isNumber(e)&&a.isNumber(t))return e/100*t},from:function(e,t){if(a.isNumber(e)&&a.isNumber(t))return e/t*100}}},"./src/components/WeixinUploader.vue":function(e,t,o){"use strict";var n=o("./node_modules/babel-runtime/helpers/slicedToArray.js"),s=o.n(n),i=o("./node_modules/babel-runtime/core-js/object/entries.js"),a=o.n(i),r=o("./node_modules/babel-runtime/core-js/json/stringify.js"),l=o.n(r),d=o("./node_modules/vux/src/components/flexbox/flexbox.vue"),u=o("./node_modules/vux/src/components/flexbox/flexbox-item.vue"),c=o("./node_modules/vux/src/components/previewer/index.vue"),p={render:function(){var e=this.$createElement;return(this._self._c||e)("i",{staticClass:"weui-loading"})},staticRenderFns:[]};var m=o("./node_modules/vue-loader/lib/component-normalizer.js")({name:"inline-loading"},p,!1,function(e){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-79b35668","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/vux/src/components/inline-loading/index.vue')},null,null).exports,h=o("./src/api/index.js"),f=(d.a,u.a,c.a,Array,Boolean,Boolean,Boolean,String,Number,Function,Function,Function,String,Object,Number,Boolean,{name:"WeixinUploader",components:{Flexbox:d.a,FlexboxItem:u.a,Previewer:c.a,InlineLoading:m},model:{prop:"images",event:"change"},props:{images:{type:Array,default:function(){return[]}},readonly:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!1},showUploadIcon:{type:Boolean,default:!1},title:{type:String,default:"图片上传"},max:{type:Number,default:20},beforeUpload:Function,onSuccess:Function,onRemoveImage:Function,url:{type:String,required:!0},data:{type:Object,default:function(){return{}}},span:{type:Number,default:4},preview:{type:Boolean,default:!0}},data:function(){return{loading:!1}},watch:{loading:function(e){e||(this.$refs.file.value="")}},methods:{onChooseImage:function(){if(this.images.length>=this.max)this.$vux.toast.show({text:"最多上传"+this.max+"个图片! "});else{var e=this;this.$device.isWechat?this.$wechat.chooseImage({count:1,sizeType:["original"],sourceType:["album"],success:function(t){var o=t.localIds[0];if(-1!==o.indexOf("wxlocalresource")&&(o=o.replace("wxlocalresource","wxLocalResource")),console.log("选择图片的第一张图片id是: "+o),e.beforeUpload&&"function"==typeof e.beforeUpload){var n=e.beforeUpload(o);n&&n.then?n.then(function(){e.uploadImage(o)}).catch(function(){e.onRemoveImage(null,o)}):!1===n?e.onRemoveImage(null,o):e.uploadImage(o)}else e.uploadImage(o)},cancel:function(){console.log("取消了选择图片操作!")},fail:function(e){alert("相机打开发生故障，请重试,错误代码:"+l()(e))}}):this.$vux.toast.show({type:"warn",time:6e3,text:"非法操作，上传文件只能在手机微信端操作！"})}},uploadImage:function(e){var t=this;this.loading=!0,e?setTimeout(function(){t.$wechat.uploadImage({localId:e.toString(),isShowProgressTips:1,success:function(e){var o=e.serverId,n=new FormData;a()(t.data).forEach(function(e){var t=s()(e,2),o=t[0],i=t[1];n.append(o,i)}),n.append("mediaid",o),h.b.post(t.url,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){1e3===e.data.code&&(t.loading=!1,t.onSuccess(e.data,o,t.images))}).catch(function(e){t.loading=!1,alert("调用接口出错: "+l()(e)),t.onError(e,o)})},cancel:function(){t.loading=!1},fail:function(e){t.loading=!1,alert("上传图片错误: "+l()(e))}})},100):t.$vux.toast.show({time:4e3,width:"50em",text:"上传图片LocalId为空!"})},onProgress:function(){this.loading=!0},onPreview:function(e){this.preview&&this.$refs.previewer.show(e)},onError:function(e,t){this.$emit("error",e,t)}}}),v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vux-upload"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showHeader,expression:"showHeader"}],staticClass:"weui-uploader__hd"},[o("div",{staticClass:"weui-uploader__info"},[e._v(e._s(e.title)+"("+e._s(e.images.length)+"/"+e._s(e.max)+")")])]),e._v(" "),o("flexbox",{attrs:{gutter:0,wrap:"wrap"}},[e._l(e.images,function(t,n){return o("flexbox-item",{key:n,attrs:{span:e.span},nativeOn:{click:function(t){e.onPreview(n)}}},[o("div",{staticClass:"vux-upload-bg"},[o("div",{staticClass:"vux-upload-content",style:{backgroundImage:"url("+t.src+")"}},[e.readonly?e._e():o("svg",{staticClass:"vux-x-icon vux-x-icon-ios-close red",attrs:{type:"ios-close",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 512 512"},on:{click:function(o){e.onRemoveImage(n,t.name)}}},[o("path",{staticClass:"st0",attrs:{d:"M403.1 108.9c-81.2-81.2-212.9-81.2-294.2 0s-81.2 212.9 0 294.2c81.2 81.2 212.9 81.2 294.2 0s81.2-213 0-294.2zM352 340.2L340.2 352l-84.4-84.2-84 83.8-11.8-11.8 84-83.8-84-83.8 11.8-11.8 84 83.8 84.4-84.2 11.8 11.8-84.4 84.2 84.4 84.2z"}})])])])])}),e._v(" "),o("flexbox-item",{directives:[{name:"show",rawName:"v-show",value:!e.readonly&&e.images.length<e.max,expression:"!readonly && images.length < max"}],attrs:{span:e.span}},[o("div",{staticClass:"vux-upload-bg"},[o("div",{staticClass:"weui-uploader__input-box vux-upload-content",class:{loading:e.loading}},[o("button",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],ref:"file",staticClass:"weui-uploader__input",staticStyle:{width:"100%",height:"100%"},attrs:{value:"相机/相册"},on:{click:e.onChooseImage}},[e._v("\n            相机/相册\n          ")]),e._v(" "),o("inline-loading",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]})],1)])])],2),e._v(" "),o("previewer",{ref:"previewer",attrs:{list:e.images}})],1)},staticRenderFns:[]};var g=o("./node_modules/vue-loader/lib/component-normalizer.js")(f,v,!1,function(e){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-1773f218","scoped":false,"hasInlineConfig":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/index.js?{"minimize":true,"sourceMap":true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/WeixinUploader.vue')},null,null);t.a=g.exports},"./src/pages/PanoUpload.vue":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("./node_modules/babel-runtime/core-js/promise.js"),s=o.n(n),i=o("./node_modules/babel-runtime/core-js/json/stringify.js"),a=o.n(i),r=o("./node_modules/vux/src/components/cell-box/index.vue"),l=o("./node_modules/vux/src/components/flow/flow.vue"),d=o("./node_modules/vux/src/components/flow/flow-line.vue"),u=o("./node_modules/vux/src/components/flow/flow-state.vue"),c=o("./node_modules/vux/src/components/msg/index.vue"),p=o("./node_modules/vux/src/components/popup/index.vue"),m=o("./node_modules/vux/src/components/popup-radio/index.vue"),h=o("./node_modules/vux/src/components/previewer/index.vue"),f=o("./node_modules/vux/src/components/range/index.vue"),v=o("./node_modules/vux/src/components/x-switch/index.vue"),g=o("./node_modules/vux/src/components/x-textarea/index.vue"),x=o("./src/webconfig.js"),b=o("./src/api/index.js"),y=o("./src/utils/StoreUtils.js"),w=o("./src/components/WeixinUploader.vue"),_=o("./src/components/sticky.js"),j=o("./src/utils/PlatformUtils.js"),S=o("./src/utils/ElectronUtils.js"),k=(g.a,p.a,c.a,l.a,u.a,d.a,v.a,m.a,f.a,r.a,h.a,w.a,_.a,{metaInfo:{title:"VR实景发表"},components:{XTextarea:g.a,Popup:p.a,Msg:c.a,Flow:l.a,FlowState:u.a,FlowLine:d.a,XSwitch:v.a,PopupRadio:m.a,Range:f.a,CellBox:r.a,Previewer:h.a,Uploader:w.a},directives:{sticky:_.a},data:function(){return{showSubmitBtn:!0,disableSubmitBtn:!1,devEnv:!1,logoImages:y.a.get(x.a.StoreLogoImages)?y.a.get(x.a.StoreLogoImages):[],imageUrl:"",uploadLogoUrl:x.a.ApiServerURI+"/v1/upload/file",uploadLogoParams:{type:4},project:{id:0,title:"动态上传"},task:{id:null,date:null},showloading:!1,DisabledPanoImageUpload:!1,uploadPanoTitle:"实景上传提示",maxpanosize:8,panoImages:y.a.get(x.a.StorePanoImages)?y.a.get(x.a.StorePanoImages):[],pano:{codetoken:null,title:y.a.get(x.a.StoreUploadTitle)?y.a.get(x.a.StoreUploadTitle):"",desc:y.a.get(x.a.StoreUploadDesc)?y.a.get(x.a.StoreUploadDesc):"",musicurl:"",speed:8,lng:"",lat:""},openid:null,addressOptions:[],card:null,locationInfo:"当前位置:未知",allowGetLocation:!1,uploadPanoUrl:x.a.ApiServerURI+"/v1/upload/file",uploadMusicFileName:"",panoSceneDetailShow:!1,scene:{title:""},closeSceneFromSubmit:!1,removeFileFromSceneCancel:!1,uploadedFiles:[],showUploadPanoSuccessPage:!1,successBtns:[{type:"primary",text:"查看我的实景",link:{name:"home"}},{type:"default",text:"继续上传",onClick:this.handleContinuePanoButton.bind(this)}]}},computed:{uploadPanoParams:{get:function(){var e,t=y.a.get(x.a.StoreUploadSafeID);e=t||this.pano.codetoken;var o=a()(this.scene);return{codetoken:e,type:2,projectid:this.project.id,data:o}},set:function(){}},uploadPanoMusicParams:{get:function(){return{codetoken:this.pano.codetoken,type:3,projectid:this.project.id,data:null}}},isWeixin:function(){var e=navigator.userAgent||navigator.vendor||window.opera,t=/MicroMessenger/i.test(e);return"miniprogram"===window.__wxjs_environment||t}},methods:{goBackButtonClick:function(){this.$store.dispatch("UpdateShowTabbar",!0),Object(j.b)()?this.$router.go(-1):Object(S.a)()},savePanoTitle:function(){y.a.set(x.a.StoreUploadTitle,this.pano.title)},savePanoDesc:function(){y.a.set(x.a.StoreUploadDesc,this.pano.desc)},getMyLocationInfo:function(e){if(e)if(this.$device.isWechat){var t=this;this.$wechat.getLocation({type:"gcj02",success:function(e){var n=e.latitude,s=e.longitude,i="https://api.map.baidu.com/geocoder/v2/?&location="+n+","+s+"&coordtype=gcj02ll&output=json&pois=0&ak="+x.a.BaiduAK;o("./node_modules/jsonp/index.js")(i,null,function(e,o){if(!e){var n=o.result.formatted_address;t.pano.address=n,t.locationInfo=n.substring(0,25)+"...附近"}}),t.pano.lng=s,t.pano.lat=n},cancel:function(){t.locationinfo="当前位置:未知",t.pano.lng="",t.pano.lat=""},fail:function(e){t.locationinfo="定位失败, "+e.errMsg,alert("微信配置出错"+t.locationinfo)}})}else this.$vux.toast.show({type:"warn",time:6e3,text:"非法操作，定位当前位置只能在手机微信端操作！"});else this.locationInfo="当前位置:未知",this.pano.lat="",this.pano.lng=""},handlePanoImageBeforeUpload:function(){var e=this,t=this;return t.panoSceneDetailShow=!0,t.closeSceneFromSubmit=!1,new s.a(function(o,n){e.DisabledPanoImageUpload=!0;var s=setInterval(function(){t.panoSceneDetailShow||(clearInterval(s),!t.panoSceneDetailShow&&t.closeSceneFromSubmit?o():(t.DisabledPanoImageUpload=!1,t.$vux.toast.show({type:"warn",text:"必须输入场景的名称才能上传对应的实景图片"}),t.removeFileFromSceneCancel=!0,n(new Error("删除问题在场景中"))))},300)})},handlePanoImageUploadSuccess:function(e,t){var o=e.data,n=o.filename;"string"!=typeof t&&(t.dataname=n,this.uploadedFiles.push(t)),this.DisabledPanoImageUpload=!1,y.a.set(x.a.StorePanoCodetoken,o.codetoken),this.pano.codetoken=y.a.get(x.a.StorePanoCodetoken),this.scene.title="",this.removeFileFromSceneCancel=!1;var s="https://static.yitieyilu.com"+o.url;this.panoImages.push({src:s,name:n}),y.a.set(x.a.StorePanoImages,this.panoImages),this.$vux.toast.show({position:"middle",type:"success",text:"上传图片成功"})},handleBeforeImageFileRemove:function(){var e=this,t=this;return new s.a(function(o,n){t.removeFileFromSceneCancel?o():e.$vux.confirm.show({title:t.uploadPanoTitle,content:"确认删除已经上传的实景图片?",onCancel:function(){n(new Error("删除出错"))},onConfirm:function(){o()}})})},handlePanoImageFileRemove:function(e,t){var o=this,n=!1,s="";if("number"==typeof e)this.panoImages.splice(e,1),s=t,n=!0;else if(!this.removeFileFromSceneCancel){var i=this.uploadedFiles.filter(function(t){return t.uid===e.uid}),a=this.uploadedFiles.indexOf(i[0]);this.uploadedFiles.splice(a,1),s=i[0].dataname,n=!0}if(n){var r=x.a.ApiServerURI+"/v1/upload/delete/2/"+this.pano.codetoken+"/"+s;b.b.delete(r).then(function(e){1e3===e.data.code&&o.$vux.toast.show({position:"middle",type:"success",text:"删除实景图片成功"})}).catch(function(e){console.log("删除实景图片失败 "+e)})}},handleExceedUploadSize:function(){this.$vux.alert.show({title:this.uploadPanoTitle,content:"超过了最多上传的文件个数"+this.maxpanosize})},handlePanoImageUploadError:function(e){this.$vux.alert.show({title:"上传实景文件异常提示",content:"上传文件到服务器异常,异常代码: "+e})},submitSceneInfo:function(){this.panoSceneDetailShow=!1,this.closeSceneFromSubmit=!0},handleSubmitPano:function(){var e=this,t=this;if(this.disableSubmitBtn=!0,0<this.panoImages.length){var o="",n=y.a.get(x.a.StoreUserInfoKey),s=x.a.usernamepasswordauth;if(!n)return this.$vux.alert.show({title:"实景制作出错",content:"用户认证失败,稍后再试!"}),void(this.disableSubmitBtn=!1);o=s?n.customerdata.userid:n.openid,this.showloading=!0,this.$vux.loading.show({text:"数据加载中,请勿离开!制作过程可能需要两到三分钟"});var i=y.a.get(x.a.StoreUploadSafeID)?y.a.get(x.a.StoreUploadSafeID):0;this.pano.codetoken=y.a.get(x.a.StorePanoCodetoken);var a={pano:this.pano,openid:o,card:this.card,source:1001,safeid:i,task:this.task,noteinfo:this.noteInfo};b.b.post("/pano/new",a).then(function(o){(t.showloading=!1,1e3===o.data.code)?(o.data.data.ispano?(t.$vux.loading.hide(),t.showUploadPanoSuccessPage=!0):setTimeout(function(){t.$vux.loading.hide(),t.showUploadPanoSuccessPage=!0},5e3),y.a.remove(x.a.StoreUploadTitle),y.a.remove(x.a.StoreUploadDesc),y.a.remove(x.a.StorePanoImages),y.a.remove(x.a.StorePanoCodetoken)):(e.$vux.loading.hide(),t.$vux.toast.show({type:"warn",text:"请确认你上传的图片或者施工日志是否符合要求!"}))}).catch(function(t){e.disableSubmitBtn=!1,console.log(t),e.showloading=!1,e.$vux.loading.hide(),e.$vux.toast.show({type:"warn",text:"系统异常,请稍后重试!"})})}else this.$vux.alert.show({content:"施工全景或静态图片不能为空!"}),this.disableSubmitBtn=!1},handleContinuePanoButton:function(){Object(j.b)()?this.$router.go(-1):Object(S.a)()},oAuthStoreWeixinOpenIdInfo:function(){var e=this,t=this;if(!y.a.get(x.a.StoreUserInfoKey)){var o=this.$route.query.code;if(o&&""!==o)this.$vux.loading.show({text:"数据加载中..."}),b.b.get("/wx/oauthcallback?code="+o+"&userid=").then(function(o){if(e.$vux.loading.hide(),1e3===o.data.code){var n=o.data.data;t.openid=n.openid,console.log("已经正常换取到用户的信息,放在对应的vuex中:"+a()(n)),t.$store.dispatch("UpdateUserSession",n)}else console.log("CALLBACK异常: "+a()(o.data)),t.$vux.toast.show({type:"warn",text:"服务器端数据异常,返回错误码: "+a()(o.data)})}).catch(function(o){e.$vux.loading.hide(),console.log("调用oauth的callback回调失败: "+a()(o)),t.$vux.toast.show({type:"warn",text:"换取accesstoken失败,返回错误码: "+a()(o)}),t.$router.push({path:"/401"})}),console.log("正常case完成");else{var n=encodeURIComponent(window.location.href);location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx62e806a011647d8f&redirect_uri="+n+"&response_type=code&scope=snsapi_userinfo&state=yanzhi#wechat_redirect"}}}},beforeRouteUpdate:function(e,t,o){o()},created:function(){this.$store.dispatch("UpdateLoadingStatus",!0),this.$store.dispatch("UpdateShowHeader",!1);var e=this.$route.query.SafeID,t=this.$route.query.option;e?(y.a.set(x.a.StoreUploadSafeID,e),this.$store.dispatch("UpdateShowTabbar",!1)):t?this.$store.dispatch("UpdateShowTabbar",!0):this.$store.dispatch("UpdateShowTabbar",!1),this.project.id=this.$route.query.projectid,this.task.id=this.$route.query.taskid,this.task.date=this.$route.query.date},mounted:function(){this.$store.dispatch("UpdateLoadingStatus",!1)}}),I={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("x-header",{directives:[{name:"sticky",rawName:"v-sticky",value:{zIndex:100,stickyTop:0,className:"sticky-buttons"},expression:"{ zIndex: 100, stickyTop: 0, className: 'sticky-buttons' }"}],attrs:{slot:"header","left-options":{showBack:!0,preventGoBack:!0},title:e.project.title},on:{"on-click-back":e.goBackButtonClick},slot:"header"},[o("span",{staticStyle:{"font-size":"18px"},attrs:{slot:"right",disable:e.disableSubmitBtn},on:{click:e.handleSubmitPano},slot:"right"},[e._v("\n          发表\n        ")])]),e._v(" "),e.showUploadPanoSuccessPage?o("div",[o("msg",{attrs:{title:"施工动态制作完成!",buttons:e.successBtns,icon:"success"}}),e._v(" "),o("flow",{staticStyle:{height:"250px"},attrs:{orientation:"vertical"}},[o("flow-state",{attrs:{state:"1",title:"上传完成","is-done":""}}),e._v(" "),o("flow-line",{attrs:{"is-done":""}}),e._v(" "),o("flow-state",{attrs:{state:"2",title:"审核"}}),e._v(" "),o("flow-line",{attrs:{tip:"进行中"}}),e._v(" "),o("flow-state",{attrs:{state:"3",title:"审核完成"}})],1)],1):o("div",[o("div",[o("group",[o("x-textarea",{attrs:{max:40,row:3,placeholder:"输入该动态的描述,最多40个字(可选)"},on:{"on-change":e.savePanoDesc},model:{value:e.pano.desc,callback:function(t){e.$set(e.pano,"desc","string"==typeof t?t.trim():t)},expression:"pano.desc"}}),e._v(" "),o("x-switch",{attrs:{title:"显示实景位置","inline-desc":e.locationInfo},on:{"on-change":e.getMyLocationInfo},model:{value:e.allowGetLocation,callback:function(t){e.allowGetLocation=t},expression:"allowGetLocation"}}),e._v(" "),o("cell",{attrs:{title:"实景播放速度","inline-desc":"当前播放速度: "+e.pano.speed+"°/秒",primary:"content"}},[o("range",{attrs:{min:-8,max:45},model:{value:e.pano.speed,callback:function(t){e.$set(e.pano,"speed",t)},expression:"pano.speed"}})],1)],1),e._v(" "),o("group",{attrs:{title:"上传施工照片或者全景照片(只能选一种格式), 全景推荐以开始播放的周边位置为起始点开始拍摄","label-margin-right":"2em","label-align":"justify"}},[e.isWeixin?o("uploader",{attrs:{images:e.panoImages,url:e.uploadPanoUrl,data:e.uploadPanoParams,"before-upload":e.handlePanoImageBeforeUpload,"on-success":e.handlePanoImageUploadSuccess,"on-error":e.handlePanoImageUploadError,"on-remove":e.handlePanoImageFileRemove}}):o("el-upload",{attrs:{disabled:e.DisabledPanoImageUpload,multiple:!1,accept:"image/*","auto-upload":!0,action:e.uploadPanoUrl,data:e.uploadPanoParams,"list-type":"picture-card","before-upload":e.handlePanoImageBeforeUpload,"on-success":e.handlePanoImageUploadSuccess,"on-error":e.handlePanoImageUploadError,"before-remove":e.handleBeforeImageFileRemove,"on-remove":e.handlePanoImageFileRemove,limit:e.maxpanosize,"on-exceed":e.handleExceedUploadSize}},[o("i",{staticClass:"el-icon-plus"})]),e._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{height:"270px","is-transparent":"","hide-on-blur":!1,"popup-style":{zIndex:15888}},model:{value:e.panoSceneDetailShow,callback:function(t){e.panoSceneDetailShow=t},expression:"panoSceneDetailShow"}},[o("div",{staticStyle:{width:"95%","background-color":"#fff",height:"250px",margin:"0 auto","border-radius":"5px","padding-top":"10px"}},[o("group",[o("x-textarea",{attrs:{max:10,placeholder:"输入该实景场景或静态图片的描述标题,最多10个字"},model:{value:e.scene.title,callback:function(t){e.$set(e.scene,"title","string"==typeof t?t.trim():t)},expression:"scene.title"}})],1),e._v(" "),o("div",{staticStyle:{padding:"8px 15px"}},[o("x-button",{attrs:{type:"primary",disabled:0===e.scene.title.length},nativeOn:{click:function(t){return e.submitSceneInfo(t)}}},[e._v("提交\n                ")]),e._v(" "),o("x-button",{nativeOn:{click:function(t){e.panoSceneDetailShow=!1}}},[e._v("取消")])],1)],1)])],1)],1)],1)])],1)},staticRenderFns:[]};var $=o("./node_modules/vue-loader/lib/component-normalizer.js")(k,I,!1,function(e){o('./node_modules/extract-text-webpack-plugin/dist/loader.js?{"omit":1,"remove":true}!./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?{"sourceMap":false}!./node_modules/vue-loader/lib/style-compiler/index.js?{"vue":true,"id":"data-v-13407bbe","scoped":true,"hasInlineConfig":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/PanoUpload.vue')},"data-v-13407bbe",null);t.default=$.exports}});